<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    
    <title>Publicado Ruby 3.0.0 versión previa 1</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta itemprop="image" content="https://www.ruby-lang.org/images/header-ruby-logo@2x.png">
    
    <meta name="description" content="">
    

    <link rel="stylesheet" type="text/css" href="/stylesheets/normalize.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/main.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/pygments.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/mobile.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css">
    <link href='https://fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic,700italic&amp;subset=latin,cyrillic,greek,vietnamese' rel='stylesheet' type='text/css'>
    <link rel="canonical" href="https://www.ruby-lang.org/es/news/2020/09/25/ruby-3-0-0-preview1-released/">

    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    
    <link href="/es/feeds/news.rss" rel="alternate" title="En español" type="application/rss+xml">


    <script type="text/javascript" src="/javascripts/jquery.min.js"></script>
    <script type="text/javascript" src="/javascripts/page.js"></script>
    
  </head>

  

  <body>
    <div id="header">
      <div id="header_content" class="container">
        <a href="/es/">
          <h1>Ruby</h1>
          <h2>El mejor amigo de un desarrollador</h2>
        </a>

        <div class="site-links">
          

  <a href="/es/" class="home">Inicio</a>

  <a href="/es/downloads/">Descargas</a>

  <a href="/es/documentation/">Documentación</a>

  <a href="/es/libraries/">Bibliotecas</a>

  <a href="/es/community/">Comunidad</a>

  <a href="/es/news/">Noticias</a>

  <a href="/es/security/">Seguridad</a>

  <a href="/es/about/">Acerca de Ruby</a>


          <a href="#" class="menu selected">Menu</a>
        </div>

        <div id="search-box">
          
<form id="search-form" action="https://www.google.com/cse">
  <table class="fieldset">
    <tr>
      <td>
        <input class="field" type="text" name="q" size="31" style="background: white url(//www.google.com/coop/intl/es/images/google_custom_search_watermark.gif) left no-repeat" onfocus="this.style.background='white'" onblur="if (/^\s*$/.test(this.value)) this.style.background='white url(//www.google.com/coop/intl/es/images/google_custom_search_watermark.gif) left no-repeat'"/>
      </td>
      <td>
        
        <input type="hidden" name="ie" value="UTF-8" />
        <input class="button" type="submit" name="sa" value="Buscar" />
      </td>
    </tr>
  </table>
</form>

        </div>
      </div>
    </div>

    <div id="page">
      


      <div id="main-wrapper" class="container">
        <div id="main">
          

<div id="content-wrapper">
  
<h1>Publicado Ruby 3.0.0 versión previa 1</h1>



  <div id="content">
    <p class="post-info">Publicado por naruse el 2020-09-25<br>
                         Traducción de vtamara</p>

    <p>Nos complace anunciar la publicación de Ruby 3.0.0-preview1.</p>
<p>Introduce una serie de características nuevas y mejoras en
desempeño.</p>
<h2>RBS</h2>
<p>RBS es un lenguaje para describir los tipos de los programas Ruby.
Los verificadores de tipos,  incluyendo perfiladores de tipos, y otras
herramientas que soporten RBS entenderán mejor los programas
Ruby con definiciones RBS.</p>
<p>Usted puede escribir la definición de clases y módulos: métodos que se
definen en la clase, variables de instancia y sus tipos, y relaciones
herencia/mix-in.
El objetivo de RBS es soportar los patrones que comúnmente se ven
en programas en Ruby y permitir escribir tipos avanzados incluyendo
tipos unión, sobrecarga de métodos y genéricos.
También soporta tipado pato (duck typing) con <em>tipos de interfaz</em>.</p>
<p>Ruby 3.0 se distribuye con la gema <code>rbs</code>, que permite analizar
y procesar definiciones de tipos escritas en RBS.</p>
<p>El siguiente es un pequeño ejemplo de RBS.</p>
<div class="language-rbs highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="rbs">module AplicacionMensajeria
  VERSION: String

  class Channel
    attr_reader nombre: String
    attr_reader mensajes: Array[Mensaje]
    attr_reader usaurios: Array[Usuario | Robot]           # `|` significa tipos unión, `Usuario` or `Robot`.

    def initialize: (String) -&gt; void

    def publicar: (String, de: Usuario | Robot) -&gt; Mensaje # Se soporta sobrecarga de métodos.
            | (File, de: Usuaurio | Robot) -&gt; Mensaje
  end
end
</code></pre></div></div>
<p>Ver más detalles en el
<a href="https://github.com/ruby/rbs">archivo README de la gema rbs</a>.</p>
<h2>Ractor (experimental)</h2>
<p>Un Ractor es una abstracción de concurrencia al estilo Actor-modelo,
diseñada para brindar una forma de ejecución en paralelo sin
preocuparse por la seguridad de los hilos de ejecución.</p>
<p>Puede crear múltiples ractors y puede ejecutarlos en paralelo.
Un Ractor permite hacer programas paralelos con seguridad en los hilos
de ejecución porque los ractors no comparten objetos normales.
La comunicación entre ractors se soporta mediante envío de
mensajes.</p>
<p>Para limitar los objetos que se comparten, Ractor introduce diversas
restricciones a la sintaxis de Ruby (no hay cambio cuando no hay múltiples
Ractors).</p>
<p>La especificación e implementación no es madura y podría cambiar a
futuro, por eso esta característica se señala como experimental
y cuando se crea un Ractor se presenta una advertencia de característica
experimental.</p>
<p>El siguiente pequeño programa calcula <code>prime?</code> en paralelo con dos
ractores y es casi 2 veces más rápido con dos o más núcleos
que el programa secuencial.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="nb">require</span> <span class="s1">'prime'</span>

<span class="c1"># n.prime? con enteros enviados en r1, r2 que corren en paralelo</span>
<span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">2</span><span class="p">).</span><span class="nf">map</span> <span class="k">do</span>
  <span class="no">Ractor</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span>
    <span class="n">n</span> <span class="o">=</span> <span class="no">Ractor</span><span class="p">.</span><span class="nf">recv</span>
    <span class="n">n</span><span class="p">.</span><span class="nf">prime?</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="c1"># send parameters</span>
<span class="n">r1</span><span class="p">.</span><span class="nf">send</span> <span class="mi">2</span><span class="o">**</span><span class="mi">61</span> <span class="o">-</span> <span class="mi">1</span>
<span class="n">r2</span><span class="p">.</span><span class="nf">send</span> <span class="mi">2</span><span class="o">**</span><span class="mi">61</span> <span class="o">+</span> <span class="mi">15</span>

<span class="c1"># wait for the results of expr1, expr2</span>
<span class="nb">p</span> <span class="n">r1</span><span class="p">.</span><span class="nf">take</span> <span class="c1">#=&gt; true</span>
<span class="nb">p</span> <span class="n">r2</span><span class="p">.</span><span class="nf">take</span> <span class="c1">#=&gt; true</span>
</code></pre></div></div>
<p>Ver más detalles en
<a href="https://github.com/ruby/ruby/blob/master/doc/ractor.md">doc/ractor.md</a>.</p>
<h2>Planificador (<strong>Scheduler</strong> Experimental)</h2>
<p>Se introduce <code>Thread#scheduler</code> para interceptar operaciones
que bloquean.  Esto permite una concurrencia liviana sin cambiar el
código existente.</p>
<p>Los métodos y clases que se soportan en el momento son:</p>
<ul>
<li><code>Mutex#lock</code>, <code>Mutex#unlock</code>, <code>Mutex#sleep</code></li>
<li><code>ConditionVariable#wait</code></li>
<li><code>Queue#pop</code>, <code>SizedQueue#push</code></li>
<li><code>Thread#join</code></li>
<li><code>Kernel#sleep</code></li>
<li><code>IO#wait</code>, <code>IO#read</code>, <code>IO#write</code> y métodos relacionados (e.g.
<code>#wait_readable</code>, <code>#gets</code>, <code>#puts</code> y así sucesivamente).</li>
<li><code>IO#select</code> <em>no es soportado</em>.</li>
</ul>
<p>El actual punto de entrada para la concurrencia es
<code>Fiber.schedule{...}</code> sin embargo está sujeto a cambios para
cuando se publique Ruby 3.</p>
<p>En el momento, hay disponible un planificador de prueba en
<a href="https://github.com/socketry/async/pull/56"><code>Async::Scheduler</code></a>.
Ver más detalles en
<a href="https://github.com/ruby/ruby/blob/master/doc/scheduler.md"><code>doc/scheduler.md</code></a>.
[Feature #16786]</p>
<p><strong>ADVERTENCIA</strong>: Esta característica es altamente experimental.
Tanto el nombre como sus características cambiarán en la siguiente
versión prevía.</p>
<h2>Otras características notables</h2>
<ul>
<li>
<p>Se agrega una asignación al lado derecho.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="n">fib</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">x</span>
<span class="nb">p</span> <span class="n">x</span> <span class="c1">#=&gt; 55</span>
</code></pre></div></div>
</li>
<li>
<p>Se agrega una definición de métodos que no requiere <code>end</code>.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="k">def</span> <span class="nf">cuadrado</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span>
</code></pre></div></div>
</li>
<li>
<p>Se agrega un patrón Encontrar (<strong>Find</strong>).</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="k">case</span> <span class="p">[</span><span class="s2">"a"</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">,</span> <span class="s2">"c"</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">"d"</span><span class="p">,</span> <span class="s2">"e"</span><span class="p">,</span> <span class="s2">"f"</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="k">in</span> <span class="p">[</span><span class="o">*</span><span class="n">pre</span><span class="p">,</span> <span class="no">String</span> <span class="o">=&gt;</span> <span class="n">x</span><span class="p">,</span> <span class="no">String</span> <span class="o">=&gt;</span> <span class="n">y</span><span class="p">,</span> <span class="o">*</span><span class="n">post</span><span class="p">]</span>
  <span class="nb">p</span> <span class="n">pre</span>  <span class="c1">#=&gt; ["a", 1]</span>
  <span class="nb">p</span> <span class="n">x</span>    <span class="c1">#=&gt; "b"</span>
  <span class="nb">p</span> <span class="n">y</span>    <span class="c1">#=&gt; "c"</span>
  <span class="nb">p</span> <span class="n">post</span> <span class="c1">#=&gt; [2, "d", "e", "f", 3]</span>
<span class="k">end</span>
</code></pre></div></div>
</li>
<li>
<p><code>Hash#except</code> ahora es un método incorporado.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="n">h</span> <span class="o">=</span> <span class="p">{</span> <span class="ss">a: </span><span class="mi">1</span><span class="p">,</span> <span class="ss">b: </span><span class="mi">2</span><span class="p">,</span> <span class="ss">c: </span><span class="mi">3</span> <span class="p">}</span>
<span class="nb">p</span> <span class="n">h</span><span class="p">.</span><span class="nf">except</span><span class="p">(</span><span class="ss">:a</span><span class="p">)</span> <span class="c1">#=&gt; {:b=&gt;2, :c=&gt;3}</span>
</code></pre></div></div>
</li>
<li>
<p>Se agrega como característica experimental <strong>Memory view</strong></p>
<ul>
<li>Este es un nuevo conjunto de llamados en la API de C para intercambiar
áreas de memoria puras entre las librerías que son extensiones, por
ejemplo para intercambiar un arreglo numérico con un mapa de bits.
Las librerías que son extensiones pueden compartir también los
metadatos del área de memoria que constan de la forma, el formato del
elemento y así sucesivamente.  Usando esta clase de metadatos, las
librerías que son extensiones pueden compartir apropiadamente incluso un
rreglo multidimensional.  Esta nueva característica se diseñó empleando
como referencia el protocolo de colchón (<strong>buffer</strong> ) de Python.</li>
</ul>
</li>
</ul>
<h2>Mejoras en desempeño</h2>
<ul>
<li>Se implemetaron muchas mejoras en MJIT. Ver detalles en el archivo
NEWS.</li>
</ul>
<h2>Otros cambios notables desde 2.7</h2>
<ul>
<li>
<p>Los argumentos de palabra clave se separan de otros argumentos.</p>
<ul>
<li>
<p>En principio, el código que presente una advertencia en Ruby 2.7 no
funcionará.  Ver detalles en la
<a href="https://www.ruby-lang.org/es/news/2019/12/12/separation-of-positional-and-keyword-arguments-in-ruby-3-0/">documentación</a>.</p>
</li>
<li>
<p>Por cierto, el re-envío de argumentos ahora soporta argumentos principales.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="k">def</span> <span class="nf">method_missing</span><span class="p">(</span><span class="n">meth</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
  <span class="nb">send</span><span class="p">(</span><span class="ss">:"do_</span><span class="si">#{</span> <span class="n">meth</span> <span class="si">}</span><span class="ss">"</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div></div>
</li>
</ul>
</li>
<li>
<p>La característica <code>$SAFE</code> se eliminó por completo; ahora es una variable
global normal.</p>
</li>
<li>
<p>El orden de la traza de llamados (<strong>backtrace</strong>) se había revertido para ser
como en Ruby 2.5, pero esto se ha cancelado.  Ahora se comporta como
Ruby 2.4; se imprime primero un mensaje de error y el número de línea donde
ocurrió la excepción; las funciones que había hecho la llamada se imprimen
después.</p>
</li>
<li>
<p>Se actualizaron algunas librerías estándar.</p>
<ul>
<li>RubyGems 3.2.0.rc.1</li>
<li>Bundler 2.2.0.rc.1</li>
<li>IRB 1.2.6</li>
<li>Reline 0.1.5</li>
</ul>
</li>
<li>
<p>Las siguientes librerías ya no son gemas distribuidas con Ruby.
Instale las gemas correspondientes para usar sus funcionalidades.</p>
<ul>
<li>net-telnet</li>
<li>xmlrpc</li>
</ul>
</li>
<li>
<p>Las siguientes gemas por omisión se volvieron gemas distribuidas
con Ruby.</p>
<ul>
<li>rexml</li>
<li>rss</li>
</ul>
</li>
<li>
<p>stdlib se volvió gema por omisión. Las siguientes gemas por omisión
se publicaron en rubygems.org</p>
<ul>
<li>abbrev</li>
<li>base64</li>
<li>English</li>
<li>erb</li>
<li>find</li>
<li>io-nonblock</li>
<li>io-wait</li>
<li>net-ftp</li>
<li>net-http</li>
<li>net-imap</li>
<li>net-protocol</li>
<li>nkf</li>
<li>open-uri</li>
<li>optparse</li>
<li>resolv</li>
<li>resolv-replace</li>
<li>rinda</li>
<li>securerandom</li>
<li>set</li>
<li>shellwords</li>
<li>tempfile</li>
<li>time</li>
<li>tmpdir</li>
<li>tsort</li>
<li>weakref</li>
</ul>
</li>
</ul>
<p>Ver más detalles en el archivo
<a href="https://github.com/ruby/ruby/blob/v3_0_0_preview1/NEWS.md">NEWS</a>
o <a href="https://github.com/ruby/ruby/compare/v2_7_0...v3_0_0_preview1">en la bitácora de contribuciones</a>.</p>
<p>Con estos cambios, <a href="https://github.com/ruby/ruby/compare/v2_7_0...v3_0_0_preview1">3385 archivos cambiados, 150159 inserciones(+), 124949 eliminaciones(-)</a>
desde Ruby 2.7.0!</p>
<p>¡Por favor pruebe Ruby 3.0.0-preview1, y denos cualquier retroalimentación!</p>
<h2>Descargas</h2>
<ul>
<li>
<p><a href="https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.0-preview1.tar.bz2">https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.0-preview1.tar.bz2</a></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SIZE: 15538340
SHA1: 032697f3ace0a697cd72f68bac0032c31a8328d4
SHA256: 013bdc6e859d76d67a6fcd990d401ed57e6e25896bab96d1d0648a877f556dbb
SHA512: 3a6a6458d9c5f06555ab8705160f6b071f4dbe9d2a91cd7848852633657b495c480d74e4b2ff2cebddda556118d26bbb271160c989bc970bb1b5cb234e868d2f
</code></pre></div></div>
</li>
<li>
<p><a href="https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.0-preview1.tar.gz">https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.0-preview1.tar.gz</a></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SIZE: 17747808
SHA1: 2842d2af2568d74c8d4071f5f536889a6b149202
SHA256: ce8bd7534e7ec2a870b24d2145ea20e9bbe5b2d76b7dfa1102dbee5785253105
SHA512: b94892951f842a1538f4b99022606ac2c0b5031f1ede7eef3833a8caa9ed63e9b22868509173bfefb406f263c65211db75597b152b61f49e5ba2a875fce63a27
</code></pre></div></div>
</li>
<li>
<p><a href="https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.0-preview1.tar.xz">https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.0-preview1.tar.xz</a></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SIZE: 12703060
SHA1: 91d9fbe87504924148deeec90199d6ff4d7dcf56
SHA256: aa7cce0c99f4ea2145fef9b78d74a44857754396790cd23bad75d759811e7a2a
SHA512: dca5dcc965c434371947c100864090e29e649e19ae24b8bb2e88a534ebd8220c5a086035a999b1e8b1cd5ec154a6985a8d8dfea56095d712d62aeea7a2054f7d
</code></pre></div></div>
</li>
<li>
<p><a href="https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.0-preview1.zip">https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.0-preview1.zip</a></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SIZE: 22002645
SHA1: 4b5b61066373daf0a947d3fafe2645788504a164
SHA256: a39a48ed9a8ca2c83d65d225a1bb3db331c6587a77ba156c20e630c1b4bfc23b
SHA512: 10f6f28715a52093d7d9da82d1678147091b45e2f279e463626adea8efbf181485daa42565e5086057ffb45a097ffb8ff395c572b247b6b5da27d85933cf58a8
</code></pre></div></div>
</li>
</ul>
<h2>Avance de 3.0.0-preview2</h2>
<p>Planeamos incluir <a href="https://github.com/mame/ruby-type-profiler">&quot;type-profiler&quot;</a>
que es un analizador de tipos estáticos.  ¡Esté pendiente!</p>
<h2>Qué es Ruby</h2>
<p>Ruby fue desarrollado inicialmente por Matz (Yukihiro Matsumoto) en 1993,
y ahora es desarrollado como código abierto. Corre en muchas
plataformas y se usa en todas partes del mundo especialmente para
desarrollos web.</p>

  </div>
</div>
<hr class="hidden-modern" />

<div id="sidebar-wrapper">
  <div id="sidebar">
    <div class="navigation">
      

      <h3><strong>Noticias recientes</strong></h3>

      <ul class="menu">
        
        <li><a href="/es/news/2022/12/25/ruby-3-2-0-released/">Publicado Ruby 3.2.0</a></li>
        
        <li><a href="/es/news/2022/12/06/ruby-3-2-0-rc1-released/">Publicado Ruby 3.2.0 RC 1</a></li>
        
        <li><a href="/es/news/2022/11/24/ruby-3-1-3-released/">Ruby 3.1.3 Released</a></li>
        
        <li><a href="/es/news/2022/11/24/ruby-3-0-5-released/">Publicado Ruby 3.0.5</a></li>
        
        <li><a href="/es/news/2022/11/24/ruby-2-7-7-released/">Publicado Ruby 2.7.7</a></li>
        
      </ul>
    </div>

    

    <h3>Feeds de noticias (RSS)</h3>
    <p><a href="/es/feeds/news.rss">En español</a></p>
  </div>
</div>
<hr class="hidden-modern" />

        </div>
      </div>
    </div>

    <div class="container">
      <div id="footer">
        <div class="site-links">
          

  <a href="/es/" class="home">Inicio</a>

  <a href="/es/downloads/">Descargas</a>

  <a href="/es/documentation/">Documentación</a>

  <a href="/es/libraries/">Bibliotecas</a>

  <a href="/es/community/">Comunidad</a>

  <a href="/es/news/">Noticias</a>

  <a href="/es/security/">Seguridad</a>

  <a href="/es/about/">Acerca de Ruby</a>


        </div>

        <p>

  This site in other languages:

<a href="/bg/">Български</a>,
<a href="/de/">Deutsch</a>,
<a href="/en/">English</a>,
<a href="/es/">Español</a>,
<a href="/fr/">Français</a>,
<a href="/id/">Bahasa Indonesia</a>,
<a href="/it/">Italiano</a>,
<a href="/ja/">日本語</a>,
<a href="/ko/">한국어</a>,
<a href="/pl/">polski</a>,
<a href="/pt/">Português</a>,
<a href="/ru/">Русский</a>,
<a href="/tr/">Türkçe</a>,
<a href="/vi/">Tiếng Việt</a>,
<a href="/zh_cn/">简体中文</a>,
<a href="/zh_tw/">繁體中文</a>.
</p>

        
  <p>Este sitio web está desarrollado con Ruby y <a href="http://www.jekyllrb.com/">Jekyll</a> y es orgullosamente mantenido por miembros de la comunidad. Si quieres contribuir, por favor hazlo en <a href="https://github.com/ruby/www.ruby-lang.org/">GitHub</a> o contacta a nuestro <a href="mailto:webmaster@ruby-lang.org">webmaster</a> si tienes preguntas o comentarios.</p>


      </div>
    </div>
  </body>
</html>
