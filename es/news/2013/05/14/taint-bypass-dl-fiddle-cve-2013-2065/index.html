<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    
    <title>Inyección de objetos corruptos con DL y Fiddle en Ruby</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta itemprop="image" content="https://www.ruby-lang.org/images/header-ruby-logo@2x.png">
    
    <meta name="description" content="">
    

    <link rel="stylesheet" type="text/css" href="/stylesheets/normalize.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/main.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/pygments.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/mobile.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css">
    <link href='https://fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic,700italic&amp;subset=latin,cyrillic,greek,vietnamese' rel='stylesheet' type='text/css'>
    <link rel="canonical" href="https://www.ruby-lang.org/es/news/2013/05/14/taint-bypass-dl-fiddle-cve-2013-2065/">

    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    
    <link href="/es/feeds/news.rss" rel="alternate" title="En español" type="application/rss+xml">


    <script type="text/javascript" src="/javascripts/jquery.min.js"></script>
    <script type="text/javascript" src="/javascripts/page.js"></script>
    
  </head>

  

  <body>
    <div id="header">
      <div id="header_content" class="container">
        <a href="/es/">
          <h1>Ruby</h1>
          <h2>El mejor amigo de un desarrollador</h2>
        </a>

        <div class="site-links">
          

  <a href="/es/" class="home">Inicio</a>

  <a href="/es/downloads/">Descargas</a>

  <a href="/es/documentation/">Documentación</a>

  <a href="/es/libraries/">Bibliotecas</a>

  <a href="/es/community/">Comunidad</a>

  <a href="/es/news/">Noticias</a>

  <a href="/es/security/">Seguridad</a>

  <a href="/es/about/">Acerca de Ruby</a>


          <a href="#" class="menu selected">Menu</a>
        </div>

        <div id="search-box">
          
<form id="search-form" action="https://www.google.com/cse">
  <table class="fieldset">
    <tr>
      <td>
        <input class="field" type="text" name="q" size="31" style="background: white url(//www.google.com/coop/intl/es/images/google_custom_search_watermark.gif) left no-repeat" onfocus="this.style.background='white'" onblur="if (/^\s*$/.test(this.value)) this.style.background='white url(//www.google.com/coop/intl/es/images/google_custom_search_watermark.gif) left no-repeat'"/>
      </td>
      <td>
        
        <input type="hidden" name="ie" value="UTF-8" />
        <input class="button" type="submit" name="sa" value="Buscar" />
      </td>
    </tr>
  </table>
</form>

        </div>
      </div>
    </div>

    <div id="page">
      


      <div id="main-wrapper" class="container">
        <div id="main">
          

<div id="content-wrapper">
  
<h1>Inyección de objetos corruptos con DL y Fiddle en Ruby</h1>



  <div id="content">
    <p class="post-info">Publicado por usa el 2013-05-14<br>
                         Traducción de David Padilla</p>

    <p>Existe una vulnerabilidad en DL y Fiddle en Ruby donde se puede utilizar
cadenas corruptas en llamadas a systema sin importar el nivel de $SAFE establecido.
Se le ha asignado el identificador CVE a esta vulnerabilidad CVE-2013-2065.</p>
<h2>Impacto</h2>
<p>Funciones nativas expuestas en Ruby con DL o Fiddle no validan los valores
de los objetos que se les pasan. Esto puede resultar que se acepten objetos corruptos
como entrada cuando se debería levantar una excepción de clase SecurityError.</p>
<p>Ejemplo de código vulnerable con DL:</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted -->$SAFE<!-- raw HTML omitted --> <!-- raw HTML omitted -->=<!-- raw HTML omitted --> <!-- raw HTML omitted -->1<!-- raw HTML omitted -->
<!-- raw HTML omitted -->my_function<!-- raw HTML omitted --> <!-- raw HTML omitted -->&quot;uname -rs&quot;<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->taint<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>Ejemplo de código vulnerable con Fiddle:</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted -->$SAFE<!-- raw HTML omitted --> <!-- raw HTML omitted -->=<!-- raw HTML omitted --> <!-- raw HTML omitted -->1<!-- raw HTML omitted -->
<!-- raw HTML omitted -->my_function<!-- raw HTML omitted --> <!-- raw HTML omitted -->&quot;uname -rs&quot;<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->taint<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>Todos los usuarios utilizando una versión afectada deberían de actualizar
a la última versión o utilizar una de las soluciones propuestas inmediatamente.</p>
<p>Nota: nada de esto previene utilizar desplazamientos de memoria numéricos como
valores de apuntador. Los números no son corrompibles asi que si se pasa un
desplazamiento de memoria numérico este no puede ser validado. Por ejemplo:</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted -->$SAFE<!-- raw HTML omitted --> <!-- raw HTML omitted -->=<!-- raw HTML omitted --> <!-- raw HTML omitted -->1<!-- raw HTML omitted -->
<!-- raw HTML omitted -->user_input<!-- raw HTML omitted --> <!-- raw HTML omitted -->=<!-- raw HTML omitted --> <!-- raw HTML omitted -->&quot;uname -rs&quot;<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->taint<!-- raw HTML omitted -->
<!-- raw HTML omitted -->my_function<!-- raw HTML omitted --> <!-- raw HTML omitted -->DL<!-- raw HTML omitted --><!-- raw HTML omitted -->::<!-- raw HTML omitted --><!-- raw HTML omitted -->CPtr<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->user_input<!-- raw HTML omitted --><!-- raw HTML omitted -->].<!-- raw HTML omitted --><!-- raw HTML omitted -->to_i<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>En este caso, lo que se está pasando es la dirección en memoria del objeto la cual
no puede ser validada por DL / Fiddle. En este caso, se debe de validar el
objeto antes de pasar la dirección de memoria:</p>
<!-- raw HTML omitted -->
<h2>Soluciones Alternas</h2>
<p>Si por alguna razón no puede actualizar la versión de Ruby, se puede utilizar
este parche como solución alterna:</p>
<!-- raw HTML omitted -->
<h2>Versiones afectadas</h2>
<ul>
<li>Todas las versiones de Ruby 1.9 anteriores a p-426</li>
<li>Todas las versiones de Ruby 2.0 anteriores a p-195</li>
<li>Antes de la revisión 40728</li>
</ul>
<p>Las versiones de Ruby 1.8 no son afectadas</p>
<h2>Creditos</h2>
<p>Gracias a Vit Ondruch por reportar este problema.</p>
<h2>Historial</h2>
<ul>
<li>Publicado originalente 2013-05-14 13:00:00 (UTC)</li>
</ul>

  </div>
</div>
<hr class="hidden-modern" />

<div id="sidebar-wrapper">
  <div id="sidebar">
    <div class="navigation">
      

      <h3><strong>Noticias recientes</strong></h3>

      <ul class="menu">
        
        <li><a href="/es/news/2022/12/25/ruby-3-2-0-released/">Publicado Ruby 3.2.0</a></li>
        
        <li><a href="/es/news/2022/12/06/ruby-3-2-0-rc1-released/">Publicado Ruby 3.2.0 RC 1</a></li>
        
        <li><a href="/es/news/2022/11/24/ruby-3-1-3-released/">Ruby 3.1.3 Released</a></li>
        
        <li><a href="/es/news/2022/11/24/ruby-3-0-5-released/">Publicado Ruby 3.0.5</a></li>
        
        <li><a href="/es/news/2022/11/24/ruby-2-7-7-released/">Publicado Ruby 2.7.7</a></li>
        
      </ul>
    </div>

    

    <h3>Feeds de noticias (RSS)</h3>
    <p><a href="/es/feeds/news.rss">En español</a></p>
  </div>
</div>
<hr class="hidden-modern" />

        </div>
      </div>
    </div>

    <div class="container">
      <div id="footer">
        <div class="site-links">
          

  <a href="/es/" class="home">Inicio</a>

  <a href="/es/downloads/">Descargas</a>

  <a href="/es/documentation/">Documentación</a>

  <a href="/es/libraries/">Bibliotecas</a>

  <a href="/es/community/">Comunidad</a>

  <a href="/es/news/">Noticias</a>

  <a href="/es/security/">Seguridad</a>

  <a href="/es/about/">Acerca de Ruby</a>


        </div>

        <p>

  This site in other languages:

<a href="/bg/">Български</a>,
<a href="/de/">Deutsch</a>,
<a href="/en/">English</a>,
<a href="/es/">Español</a>,
<a href="/fr/">Français</a>,
<a href="/id/">Bahasa Indonesia</a>,
<a href="/it/">Italiano</a>,
<a href="/ja/">日本語</a>,
<a href="/ko/">한국어</a>,
<a href="/pl/">polski</a>,
<a href="/pt/">Português</a>,
<a href="/ru/">Русский</a>,
<a href="/tr/">Türkçe</a>,
<a href="/vi/">Tiếng Việt</a>,
<a href="/zh_cn/">简体中文</a>,
<a href="/zh_tw/">繁體中文</a>.
</p>

        
  <p>Este sitio web está desarrollado con Ruby y <a href="http://www.jekyllrb.com/">Jekyll</a> y es orgullosamente mantenido por miembros de la comunidad. Si quieres contribuir, por favor hazlo en <a href="https://github.com/ruby/www.ruby-lang.org/">GitHub</a> o contacta a nuestro <a href="mailto:webmaster@ruby-lang.org">webmaster</a> si tienes preguntas o comentarios.</p>


      </div>
    </div>
  </body>
</html>
