<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    
    <title>Vulnerabilità DoS di espansione di entità in REXML (XML bomb, CVE-2013-1821)</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta itemprop="image" content="https://www.ruby-lang.org/images/header-ruby-logo@2x.png">
    
    <meta name="description" content="">
    

    <link rel="stylesheet" type="text/css" href="/stylesheets/normalize.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/main.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/pygments.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/mobile.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css">
    <link href='https://fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic,700italic&amp;subset=latin,cyrillic,greek,vietnamese' rel='stylesheet' type='text/css'>
    <link rel="canonical" href="https://www.ruby-lang.org/it/news/2013/03/03/rexml-dos-2013-02-22/">

    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    
    <link href="/it/feeds/news.rss" rel="alternate" title="Ultime Notizie (RSS)" type="application/rss+xml">


    <script type="text/javascript" src="/javascripts/jquery.min.js"></script>
    <script type="text/javascript" src="/javascripts/page.js"></script>
    
  </head>

  

  <body>
    <div id="header">
      <div id="header_content" class="container">
        <a href="/it/">
          <h1>Ruby</h1>
          <h2>Il migliore amico dei programmatori</h2>
        </a>

        <div class="site-links">
          

  <a href="/it/" class="home">Home</a>

  <a href="/it/downloads/">Scarica</a>

  <a href="/it/documentation/">Documentazione</a>

  <a href="/it/libraries/">Librerie</a>

  <a href="/it/community/">Comunità</a>

  <a href="/it/news/">Notizie</a>

  <a href="/it/security/">Sicurezza</a>

  <a href="/it/about/">A proposito di Ruby</a>


          <a href="#" class="menu selected">Menu</a>
        </div>

        <div id="search-box">
          
<form id="search-form" action="https://www.google.com/cse">
  <table class="fieldset">
    <tr>
      <td>
        <input class="field" type="text" name="q" size="31" style="background: white url(//www.google.com/coop/intl/it/images/google_custom_search_watermark.gif) left no-repeat" onfocus="this.style.background='white'" onblur="if (/^\s*$/.test(this.value)) this.style.background='white url(//www.google.com/coop/intl/it/images/google_custom_search_watermark.gif) left no-repeat'"/>
      </td>
      <td>
        
        <input type="hidden" name="ie" value="UTF-8" />
        <input class="button" type="submit" name="sa" value="Cerca" />
      </td>
    </tr>
  </table>
</form>

        </div>
      </div>
    </div>

    <div id="page">
      


      <div id="main-wrapper" class="container">
        <div id="main">
          

<div id="content-wrapper">
  
<h1>Vulnerabilità DoS di espansione di entità in REXML (XML bomb, CVE-2013-1821)</h1>



  <div id="content">
    <p class="post-info">Inserito da Fabio Cevasco il 2013-03-03</p>

    <p>Un'incontrollata espansione di entità può provocare una vulnerabilità
DoS in REXML. L'identificativo CVE &quot;CVE-2013-1821&quot; è stato assegnato
a questa vulnerabilità. Raccomandiamo fortemente di aggiornare Ruby.</p>
<h2>Dettagli</h2>
<p>Durante la lettura di nodi testuali da un documento XML, il parser RAXML
può essere utilizzato per allocare degli oggetti string estremamente
grandi che possono consumare tutta la memoria su una macchina, causando
un Denial of Service.</p>
<p>Il codice impattato è del tipo:</p>
<!-- raw HTML omitted -->
<p>Quando il metodo `text` viene chiamato, le entità XML vengono espanse.
Un utente malintenzionato può utilizzare un documento XML relativamente
piccolo che, quando le entità vengono risolte, consumerà grandi quantità
di memoria nel sistema.</p>
<p>Da notare che questo attacco è simile, ma differente, all'attacco
&quot;Billion Laughs&quot;, che è correlato al CVE-2013-1664 di Python.</p>
<p>Tutti gli utenti che utilizzano una versione soggetta a questa
vulnerabilità dovrebbero procedere all'aggiornamento o utilizzare uno
dei workaround immediatamente.</p>
<h2>Workaround</h2>
<p>Se non puoi aggiornare Ruby, utilizza questa patch manuale come
workaround:</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted -->def<!-- raw HTML omitted --> <!-- raw HTML omitted -->self<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->entity_expansion_text_limit<!-- raw HTML omitted --><!-- raw HTML omitted -->=<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --> <!-- raw HTML omitted -->val<!-- raw HTML omitted --> <!-- raw HTML omitted -->)<!-- raw HTML omitted -->
<!-- raw HTML omitted -->@@entity_expansion_text_limit<!-- raw HTML omitted --> <!-- raw HTML omitted -->=<!-- raw HTML omitted --> <!-- raw HTML omitted -->val<!-- raw HTML omitted -->
<!-- raw HTML omitted -->end<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->def<!-- raw HTML omitted --> <!-- raw HTML omitted -->self<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->entity_expansion_text_limit<!-- raw HTML omitted -->
<!-- raw HTML omitted -->@@entity_expansion_text_limit<!-- raw HTML omitted -->
<!-- raw HTML omitted -->end<!-- raw HTML omitted -->
<!-- raw HTML omitted -->end<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->class<!-- raw HTML omitted --> <!-- raw HTML omitted -->REXML::Text<!-- raw HTML omitted -->
<!-- raw HTML omitted -->def<!-- raw HTML omitted --> <!-- raw HTML omitted -->self<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->unnormalize<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->string<!-- raw HTML omitted --><!-- raw HTML omitted -->,<!-- raw HTML omitted --> <!-- raw HTML omitted -->doctype<!-- raw HTML omitted --><!-- raw HTML omitted -->=<!-- raw HTML omitted --><!-- raw HTML omitted -->nil<!-- raw HTML omitted --><!-- raw HTML omitted -->,<!-- raw HTML omitted --> <!-- raw HTML omitted -->filter<!-- raw HTML omitted --><!-- raw HTML omitted -->=<!-- raw HTML omitted --><!-- raw HTML omitted -->nil<!-- raw HTML omitted --><!-- raw HTML omitted -->,<!-- raw HTML omitted --> <!-- raw HTML omitted -->illegal<!-- raw HTML omitted --><!-- raw HTML omitted -->=<!-- raw HTML omitted --><!-- raw HTML omitted -->nil<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted -->
<!-- raw HTML omitted -->sum<!-- raw HTML omitted --> <!-- raw HTML omitted -->=<!-- raw HTML omitted --> <!-- raw HTML omitted -->0<!-- raw HTML omitted -->
<!-- raw HTML omitted -->string<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->gsub<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --> <!-- raw HTML omitted -->/\r\n?/<!-- raw HTML omitted --><!-- raw HTML omitted -->,<!-- raw HTML omitted --> <!-- raw HTML omitted -->&quot;<!-- raw HTML omitted --><!-- raw HTML omitted -->\n<!-- raw HTML omitted --><!-- raw HTML omitted -->&quot;<!-- raw HTML omitted --> <!-- raw HTML omitted -->).<!-- raw HTML omitted --><!-- raw HTML omitted -->gsub<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --> <!-- raw HTML omitted -->REFERENCE<!-- raw HTML omitted --> <!-- raw HTML omitted -->)<!-- raw HTML omitted --> <!-- raw HTML omitted -->{<!-- raw HTML omitted -->
<!-- raw HTML omitted -->s<!-- raw HTML omitted --> <!-- raw HTML omitted -->=<!-- raw HTML omitted --> <!-- raw HTML omitted -->self<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->expand<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->$&amp;<!-- raw HTML omitted --><!-- raw HTML omitted -->,<!-- raw HTML omitted --> <!-- raw HTML omitted -->doctype<!-- raw HTML omitted --><!-- raw HTML omitted -->,<!-- raw HTML omitted --> <!-- raw HTML omitted -->filter<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted -->
<!-- raw HTML omitted -->if<!-- raw HTML omitted --> <!-- raw HTML omitted -->sum<!-- raw HTML omitted --> <!-- raw HTML omitted -->+<!-- raw HTML omitted --> <!-- raw HTML omitted -->s<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->bytesize<!-- raw HTML omitted --> <!-- raw HTML omitted -->&gt;<!-- raw HTML omitted --> <!-- raw HTML omitted -->REXML<!-- raw HTML omitted --><!-- raw HTML omitted -->::<!-- raw HTML omitted --><!-- raw HTML omitted -->Document<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->entity_expansion_text_limit<!-- raw HTML omitted -->
<!-- raw HTML omitted -->raise<!-- raw HTML omitted --> <!-- raw HTML omitted -->&quot;entity expansion has grown too large&quot;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->else<!-- raw HTML omitted -->
<!-- raw HTML omitted -->sum<!-- raw HTML omitted --> <!-- raw HTML omitted -->+=<!-- raw HTML omitted --> <!-- raw HTML omitted -->s<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->bytesize<!-- raw HTML omitted -->
<!-- raw HTML omitted -->end<!-- raw HTML omitted -->
<!-- raw HTML omitted -->s<!-- raw HTML omitted -->
<!-- raw HTML omitted -->}<!-- raw HTML omitted -->
<!-- raw HTML omitted -->end<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->def<!-- raw HTML omitted --> <!-- raw HTML omitted -->self<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->expand<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->ref<!-- raw HTML omitted --><!-- raw HTML omitted -->,<!-- raw HTML omitted --> <!-- raw HTML omitted -->doctype<!-- raw HTML omitted --><!-- raw HTML omitted -->,<!-- raw HTML omitted --> <!-- raw HTML omitted -->filter<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted -->
<!-- raw HTML omitted -->if<!-- raw HTML omitted --> <!-- raw HTML omitted -->ref<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->]<!-- raw HTML omitted --> <!-- raw HTML omitted -->==<!-- raw HTML omitted --> <!-- raw HTML omitted -->?#<!-- raw HTML omitted -->
<!-- raw HTML omitted -->if<!-- raw HTML omitted --> <!-- raw HTML omitted -->ref<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->2<!-- raw HTML omitted --><!-- raw HTML omitted -->]<!-- raw HTML omitted --> <!-- raw HTML omitted -->==<!-- raw HTML omitted --> <!-- raw HTML omitted -->?x<!-- raw HTML omitted -->
<!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->ref<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->3<!-- raw HTML omitted --><!-- raw HTML omitted -->...-<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->].<!-- raw HTML omitted --><!-- raw HTML omitted -->to_i<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->16<!-- raw HTML omitted --><!-- raw HTML omitted -->)].<!-- raw HTML omitted --><!-- raw HTML omitted -->pack<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->'U*'<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted -->
<!-- raw HTML omitted -->else<!-- raw HTML omitted -->
<!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->ref<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->2<!-- raw HTML omitted --><!-- raw HTML omitted -->...-<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->].<!-- raw HTML omitted --><!-- raw HTML omitted -->to_i<!-- raw HTML omitted --><!-- raw HTML omitted -->].<!-- raw HTML omitted --><!-- raw HTML omitted -->pack<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->'U*'<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted -->
<!-- raw HTML omitted -->end<!-- raw HTML omitted -->
<!-- raw HTML omitted -->elsif<!-- raw HTML omitted --> <!-- raw HTML omitted -->ref<!-- raw HTML omitted --> <!-- raw HTML omitted -->==<!-- raw HTML omitted --> <!-- raw HTML omitted -->'&amp;amp;'<!-- raw HTML omitted -->
<!-- raw HTML omitted -->'&amp;'<!-- raw HTML omitted -->
<!-- raw HTML omitted -->elsif<!-- raw HTML omitted --> <!-- raw HTML omitted -->filter<!-- raw HTML omitted --> <!-- raw HTML omitted -->and<!-- raw HTML omitted --> <!-- raw HTML omitted -->filter<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->include?<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --> <!-- raw HTML omitted -->ref<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->...-<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->]<!-- raw HTML omitted --> <!-- raw HTML omitted -->)<!-- raw HTML omitted -->
<!-- raw HTML omitted -->ref<!-- raw HTML omitted -->
<!-- raw HTML omitted -->elsif<!-- raw HTML omitted --> <!-- raw HTML omitted -->doctype<!-- raw HTML omitted -->
<!-- raw HTML omitted -->doctype<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->entity<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --> <!-- raw HTML omitted -->ref<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->...-<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->]<!-- raw HTML omitted --> <!-- raw HTML omitted -->)<!-- raw HTML omitted --> <!-- raw HTML omitted -->or<!-- raw HTML omitted --> <!-- raw HTML omitted -->ref<!-- raw HTML omitted -->
<!-- raw HTML omitted -->else<!-- raw HTML omitted -->
<!-- raw HTML omitted -->entity_value<!-- raw HTML omitted --> <!-- raw HTML omitted -->=<!-- raw HTML omitted --> <!-- raw HTML omitted -->DocType<!-- raw HTML omitted --><!-- raw HTML omitted -->::<!-- raw HTML omitted --><!-- raw HTML omitted -->DEFAULT_ENTITIES<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --> <!-- raw HTML omitted -->ref<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->...-<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->]<!-- raw HTML omitted --> <!-- raw HTML omitted -->]<!-- raw HTML omitted -->
<!-- raw HTML omitted -->entity_value<!-- raw HTML omitted --> <!-- raw HTML omitted -->?<!-- raw HTML omitted --> <!-- raw HTML omitted -->entity_value<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->value<!-- raw HTML omitted --> <!-- raw HTML omitted -->:<!-- raw HTML omitted --> <!-- raw HTML omitted -->ref<!-- raw HTML omitted -->
<!-- raw HTML omitted -->end<!-- raw HTML omitted -->
<!-- raw HTML omitted -->end<!-- raw HTML omitted -->
<!-- raw HTML omitted -->end<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>Questa patch limiterà la grandezza della sostituzione delle entità a 10k
per nodo. REXML inoltre di default permette solamente 10000 sostituzioni
di entità per documento, quindi il massimo ammontare di testo che può
essere generato tramite sostituzione di entità sarà attorno ai 98MB.</p>
<h2>Versioni soggette alla vulnerabilità</h2>
<ul>
<li>Tutte le versioni di Ruby 1.9 precedenti a 1.9.3 patchlevel 392</li>
<li>Tutte le versioni di Ruby 2.0 precedenti a 2.0.0 patchlevel 0</li>
<li>Tutte le versioni precedenti alla trunk revision 39384</li>
</ul>
<h2>Crediti</h2>
<p>Grazie a Ben Murphy per averci notificato il problema.</p>
<h2>Cronologia</h2>
<ul>
<li>Originariamente pubblicato il giorno 2013-02-22 alle ore 12:00:00
(UTC)</li>
</ul>

  </div>
</div>
<hr class="hidden-modern" />

<div id="sidebar-wrapper">
  <div id="sidebar">
    <div class="navigation">
      

      <h3><strong>Notizie Recenti</strong></h3>

      <ul class="menu">
        
        <li><a href="/it/news/2017/09/14/ruby-2-4-2-released/">Rilasciato Ruby 2.4.2</a></li>
        
        <li><a href="/it/news/2016/09/08/ruby-2-4-0-preview2-released/">Rilasciato Ruby 2.4.0-preview2</a></li>
        
        <li><a href="/it/news/2016/04/26/ruby-2-3-1-released/">Rilasciato Ruby 2.3.1</a></li>
        
        <li><a href="/it/news/2016/04/26/ruby-2-2-5-released/">Rilasciato Ruby 2.2.5</a></li>
        
        <li><a href="/it/news/2016/04/01/ruby-2-1-10-released/">Rilasciato Ruby 2.1.10</a></li>
        
      </ul>
    </div>

    

    <h3>Feed RSS</h3>
    <p><a href="/it/feeds/news.rss">Ultime Notizie (RSS)</a></p>
  </div>
</div>
<hr class="hidden-modern" />

        </div>
      </div>
    </div>

    <div class="container">
      <div id="footer">
        <div class="site-links">
          

  <a href="/it/" class="home">Home</a>

  <a href="/it/downloads/">Scarica</a>

  <a href="/it/documentation/">Documentazione</a>

  <a href="/it/libraries/">Librerie</a>

  <a href="/it/community/">Comunità</a>

  <a href="/it/news/">Notizie</a>

  <a href="/it/security/">Sicurezza</a>

  <a href="/it/about/">A proposito di Ruby</a>


        </div>

        <p>

  Questo sito in altre lingue:

<a href="/bg/">Български</a>,
<a href="/de/">Deutsch</a>,
<a href="/en/">English</a>,
<a href="/es/">Español</a>,
<a href="/fr/">Français</a>,
<a href="/id/">Bahasa Indonesia</a>,
<a href="/it/">Italiano</a>,
<a href="/ja/">日本語</a>,
<a href="/ko/">한국어</a>,
<a href="/pl/">polski</a>,
<a href="/pt/">Português</a>,
<a href="/ru/">Русский</a>,
<a href="/tr/">Türkçe</a>,
<a href="/vi/">Tiếng Việt</a>,
<a href="/zh_cn/">简体中文</a>,
<a href="/zh_tw/">繁體中文</a>.
</p>

        
  <p><a href="/it/about/website/">Questo sito web</a> è mantenuto con orgoglio dai membri della comunità Ruby.</p>


      </div>
    </div>
  </body>
</html>
