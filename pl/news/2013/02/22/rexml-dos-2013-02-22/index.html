<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    
    <title>Podatność na DoS w REXML przez rozrost encji (bomba XML, CVE-2013-1821)</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta itemprop="image" content="https://www.ruby-lang.org/images/header-ruby-logo@2x.png">
    
    <meta name="description" content="">
    

    <link rel="stylesheet" type="text/css" href="/stylesheets/normalize.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/main.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/pygments.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/mobile.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css">
    <link href='https://fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic,700italic&amp;subset=latin,cyrillic,greek,vietnamese' rel='stylesheet' type='text/css'>
    <link rel="canonical" href="https://www.ruby-lang.org/pl/news/2013/02/22/rexml-dos-2013-02-22/">

    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    
    <link href="/pl/feeds/news.rss" rel="alternate" title="Ostatnie Wiadomości (RSS)" type="application/rss+xml">


    <script type="text/javascript" src="/javascripts/jquery.min.js"></script>
    <script type="text/javascript" src="/javascripts/page.js"></script>
    
  </head>

  

  <body>
    <div id="header">
      <div id="header_content" class="container">
        <a href="/pl/">
          <h1>Ruby</h1>
          <h2>Najlepszy Przyjaciel Programisty</h2>
        </a>

        <div class="site-links">
          

  <a href="/pl/" class="home">Home</a>

  <a href="/pl/downloads/">Pobierz</a>

  <a href="/pl/documentation/">Dokumentacja</a>

  <a href="/pl/libraries/">Biblioteki</a>

  <a href="/pl/community/">Społeczność</a>

  <a href="/pl/news/">Wiadomości</a>

  <a href="/pl/security/">Bezpieczeństwo</a>

  <a href="/pl/about/">O języku Ruby</a>


          <a href="#" class="menu selected">Menu</a>
        </div>

        <div id="search-box">
          
<form id="search-form" action="https://www.google.com/cse">
  <table class="fieldset">
    <tr>
      <td>
        <input class="field" type="text" name="q" size="31" style="background: white url(//www.google.com/coop/intl/pl/images/google_custom_search_watermark.gif) left no-repeat" onfocus="this.style.background='white'" onblur="if (/^\s*$/.test(this.value)) this.style.background='white url(//www.google.com/coop/intl/pl/images/google_custom_search_watermark.gif) left no-repeat'"/>
      </td>
      <td>
        
        <input type="hidden" name="ie" value="UTF-8" />
        <input class="button" type="submit" name="sa" value="Szukaj" />
      </td>
    </tr>
  </table>
</form>

        </div>
      </div>
    </div>

    <div id="page">
      


      <div id="main-wrapper" class="container">
        <div id="main">
          

<div id="content-wrapper">
  
<h1>Podatność na DoS w REXML przez rozrost encji (bomba XML, CVE-2013-1821)</h1>



  <div id="content">
    <p class="post-info">Zamieszczone przez usa 2013-02-22<br>
                         Tłumaczone przez crabonature</p>

    <p>Nieograniczony rozrost encji może prowadzić do podatności na DoS
w REXML. Tej podatności został przypisany identyfikator CVE-2013-1821.
Zdecydowanie zalecamy aktualizację Rubiego.</p>
<h2>Szczegóły</h2>
<p>Podczas czytania węzłów tekstu z dokumentu XML, parser REXML może
zostać zmuszony do alokowania bardzo dużych napisów, które mogą
zająć całą dostępną pamięć maszyny, powodując odmowę usługi.</p>
<p>Przykładowy kod ilustrujący lukę będzie wyglądać mniej więcej tak:</p>
<!-- raw HTML omitted -->
<p>Kiedy jest wołana metoda `text` , encje będą się rozrastać.
Atakujący może wysłać relatywnie mały dokument XML, który kiedy encje
są wiązane, będzie zajmował całą dostępną pamięć docelowego systemu.</p>
<p>Zauważ, że ten atak jest podobny do, ale różny od ataku
<em>Billion Laughs</em>. Jest to też powiązane z CVE-2013-1664 dla Pythona.</p>
<p>Wszyscy użytkownicy używający podatnej wersji powinni natychmiast
zaktualizować ją lub użyć obejścia problemu.</p>
<h2>Obejście problemu</h2>
<p>Gdy nie możesz zaktualizować Rubiego, ta łatka - monkey patch - może
być użyta jako obejście problemu:</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted -->def<!-- raw HTML omitted --> <!-- raw HTML omitted -->self<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->entity_expansion_text_limit<!-- raw HTML omitted --><!-- raw HTML omitted -->=<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --> <!-- raw HTML omitted -->val<!-- raw HTML omitted --> <!-- raw HTML omitted -->)<!-- raw HTML omitted -->
<!-- raw HTML omitted -->@@entity_expansion_text_limit<!-- raw HTML omitted --> <!-- raw HTML omitted -->=<!-- raw HTML omitted --> <!-- raw HTML omitted -->val<!-- raw HTML omitted -->
<!-- raw HTML omitted -->end<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->def<!-- raw HTML omitted --> <!-- raw HTML omitted -->self<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->entity_expansion_text_limit<!-- raw HTML omitted -->
<!-- raw HTML omitted -->@@entity_expansion_text_limit<!-- raw HTML omitted -->
<!-- raw HTML omitted -->end<!-- raw HTML omitted -->
<!-- raw HTML omitted -->end<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->class<!-- raw HTML omitted --> <!-- raw HTML omitted -->REXML::Text<!-- raw HTML omitted -->
<!-- raw HTML omitted -->def<!-- raw HTML omitted --> <!-- raw HTML omitted -->self<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->unnormalize<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->string<!-- raw HTML omitted --><!-- raw HTML omitted -->,<!-- raw HTML omitted --> <!-- raw HTML omitted -->doctype<!-- raw HTML omitted --><!-- raw HTML omitted -->=<!-- raw HTML omitted --><!-- raw HTML omitted -->nil<!-- raw HTML omitted --><!-- raw HTML omitted -->,<!-- raw HTML omitted --> <!-- raw HTML omitted -->filter<!-- raw HTML omitted --><!-- raw HTML omitted -->=<!-- raw HTML omitted --><!-- raw HTML omitted -->nil<!-- raw HTML omitted --><!-- raw HTML omitted -->,<!-- raw HTML omitted --> <!-- raw HTML omitted -->illegal<!-- raw HTML omitted --><!-- raw HTML omitted -->=<!-- raw HTML omitted --><!-- raw HTML omitted -->nil<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted -->
<!-- raw HTML omitted -->sum<!-- raw HTML omitted --> <!-- raw HTML omitted -->=<!-- raw HTML omitted --> <!-- raw HTML omitted -->0<!-- raw HTML omitted -->
<!-- raw HTML omitted -->string<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->gsub<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --> <!-- raw HTML omitted -->/\r\n?/<!-- raw HTML omitted --><!-- raw HTML omitted -->,<!-- raw HTML omitted --> <!-- raw HTML omitted -->&quot;<!-- raw HTML omitted --><!-- raw HTML omitted -->\n<!-- raw HTML omitted --><!-- raw HTML omitted -->&quot;<!-- raw HTML omitted --> <!-- raw HTML omitted -->).<!-- raw HTML omitted --><!-- raw HTML omitted -->gsub<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --> <!-- raw HTML omitted -->REFERENCE<!-- raw HTML omitted --> <!-- raw HTML omitted -->)<!-- raw HTML omitted --> <!-- raw HTML omitted -->{<!-- raw HTML omitted -->
<!-- raw HTML omitted -->s<!-- raw HTML omitted --> <!-- raw HTML omitted -->=<!-- raw HTML omitted --> <!-- raw HTML omitted -->self<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->expand<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->$&amp;<!-- raw HTML omitted --><!-- raw HTML omitted -->,<!-- raw HTML omitted --> <!-- raw HTML omitted -->doctype<!-- raw HTML omitted --><!-- raw HTML omitted -->,<!-- raw HTML omitted --> <!-- raw HTML omitted -->filter<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted -->
<!-- raw HTML omitted -->if<!-- raw HTML omitted --> <!-- raw HTML omitted -->sum<!-- raw HTML omitted --> <!-- raw HTML omitted -->+<!-- raw HTML omitted --> <!-- raw HTML omitted -->s<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->bytesize<!-- raw HTML omitted --> <!-- raw HTML omitted -->&gt;<!-- raw HTML omitted --> <!-- raw HTML omitted -->REXML<!-- raw HTML omitted --><!-- raw HTML omitted -->::<!-- raw HTML omitted --><!-- raw HTML omitted -->Document<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->entity_expansion_text_limit<!-- raw HTML omitted -->
<!-- raw HTML omitted -->raise<!-- raw HTML omitted --> <!-- raw HTML omitted -->&quot;entity expansion has grown too large&quot;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->else<!-- raw HTML omitted -->
<!-- raw HTML omitted -->sum<!-- raw HTML omitted --> <!-- raw HTML omitted -->+=<!-- raw HTML omitted --> <!-- raw HTML omitted -->s<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->bytesize<!-- raw HTML omitted -->
<!-- raw HTML omitted -->end<!-- raw HTML omitted -->
<!-- raw HTML omitted -->s<!-- raw HTML omitted -->
<!-- raw HTML omitted -->}<!-- raw HTML omitted -->
<!-- raw HTML omitted -->end<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->def<!-- raw HTML omitted --> <!-- raw HTML omitted -->self<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->expand<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->ref<!-- raw HTML omitted --><!-- raw HTML omitted -->,<!-- raw HTML omitted --> <!-- raw HTML omitted -->doctype<!-- raw HTML omitted --><!-- raw HTML omitted -->,<!-- raw HTML omitted --> <!-- raw HTML omitted -->filter<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted -->
<!-- raw HTML omitted -->if<!-- raw HTML omitted --> <!-- raw HTML omitted -->ref<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->]<!-- raw HTML omitted --> <!-- raw HTML omitted -->==<!-- raw HTML omitted --> <!-- raw HTML omitted -->?#<!-- raw HTML omitted -->
<!-- raw HTML omitted -->if<!-- raw HTML omitted --> <!-- raw HTML omitted -->ref<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->2<!-- raw HTML omitted --><!-- raw HTML omitted -->]<!-- raw HTML omitted --> <!-- raw HTML omitted -->==<!-- raw HTML omitted --> <!-- raw HTML omitted -->?x<!-- raw HTML omitted -->
<!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->ref<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->3<!-- raw HTML omitted --><!-- raw HTML omitted -->...-<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->].<!-- raw HTML omitted --><!-- raw HTML omitted -->to_i<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->16<!-- raw HTML omitted --><!-- raw HTML omitted -->)].<!-- raw HTML omitted --><!-- raw HTML omitted -->pack<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->'U*'<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted -->
<!-- raw HTML omitted -->else<!-- raw HTML omitted -->
<!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->ref<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->2<!-- raw HTML omitted --><!-- raw HTML omitted -->...-<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->].<!-- raw HTML omitted --><!-- raw HTML omitted -->to_i<!-- raw HTML omitted --><!-- raw HTML omitted -->].<!-- raw HTML omitted --><!-- raw HTML omitted -->pack<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->'U*'<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted -->
<!-- raw HTML omitted -->end<!-- raw HTML omitted -->
<!-- raw HTML omitted -->elsif<!-- raw HTML omitted --> <!-- raw HTML omitted -->ref<!-- raw HTML omitted --> <!-- raw HTML omitted -->==<!-- raw HTML omitted --> <!-- raw HTML omitted -->'&amp;amp;'<!-- raw HTML omitted -->
<!-- raw HTML omitted -->'&amp;'<!-- raw HTML omitted -->
<!-- raw HTML omitted -->elsif<!-- raw HTML omitted --> <!-- raw HTML omitted -->filter<!-- raw HTML omitted --> <!-- raw HTML omitted -->and<!-- raw HTML omitted --> <!-- raw HTML omitted -->filter<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->include?<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --> <!-- raw HTML omitted -->ref<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->...-<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->]<!-- raw HTML omitted --> <!-- raw HTML omitted -->)<!-- raw HTML omitted -->
<!-- raw HTML omitted -->ref<!-- raw HTML omitted -->
<!-- raw HTML omitted -->elsif<!-- raw HTML omitted --> <!-- raw HTML omitted -->doctype<!-- raw HTML omitted -->
<!-- raw HTML omitted -->doctype<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->entity<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --> <!-- raw HTML omitted -->ref<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->...-<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->]<!-- raw HTML omitted --> <!-- raw HTML omitted -->)<!-- raw HTML omitted --> <!-- raw HTML omitted -->or<!-- raw HTML omitted --> <!-- raw HTML omitted -->ref<!-- raw HTML omitted -->
<!-- raw HTML omitted -->else<!-- raw HTML omitted -->
<!-- raw HTML omitted -->entity_value<!-- raw HTML omitted --> <!-- raw HTML omitted -->=<!-- raw HTML omitted --> <!-- raw HTML omitted -->DocType<!-- raw HTML omitted --><!-- raw HTML omitted -->::<!-- raw HTML omitted --><!-- raw HTML omitted -->DEFAULT_ENTITIES<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --> <!-- raw HTML omitted -->ref<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->...-<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->]<!-- raw HTML omitted --> <!-- raw HTML omitted -->]<!-- raw HTML omitted -->
<!-- raw HTML omitted -->entity_value<!-- raw HTML omitted --> <!-- raw HTML omitted -->?<!-- raw HTML omitted --> <!-- raw HTML omitted -->entity_value<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->value<!-- raw HTML omitted --> <!-- raw HTML omitted -->:<!-- raw HTML omitted --> <!-- raw HTML omitted -->ref<!-- raw HTML omitted -->
<!-- raw HTML omitted -->end<!-- raw HTML omitted -->
<!-- raw HTML omitted -->end<!-- raw HTML omitted -->
<!-- raw HTML omitted -->end<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>Ta łatka wprowadzi limit na rozmiar podstawianej encji do 10k na węzeł.
Obecnie REXML domyślnie dopuszcza jedynie 10000 podstawień encji na
dokument, więc maksymalna ilość tekstu, który może być wygenerowany
będzie wynosił około 98 megabajtów.</p>
<h2>Dotyczy wersji</h2>
<ul>
<li>Dla 1.9 wszystkie wcześniejsze wersje od 1.9.3 patchlevel 392</li>
<li>Dla 2.0 wszystkie wcześniejsze wersje od 2.0.0 patchlevel 0</li>
<li>Wcześniej niż rewizja trunk 39384</li>
</ul>
<h2>Podziękowania</h2>
<p>Podziękowania dla Bena Murphy’ego za zgłoszenie tego problemu.</p>
<h2>Historia</h2>
<ul>
<li>Dodano numer CVE 2013-03-11 07:45:00 (UTC)</li>
<li>Oryginalnie opublikowane 2013-02-22 12:00:00 (UTC)</li>
</ul>

  </div>
</div>
<hr class="hidden-modern" />

<div id="sidebar-wrapper">
  <div id="sidebar">
    <div class="navigation">
      

      <h3><strong>Aktualności</strong></h3>

      <ul class="menu">
        
        <li><a href="/pl/news/2016/06/20/ruby-2-4-0-preview1-released/">Wydano Ruby 2.4.0-preview1</a></li>
        
        <li><a href="/pl/news/2014/12/25/ruby-2-2-0-released/">Wydano Ruby 2.2.0</a></li>
        
        <li><a href="/pl/news/2014/12/18/ruby-2-2-0-rc1-released/">Wydano Ruby 2.2.0-rc1</a></li>
        
        <li><a href="/pl/news/2014/11/28/ruby-2-2-0-preview2-released/">Wydano Ruby 2.2.0-preview2</a></li>
        
        <li><a href="/pl/news/2014/11/13/ruby-2-1-5-is-released/">Wydano Ruby 2.1.5</a></li>
        
      </ul>
    </div>

    

    <h3>Syndicate</h3>
    <p><a href="/pl/feeds/news.rss">Ostatnie Wiadomości (RSS)</a></p>
  </div>
</div>
<hr class="hidden-modern" />

        </div>
      </div>
    </div>

    <div class="container">
      <div id="footer">
        <div class="site-links">
          

  <a href="/pl/" class="home">Home</a>

  <a href="/pl/downloads/">Pobierz</a>

  <a href="/pl/documentation/">Dokumentacja</a>

  <a href="/pl/libraries/">Biblioteki</a>

  <a href="/pl/community/">Społeczność</a>

  <a href="/pl/news/">Wiadomości</a>

  <a href="/pl/security/">Bezpieczeństwo</a>

  <a href="/pl/about/">O języku Ruby</a>


        </div>

        <p>

  Ta strona w innych językach:

<a href="/bg/">Български</a>,
<a href="/de/">Deutsch</a>,
<a href="/en/">English</a>,
<a href="/es/">Español</a>,
<a href="/fr/">Français</a>,
<a href="/id/">Bahasa Indonesia</a>,
<a href="/it/">Italiano</a>,
<a href="/ja/">日本語</a>,
<a href="/ko/">한국어</a>,
<a href="/pl/">polski</a>,
<a href="/pt/">Português</a>,
<a href="/ru/">Русский</a>,
<a href="/tr/">Türkçe</a>,
<a href="/vi/">Tiếng Việt</a>,
<a href="/zh_cn/">简体中文</a>,
<a href="/zh_tw/">繁體中文</a>.
</p>

        
  <p><a href="/pl/about/logo/">Logo Rubiego</a> jest Zastrzeżone &copy; 2006, Yukihiro Matsumoto; licencjonowane na warunkach <a href="http://creativecommons.org/licenses/by-sa/2.5/">CC BY-SA 2.5</a>.<br><br> Serwis powstał w języku Ruby przy użyciu <a href="http://www.jekyllrb.com/">Jekyll</a>. Utrzymaniem serwisu zajmuje się społeczność Rubiego. Projekt strony <a href="https://twitter.com/jasonzimdars">Jason Zimdars</a>. Proszę udziel nam wsparcia na <a href="https://github.com/ruby/www.ruby-lang.org/">GitHub</a> lub skontaktuj się z naszym <a href="mailto:webmaster@ruby-lang.org">webmasterem</a> jeśli masz jakieś pytania lub komentarze dotyczące tego serwisu.</p>


      </div>
    </div>
  </body>
</html>
