<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    
    <title>Vulnerabilidade DoS na biblioteca REXML</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta itemprop="image" content="https://www.ruby-lang.org/images/header-ruby-logo@2x.png">
    
    <meta name="description" content="">
    

    <link rel="stylesheet" type="text/css" href="/stylesheets/normalize.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/main.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/pygments.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/mobile.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css">
    <link href='https://fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic,700italic&amp;subset=latin,cyrillic,greek,vietnamese' rel='stylesheet' type='text/css'>
    <link rel="canonical" href="https://www.ruby-lang.org/pt/news/2008/09/05/vulnerabilidade-dos-na-biblioteca-rexml/">

    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    
    <link href="/pt/feeds/news.rss" rel="alternate" title="Em português" type="application/rss+xml">


    <script type="text/javascript" src="/javascripts/jquery.min.js"></script>
    <script type="text/javascript" src="/javascripts/page.js"></script>
    
  </head>

  

  <body>
    <div id="header">
      <div id="header_content" class="container">
        <a href="/pt/">
          <h1>Ruby</h1>
          <h2>O melhor amigo do programador</h2>
        </a>

        <div class="site-links">
          

  <a href="/pt/" class="home">Home</a>

  <a href="/pt/downloads/">Downloads</a>

  <a href="/pt/documentation/">Documentação</a>

  <a href="/pt/libraries/">Módulos</a>

  <a href="/pt/community/">Comunidade</a>

  <a href="/pt/news/">Notícias</a>

  <a href="/pt/security/">Segurança</a>

  <a href="/pt/about/">Sobre Ruby</a>


          <a href="#" class="menu selected">Menu</a>
        </div>

        <div id="search-box">
          
<form id="search-form" action="https://www.google.com/cse">
  <table class="fieldset">
    <tr>
      <td>
        <input class="field" type="text" name="q" size="31" style="background: white url(//www.google.com/coop/intl/pt/images/google_custom_search_watermark.gif) left no-repeat" onfocus="this.style.background='white'" onblur="if (/^\s*$/.test(this.value)) this.style.background='white url(//www.google.com/coop/intl/pt/images/google_custom_search_watermark.gif) left no-repeat'"/>
      </td>
      <td>
        
        <input type="hidden" name="ie" value="UTF-8" />
        <input class="button" type="submit" name="sa" value="Procurar" />
      </td>
    </tr>
  </table>
</form>

        </div>
      </div>
    </div>

    <div id="page">
      


      <div id="main-wrapper" class="container">
        <div id="main">
          

<div id="content-wrapper">
  
<h1>Vulnerabilidade DoS na biblioteca REXML</h1>



  <div id="content">
    <p class="post-info">2008-09-05</p>

    <p>Existe uma vulnerabilidade DoS na biblioteca REXML incluída na
biblioteca standard do Ruby. Uma técnica de ataque conhecida como “XML
entity explosion” poderá ser utilizada para terminar remotamente
qualquer aplicação que faça parse de XML com a biblioteca REXML.</p>
<p>A maioria das aplicações rails estarão vulneráveis, uma vez que o Rails
faz parse de XML com REXML, por omissão.</p>
<h2>Impacto</h2>
<p>Um ataque deste tipo pode ser repetido pedindo uma análise de um
documento XML contendo entidades aninhadas recursivas pela biblioteca
REXML. Veja-se o exemplo:</p>
<!-- raw HTML omitted -->
<h2>Versões vulneráveis</h2>
<h3>Versões 1.8</h3>
<ul>
<li>1.8.6-p287 e todas as anteriores</li>
<li>1.8.7-p72 e todas as anteriores</li>
</ul>
<h3>Versões 1.9</h3>
<ul>
<li>Todas</li>
</ul>
<h2>Solução</h2>
<p>Faça download do seguinte <em>patch</em> para corrigir o problema.</p>
<ul>
<li><a href="https://www.ruby-lang.org/security/20080823rexml/rexml-expansion-fix.rb">https://www.ruby-lang.org/security/20080823rexml/rexml-expansion-fix.rb</a></li>
</ul>
<p>Depois adicione a linha na aplicação para carregar
rexml-expansion-fix.rb antes de utilizar REXML.</p>
<!-- raw HTML omitted -->
<p>para aplicações em Rails, copie o ficheiro rexml-expansion-fix.rb para a directoria RAILS_ROOT/lib/, por exemplo, e adicione a linha seguinte no ficheiro config/environment.rb.</p>
<!-- raw HTML omitted -->
<p>Se a sua aplicação utiliza Rails 2.1 ou posterior, basta copiar o
ficheiro rexml-expansion-fix.rb para a directoria
RAILS_ROOT/config/initializers para que este seja automaticamente
inicializado.</p>
<p>Por omissão, a expansão de entidades XML é de 10000. Poderá alterar este
valor mudando REXML::Document.entity_expansion_limit.</p>
<!-- raw HTML omitted -->
<p>Esta correcção estará disponível também como uma gema e utilizada por
versões futuras de Rails, mas aconselham-se medidas de correcção
imediatas.</p>
<h2>Créditos</h2>
<p>Créditos para Luka Treiber and Mitja Kolsek da ACROS Security por
informar as Equipas de Segurança de Ruby e Ruby on Rails.</p>
<p>Créditos para Michael Koziarski da Rails Core Team por criar a correcção
para a vulnerabilidade</p>

  </div>
</div>
<hr class="hidden-modern" />

<div id="sidebar-wrapper">
  <div id="sidebar">
    <div class="navigation">
      

      <h3><strong>Notícias Recentes</strong></h3>

      <ul class="menu">
        
        <li><a href="/pt/news/2020/10/02/ruby-2-7-2-released/">Lançado Ruby 2.7.2</a></li>
        
        <li><a href="/pt/news/2020/09/29/http-request-smuggling-cve-2020-25613/">CVE-2020-25613: Potencial Vulnerabilidade de Smuggling de Requisições HTTP no WEBrick</a></li>
        
        <li><a href="/pt/news/2020/09/25/ruby-3-0-0-preview1-released/">Lançado Ruby 3.0.0 Preview 1</a></li>
        
        <li><a href="/pt/news/2019/10/16/fukuoka-ruby-award-2020/">Competição 2020 Fukuoka Ruby Award - Submissões serão julgadas por Matz</a></li>
        
        <li><a href="/pt/news/2019/10/02/ruby-2-4-9-released/">Lançado Ruby 2.4.9</a></li>
        
      </ul>
    </div>

    

    <h3>Feeds de notícias (RSS)</h3>
    <p><a href="/pt/feeds/news.rss">Em português</a></p>
  </div>
</div>
<hr class="hidden-modern" />

        </div>
      </div>
    </div>

    <div class="container">
      <div id="footer">
        <div class="site-links">
          

  <a href="/pt/" class="home">Home</a>

  <a href="/pt/downloads/">Downloads</a>

  <a href="/pt/documentation/">Documentação</a>

  <a href="/pt/libraries/">Módulos</a>

  <a href="/pt/community/">Comunidade</a>

  <a href="/pt/news/">Notícias</a>

  <a href="/pt/security/">Segurança</a>

  <a href="/pt/about/">Sobre Ruby</a>


        </div>

        <p>

  Este site em outros idiomas:

<a href="/bg/">Български</a>,
<a href="/de/">Deutsch</a>,
<a href="/en/">English</a>,
<a href="/es/">Español</a>,
<a href="/fr/">Français</a>,
<a href="/id/">Bahasa Indonesia</a>,
<a href="/it/">Italiano</a>,
<a href="/ja/">日本語</a>,
<a href="/ko/">한국어</a>,
<a href="/pl/">polski</a>,
<a href="/pt/">Português</a>,
<a href="/ru/">Русский</a>,
<a href="/tr/">Türkçe</a>,
<a href="/vi/">Tiếng Việt</a>,
<a href="/zh_cn/">简体中文</a>,
<a href="/zh_tw/">繁體中文</a>.
</p>

        
  <p><a href="/pt/about/website/">Este website</a> é mantido com orgulho por membros da comunidade Ruby.</p>


      </div>
    </div>
  </body>
</html>
