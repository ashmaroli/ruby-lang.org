<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    
    <title>Ruby 3.0.0 Released</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta itemprop="image" content="https://www.ruby-lang.org/images/header-ruby-logo@2x.png">
    
    <meta name="description" content="">
    

    <link rel="stylesheet" type="text/css" href="/stylesheets/normalize.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/main.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/pygments.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/mobile.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css">
    <link href='https://fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic,700italic&amp;subset=latin,cyrillic,greek,vietnamese' rel='stylesheet' type='text/css'>
    <link rel="canonical" href="https://www.ruby-lang.org/en/news/2020/12/25/ruby-3-0-0-released/">

    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    
    <link href="/en/feeds/news.rss" rel="alternate" title="Recent News (RSS)" type="application/rss+xml">


    <script type="text/javascript" src="/javascripts/jquery.min.js"></script>
    <script type="text/javascript" src="/javascripts/page.js"></script>
    
  </head>

  

  <body>
    <div id="header">
      <div id="header_content" class="container">
        <a href="/en/">
          <h1>Ruby</h1>
          <h2>A Programmer's Best Friend</h2>
        </a>

        <div class="site-links">
          

  <a href="/en/" class="home">Home</a>

  <a href="/en/downloads/">Downloads</a>

  <a href="/en/documentation/">Documentation</a>

  <a href="/en/libraries/">Libraries</a>

  <a href="/en/community/">Community</a>

  <a href="/en/news/">News</a>

  <a href="/en/security/">Security</a>

  <a href="/en/about/">About Ruby</a>


          <a href="#" class="menu selected">Menu</a>
        </div>

        <div id="search-box">
          
<form id="search-form" action="https://www.google.com/cse">
  <table class="fieldset">
    <tr>
      <td>
        <input class="field" type="text" name="q" size="31" style="background: white url(//www.google.com/coop/intl/en/images/google_custom_search_watermark.gif) left no-repeat" onfocus="this.style.background='white'" onblur="if (/^\s*$/.test(this.value)) this.style.background='white url(//www.google.com/coop/intl/en/images/google_custom_search_watermark.gif) left no-repeat'"/>
      </td>
      <td>
        <input type="hidden" name="cx" value="013598269713424429640:g5orptiw95w" />
        <input type="hidden" name="ie" value="UTF-8" />
        <input class="button" type="submit" name="sa" value="Search" />
      </td>
    </tr>
  </table>
</form>

        </div>
      </div>
    </div>

    <div id="page">
      


      <div id="main-wrapper" class="container">
        <div id="main">
          

<div id="content-wrapper">
  
<h1>Ruby 3.0.0 Released</h1>



  <div id="content">
    <p class="post-info">Posted by naruse on 25 Dec 2020</p>

    <p>We are pleased to announce the release of Ruby 3.0.0. From 2015 we developed hard toward Ruby 3, whose goal is performance, concurrency, and Typing. Especially about performance, Matz stated &quot;Ruby3 will be 3 times faster than Ruby2&quot; a.k.a. <a href="https://blog.heroku.com/ruby-3-by-3">Ruby 3x3</a>.</p>
<!-- raw HTML omitted -->
<p>With <a href="https://github.com/mame/optcarrot">Optcarrot benchmark</a>, which measures single thread performance based on NES's game emulation workload, it achieved 3x faster performance than Ruby 2.0! <!-- raw HTML omitted -->These were measured at the environment noted in <a href="https://benchmark-driver.github.io/hardware.html">benchmark-driver.github.io/hardware.html</a>. <a href="https://github.com/ruby/ruby/commit/8c510e4095">Commit 8c510e4095</a> was used as Ruby 3.0. It may not be 3x faster depending on your environment or benchmark.<!-- raw HTML omitted --></p>
<p>Ruby 3.0.0 covers those goals by</p>
<ul>
<li>Performance
<ul>
<li>MJIT</li>
</ul>
</li>
<li>Concurrency
<ul>
<li>Ractor</li>
<li>Fiber Scheduler</li>
</ul>
</li>
<li>Typing (Static Analysis)
<ul>
<li>RBS</li>
<li>TypeProf</li>
</ul>
</li>
</ul>
<p>With the above performance improvement, Ruby 3.0 introduces several new features described below.</p>
<h2>Performance</h2>
<blockquote>
<p>When I first declared &quot;Ruby3x3&quot; in the conference keynote, many including members of the core team felt &quot;Matz is a boaster&quot;. In fact, I felt so too. But we did. I am honored to see the core team actually accomplished to make Ruby3.0 three times faster than Ruby2.0 (in some benchmarks). -- Matz</p>
</blockquote>
<h3>MJIT</h3>
<p>Many improvements were implemented in MJIT. See NEWS for details.</p>
<p>As of Ruby 3.0, JIT is supposed to give performance improvements in limited workloads, such as games (<a href="https://benchmark-driver.github.io/benchmarks/optcarrot/commits.html#chart-1">Optcarrot</a>), AI (<a href="https://benchmark-driver.github.io/benchmarks/rubykon/commits.html">Rubykon</a>), or whatever application that spends the majority of time in calling a few methods many times.</p>
<p>Although Ruby 3.0 <a href="https://twitter.com/k0kubun/status/1256142302608650244">significantly decreased the size of JIT-ed code</a>, it is still not ready for optimizing workloads like Rails, which often spend time on so many methods and therefore suffer from i-cache misses exacerbated by JIT. Stay tuned for Ruby 3.1 for further improvements on this issue.</p>
<h2>Concurrency / Parallel</h2>
<blockquote>
<p>It's multi-core age today. Concurrency is very important. With Ractor, along with Async Fiber, Ruby will be a real concurrent language. --- Matz</p>
</blockquote>
<h3>Ractor (experimental)</h3>
<p>Ractor is an Actor-model like concurrent abstraction designed to provide a parallel execution feature without thread-safety concerns.</p>
<p>You can make multiple ractors and you can run them in parallel. Ractor enables you to make thread-safe parallel programs because ractors can not share normal objects. Communication between ractors is supported by exchanging messages.</p>
<p>To limit the sharing of objects, Ractor introduces several restrictions to Ruby's syntax (without multiple Ractors, there is no restriction).</p>
<p>The specification and implementation are not matured and may be changed in the future, so this feature is marked as experimental and shows the &quot;experimental feature&quot; warning when the first <code>Ractor.new</code> occurs.</p>
<p>The following small program measures the execution time of the famous benchmark tak function (<a href="https://en.wikipedia.org/wiki/Tak_(function)">Tak (function) - Wikipedia</a>), by executing it 4 times sequentially or 4 times in parallel with ractors.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="k">def</span> <span class="nf">tarai</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span> <span class="o">=</span>
  <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">y</span> <span class="p">?</span> <span class="n">y</span> <span class="p">:</span> <span class="n">tarai</span><span class="p">(</span><span class="n">tarai</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">),</span>
                     <span class="n">tarai</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">x</span><span class="p">),</span>
                     <span class="n">tarai</span><span class="p">(</span><span class="n">z</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
<span class="nb">require</span> <span class="s1">'benchmark'</span>
<span class="no">Benchmark</span><span class="p">.</span><span class="nf">bm</span> <span class="k">do</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span>
  <span class="c1"># sequential version</span>
  <span class="n">x</span><span class="p">.</span><span class="nf">report</span><span class="p">(</span><span class="s1">'seq'</span><span class="p">){</span> <span class="mi">4</span><span class="p">.</span><span class="nf">times</span><span class="p">{</span> <span class="n">tarai</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">}</span> <span class="p">}</span>

  <span class="c1"># parallel version</span>
  <span class="n">x</span><span class="p">.</span><span class="nf">report</span><span class="p">(</span><span class="s1">'par'</span><span class="p">){</span>
    <span class="mi">4</span><span class="p">.</span><span class="nf">times</span><span class="p">.</span><span class="nf">map</span> <span class="k">do</span>
      <span class="no">Ractor</span><span class="p">.</span><span class="nf">new</span> <span class="p">{</span> <span class="n">tarai</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
    <span class="k">end</span><span class="p">.</span><span class="nf">each</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:take</span><span class="p">)</span>
  <span class="p">}</span>
<span class="k">end</span>
</code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Benchmark result:
          user     system      total        real
seq  64.560736   0.001101  64.561837 ( 64.562194)
par  66.422010   0.015999  66.438009 ( 16.685797)
</code></pre></div></div>
<p>The result was measured on Ubuntu 20.04, Intel(R) Core(TM) i7-6700 (4 cores, 8 hardware threads). It shows that the parallel version is 3.87 times faster than the sequential version.</p>
<p>See <a href="https://docs.ruby-lang.org/en/3.0/ractor_md.html">doc/ractor.md</a> for more details.</p>
<h3>Fiber Scheduler</h3>
<p><code>Fiber#scheduler</code> is introduced for intercepting blocking operations. This allows for light-weight concurrency without changing existing code. Watch <a href="https://www.youtube.com/watch?v=Y29SSOS4UOc">&quot;Don't Wait For Me, Scalable Concurrency for Ruby 3&quot;</a> for an overview of how it works.</p>
<p>Currently supported classes/methods:</p>
<ul>
<li><code>Mutex#lock</code>, <code>Mutex#unlock</code>, <code>Mutex#sleep</code></li>
<li><code>ConditionVariable#wait</code></li>
<li><code>Queue#pop</code>, <code>SizedQueue#push</code></li>
<li><code>Thread#join</code></li>
<li><code>Kernel#sleep</code></li>
<li><code>Process.wait</code></li>
<li><code>IO#wait</code>, <code>IO#read</code>, <code>IO#write</code>, and related methods (e.g. <code>#wait_readable</code>, <code>#gets</code>, <code>#puts</code>, and so on).</li>
<li><code>IO#select</code> is <em>not supported</em>.</li>
</ul>
<p>This example program will perform several HTTP requests concurrently:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="nb">require</span> <span class="s1">'async'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>
<span class="nb">require</span> <span class="s1">'uri'</span>

<span class="no">Async</span> <span class="k">do</span>
  <span class="p">[</span><span class="s2">"ruby"</span><span class="p">,</span> <span class="s2">"rails"</span><span class="p">,</span> <span class="s2">"async"</span><span class="p">].</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">topic</span><span class="o">|</span>
    <span class="no">Async</span> <span class="k">do</span>
      <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="no">URI</span> <span class="s2">"https://www.google.com/search?q=</span><span class="si">#{</span><span class="n">topic</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>
<p>It uses <a href="https://github.com/socketry/async">async</a> which provides the event loop. This event loop uses the <code>Fiber#scheduler</code> hooks to make <code>Net::HTTP</code> non-blocking. Other gems can use this interface to provide non-blocking execution for Ruby, and those gems can be compatible with other implementations of Ruby (e.g. JRuby, TruffleRuby) which can support the same non-blocking hooks.</p>
<h2>Static Analysis</h2>
<blockquote>
<p>2010s were an age of statically typed programming languages. Ruby seeks the future with static type checking, without type declaration, using abstract interpretation. RBS &amp; TypeProf are the first step to the future. More steps to come. --- Matz</p>
</blockquote>
<h3>RBS</h3>
<p>RBS is a language to describe the types of Ruby programs.</p>
<p>Type checkers including TypeProf and other tools supporting RBS will understand Ruby programs much better with RBS definitions.</p>
<p>You can write down the definition of classes and modules: methods defined in the class, instance variables and their types, and inheritance/mix-in relations.</p>
<p>The goal of RBS is to support commonly seen patterns in Ruby programs and it allows writing advanced types including union types, method overloading, and generics. It also supports duck typing with <em>interface types</em>.</p>
<p>Ruby 3.0 ships with the <code>rbs</code> gem, which allows parsing and processing type definitions written in RBS.
The following is a small example of RBS with class, module, and constant definitions.</p>
<div class="language-rbs highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="rbs">module ChatApp
  VERSION: String
  class Channel
    attr_reader name: String
    attr_reader messages: Array[Message]
    attr_reader users: Array[User | Bot]              # `|` means union types, `User` or `Bot`.
    def initialize: (String) -&gt; void
    def post: (String, from: User | Bot) -&gt; Message   # Method overloading is supported.
            | (File, from: User | Bot) -&gt; Message
  end
end
</code></pre></div></div>
<p>See <a href="https://github.com/ruby/rbs">README of rbs gem</a> for more detail.</p>
<h3>TypeProf</h3>
<p>TypeProf is a type analysis tool bundled in the Ruby package.</p>
<p>Currently, TypeProf serves as a kind of type inference.</p>
<p>It reads plain (non-type-annotated) Ruby code, analyzes what methods are defined and how they are used, and generates a prototype of type signature in RBS format.</p>
<p>Here is a simple demo of TypeProf.</p>
<p>An example input:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="c1"># test.rb</span>
<span class="k">class</span> <span class="nc">User</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="nb">name</span><span class="p">:,</span> <span class="n">age</span><span class="p">:)</span>
    <span class="vi">@name</span><span class="p">,</span> <span class="vi">@age</span> <span class="o">=</span> <span class="nb">name</span><span class="p">,</span> <span class="n">age</span>
  <span class="k">end</span>
  <span class="nb">attr_reader</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:age</span>
<span class="k">end</span>
<span class="no">User</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">name: </span><span class="s2">"John"</span><span class="p">,</span> <span class="ss">age: </span><span class="mi">20</span><span class="p">)</span>
</code></pre></div></div>
<p>An example output:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ typeprof test.rb
# Classes
class User
  attr_reader name : String
  attr_reader age : Integer
  def initialize : (name: String, age: Integer) -&gt; [String, Integer]
end
</code></pre></div></div>
<p>You can run TypeProf by saving the input as &quot;test.rb&quot; and invoking the command &quot;typeprof test.rb&quot;.</p>
<p>You can also <a href="https://mame.github.io/typeprof-playground/#rb=%23+test.rb%0Aclass+User%0A++def+initialize%28name%3A%2C+age%3A%29%0A++++%40name%2C+%40age+%3D+name%2C+age%0A++end%0A++%0A++attr_reader+%3Aname%2C+%3Aage%0Aend%0A%0AUser.new%28name%3A+%22John%22%2C+age%3A+20%29&amp;rbs=">try TypeProf online</a>.  (It runs TypeProf on the server side, so sorry if it is out!)</p>
<p>See the <a href="https://github.com/ruby/typeprof/blob/master/doc/doc.md">TypeProf documentation</a> and <a href="https://github.com/ruby/typeprof/blob/master/doc/demo.md">demos</a> for details.</p>
<p>TypeProf is experimental and not so mature yet; only a subset of the Ruby language is supported, and the detection of type errors is limited. But it is still growing rapidly to improve the coverage of language features, the analysis performance, and usability. Any feedback is very welcome.</p>
<h2>Other Notable New Features</h2>
<ul>
<li>
<p>One-line pattern matching is redesigned.  (experimental)</p>
<ul>
<li>
<p><code>=&gt;</code> is added. It can be used like a rightward assignment.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="mi">0</span> <span class="o">=&gt;</span> <span class="n">a</span>
<span class="nb">p</span> <span class="n">a</span> <span class="c1">#=&gt; 0</span>

<span class="p">{</span><span class="ss">b: </span><span class="mi">0</span><span class="p">,</span> <span class="ss">c: </span><span class="mi">1</span><span class="p">}</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="n">b</span><span class="p">:}</span>
<span class="nb">p</span> <span class="n">b</span> <span class="c1">#=&gt; 0</span>
</code></pre></div></div>
</li>
<li>
<p><code>in</code> is changed to return <code>true</code> or <code>false</code>.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="c1"># version 3.0</span>
<span class="mi">0</span> <span class="k">in</span> <span class="mi">1</span> <span class="c1">#=&gt; false</span>

<span class="c1"># version 2.7</span>
<span class="mi">0</span> <span class="k">in</span> <span class="mi">1</span> <span class="c1">#=&gt; raise NoMatchingPatternError</span>
</code></pre></div></div>
</li>
</ul>
</li>
<li>
<p>Find pattern is added. (experimental)</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="k">case</span> <span class="p">[</span><span class="s2">"a"</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">,</span> <span class="s2">"c"</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">"d"</span><span class="p">,</span> <span class="s2">"e"</span><span class="p">,</span> <span class="s2">"f"</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="k">in</span> <span class="p">[</span><span class="o">*</span><span class="n">pre</span><span class="p">,</span> <span class="no">String</span> <span class="o">=&gt;</span> <span class="n">x</span><span class="p">,</span> <span class="no">String</span> <span class="o">=&gt;</span> <span class="n">y</span><span class="p">,</span> <span class="o">*</span><span class="n">post</span><span class="p">]</span>
  <span class="nb">p</span> <span class="n">pre</span>  <span class="c1">#=&gt; ["a", 1]</span>
  <span class="nb">p</span> <span class="n">x</span>    <span class="c1">#=&gt; "b"</span>
  <span class="nb">p</span> <span class="n">y</span>    <span class="c1">#=&gt; "c"</span>
  <span class="nb">p</span> <span class="n">post</span> <span class="c1">#=&gt; [2, "d", "e", "f", 3]</span>
<span class="k">end</span>
</code></pre></div></div>
</li>
<li>
<p>Endless method definition is added.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="k">def</span> <span class="nf">square</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span>
</code></pre></div></div>
</li>
<li>
<p><code>Hash#except</code> is now built-in.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="n">h</span> <span class="o">=</span> <span class="p">{</span> <span class="ss">a: </span><span class="mi">1</span><span class="p">,</span> <span class="ss">b: </span><span class="mi">2</span><span class="p">,</span> <span class="ss">c: </span><span class="mi">3</span> <span class="p">}</span>
<span class="nb">p</span> <span class="n">h</span><span class="p">.</span><span class="nf">except</span><span class="p">(</span><span class="ss">:a</span><span class="p">)</span> <span class="c1">#=&gt; {:b=&gt;2, :c=&gt;3}</span>
</code></pre></div></div>
</li>
<li>
<p>Memory view is added as an experimental feature</p>
<ul>
<li>This is a new C-API set to exchange a raw memory area, such as a numeric array or a bitmap image, between extension libraries.  The extension libraries can share also the metadata of the memory area that consists of the shape, the element format, and so on.  Using these kinds of metadata, the extension libraries can share even a multidimensional array appropriately.  This feature is designed by referring to Python's buffer protocol.</li>
</ul>
</li>
</ul>
<h2>Performance improvements</h2>
<ul>
<li>Pasting long code to IRB is 53 times faster than in the version bundled with Ruby 2.7.0. For example, the time required to paste <a href="https://gist.github.com/aycabta/30ab96334275bced5796f118c9220b0b">this sample code</a> goes from 11.7 seconds to 0.22 seconds.</li>
</ul>
<!-- raw HTML omitted -->
<ul>
<li>
<p>The <code>measure</code> command has been added to IRB. It allows simple execution time measurement.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>irb(main):001:0&gt; 3
=&gt; 3
irb(main):002:0&gt; measure
TIME is added.
=&gt; nil
irb(main):003:0&gt; 3
processing time: 0.000058s
=&gt; 3
irb(main):004:0&gt; measure :off
=&gt; nil
irb(main):005:0&gt; 3
=&gt; 3
</code></pre></div></div>
</li>
</ul>
<h2>Other notable changes since 2.7</h2>
<ul>
<li>
<p>Keyword arguments are separated from other arguments.</p>
<ul>
<li>
<p>In principle, code that prints a warning on Ruby 2.7 won't work.  See <a href="https://www.ruby-lang.org/en/news/2019/12/12/separation-of-positional-and-keyword-arguments-in-ruby-3-0/">this document</a> for details.</p>
</li>
<li>
<p>By the way, arguments forwarding now supports leading arguments.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="k">def</span> <span class="nf">method_missing</span><span class="p">(</span><span class="n">meth</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
  <span class="nb">send</span><span class="p">(</span><span class="ss">:"do_</span><span class="si">#{</span> <span class="n">meth</span> <span class="si">}</span><span class="ss">"</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div></div>
</li>
</ul>
</li>
<li>
<p>Pattern matching (<code>case</code>/<code>in</code>) is no longer experimental.</p>
<ul>
<li>See the <a href="https://docs.ruby-lang.org/en/3.0/syntax/pattern_matching_rdoc.html">pattern matching documentation</a> for details.</li>
</ul>
</li>
<li>
<p>The <code>$SAFE</code> feature was completely removed; now it is a normal global variable.</p>
</li>
<li>
<p>The order of backtraces had been reversed with Ruby 2.5; this change has been reverted.  Now backtraces behave like in Ruby 2.4: an error message and the line number where the exception occurs are printed first, and its callers are printed later.</p>
</li>
<li>
<p>Some standard libraries are updated.</p>
<ul>
<li>RubyGems 3.2.3</li>
<li>Bundler 2.2.3</li>
<li>IRB 1.3.0</li>
<li>Reline 0.2.0</li>
<li>Psych 3.3.0</li>
<li>JSON 2.5.1</li>
<li>BigDecimal 3.0.0</li>
<li>CSV 3.1.9</li>
<li>Date 3.1.0</li>
<li>Digest 3.0.0</li>
<li>Fiddle 1.0.6</li>
<li>StringIO 3.0.0</li>
<li>StringScanner 3.0.0</li>
<li>etc.</li>
</ul>
</li>
<li>
<p>The following libraries are no longer bundled gems or standard libraries.
Install the corresponding gems to use these features.</p>
<ul>
<li>sdbm</li>
<li>webrick</li>
<li>net-telnet</li>
<li>xmlrpc</li>
</ul>
</li>
<li>
<p>The following default gems are now bundled gems.</p>
<ul>
<li>rexml</li>
<li>rss</li>
</ul>
</li>
<li>
<p>The following stdlib files are now default gems and are published on rubygems.org.</p>
<ul>
<li>English</li>
<li>abbrev</li>
<li>base64</li>
<li>drb</li>
<li>debug</li>
<li>erb</li>
<li>find</li>
<li>net-ftp</li>
<li>net-http</li>
<li>net-imap</li>
<li>net-protocol</li>
<li>open-uri</li>
<li>optparse</li>
<li>pp</li>
<li>prettyprint</li>
<li>resolv-replace</li>
<li>resolv</li>
<li>rinda</li>
<li>set</li>
<li>securerandom</li>
<li>shellwords</li>
<li>tempfile</li>
<li>tmpdir</li>
<li>time</li>
<li>tsort</li>
<li>un</li>
<li>weakref</li>
<li>digest</li>
<li>io-nonblock</li>
<li>io-wait</li>
<li>nkf</li>
<li>pathname</li>
<li>syslog</li>
<li>win32ole</li>
</ul>
</li>
</ul>
<p>See <a href="https://github.com/ruby/ruby/blob/v3_0_0/NEWS.md">NEWS</a>
or <a href="https://github.com/ruby/ruby/compare/v2_7_0...v3_0_0">commit logs</a>
for more details.</p>
<p>With those changes, <a href="https://github.com/ruby/ruby/compare/v2_7_0...v3_0_0#file_bucket">4028 files changed, 200058 insertions(+), 154063 deletions(-)</a>
since Ruby 2.7.0!</p>
<blockquote>
<p>Ruby3.0 is a milestone. The language is evolved, keeping compatibility. But it's not the end. Ruby will keep progressing, and become even greater. Stay tuned! --- Matz</p>
</blockquote>
<p>Merry Christmas, Happy Holidays, and enjoy programming with Ruby 3.0!</p>
<h2>Download</h2>
<ul>
<li>
<p><a href="https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.0.tar.gz">https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.0.tar.gz</a></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SIZE: 19539509
SHA1: 233873708c1ce9fdc295e0ef1c25e64f9b98b062
SHA256: a13ed141a1c18eb967aac1e33f4d6ad5f21be1ac543c344e0d6feeee54af8e28
SHA512: e62f4f63dc12cff424e8a09adc06477e1fa1ee2a9b2b6e28ca22fd52a211e8b8891c0045d47935014a83f2df2d6fc7c8a4fd87f01e63c585afc5ef753e1dd1c1
</code></pre></div></div>
</li>
<li>
<p><a href="https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.0.tar.xz">https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.0.tar.xz</a></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SIZE: 14374176
SHA1: c142899d70a1326c5a71311b17168f98c15e5d89
SHA256: 68bfaeef027b6ccd0032504a68ae69721a70e97d921ff328c0c8836c798f6cb1
SHA512: 2a23c2894e62e24bb20cec6b2a016b66d7df05083668726b6f70af8338211cfec417aa3624290d1f5ccd130f65ee7b52b5db7d428abc4a9460459c9a5dd1a450
</code></pre></div></div>
</li>
<li>
<p><a href="https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.0.zip">https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.0.zip</a></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SIZE: 23862057
SHA1: 2a9629102d71c7fe7f31a8c91f64e570a40d093c
SHA256: a5e4fa7dc5434a7259e9a29527eeea2c99eeb5e82708f66bb07731233bc860f4
SHA512: e5bf742309d79f05ec1bd1861106f4b103e4819ca2b92a826423ff451465b49573a917cb893d43a98852435966323e2820a4b9f9377f36cf771b8c658f80fa5b
</code></pre></div></div>
</li>
</ul>
<h2>What is Ruby</h2>
<p>Ruby was first developed by Matz (Yukihiro Matsumoto) in 1993
and is now developed as Open Source. It runs on multiple platforms
and is used all over the world especially for web development.</p>

  </div>
</div>
<hr class="hidden-modern" />

<div id="sidebar-wrapper">
  <div id="sidebar">
    <div class="navigation">
      

      <h3><strong>Recent News</strong></h3>

      <ul class="menu">
        
        <li><a href="/en/news/2022/12/25/ruby-3-2-0-released/">Ruby 3.2.0 Released</a></li>
        
        <li><a href="/en/news/2022/12/06/ruby-3-2-0-rc1-released/">Ruby 3.2.0 RC 1 Released</a></li>
        
        <li><a href="/en/news/2022/11/24/ruby-3-1-3-released/">Ruby 3.1.3 Released</a></li>
        
        <li><a href="/en/news/2022/11/24/ruby-3-0-5-released/">Ruby 3.0.5 Released</a></li>
        
        <li><a href="/en/news/2022/11/24/ruby-2-7-7-released/">Ruby 2.7.7 Released</a></li>
        
      </ul>
    </div>

    

    <h3>Syndicate</h3>
    <p><a href="/en/feeds/news.rss">Recent News (RSS)</a></p>
  </div>
</div>
<hr class="hidden-modern" />

        </div>
      </div>
    </div>

    <div class="container">
      <div id="footer">
        <div class="site-links">
          

  <a href="/en/" class="home">Home</a>

  <a href="/en/downloads/">Downloads</a>

  <a href="/en/documentation/">Documentation</a>

  <a href="/en/libraries/">Libraries</a>

  <a href="/en/community/">Community</a>

  <a href="/en/news/">News</a>

  <a href="/en/security/">Security</a>

  <a href="/en/about/">About Ruby</a>


        </div>

        <p>

  This site in other languages:

<a href="/bg/">Български</a>,
<a href="/de/">Deutsch</a>,
<a href="/en/">English</a>,
<a href="/es/">Español</a>,
<a href="/fr/">Français</a>,
<a href="/id/">Bahasa Indonesia</a>,
<a href="/it/">Italiano</a>,
<a href="/ja/">日本語</a>,
<a href="/ko/">한국어</a>,
<a href="/pl/">polski</a>,
<a href="/pt/">Português</a>,
<a href="/ru/">Русский</a>,
<a href="/tr/">Türkçe</a>,
<a href="/vi/">Tiếng Việt</a>,
<a href="/zh_cn/">简体中文</a>,
<a href="/zh_tw/">繁體中文</a>.
</p>

        
  <p><a href="/en/about/website/">This website</a> is proudly maintained by members of the Ruby community.</p>


      </div>
    </div>
  </body>
</html>
