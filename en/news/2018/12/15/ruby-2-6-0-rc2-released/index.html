<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    
    <title>Ruby 2.6.0-rc2 Released</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta itemprop="image" content="https://www.ruby-lang.org/images/header-ruby-logo@2x.png">
    
    <meta name="description" content="">
    

    <link rel="stylesheet" type="text/css" href="/stylesheets/normalize.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/main.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/pygments.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/mobile.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css">
    <link href='https://fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic,700italic&amp;subset=latin,cyrillic,greek,vietnamese' rel='stylesheet' type='text/css'>
    <link rel="canonical" href="https://www.ruby-lang.org/en/news/2018/12/15/ruby-2-6-0-rc2-released/">

    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    
    <link href="/en/feeds/news.rss" rel="alternate" title="Recent News (RSS)" type="application/rss+xml">


    <script type="text/javascript" src="/javascripts/jquery.min.js"></script>
    <script type="text/javascript" src="/javascripts/page.js"></script>
    
  </head>

  

  <body>
    <div id="header">
      <div id="header_content" class="container">
        <a href="/en/">
          <h1>Ruby</h1>
          <h2>A Programmer's Best Friend</h2>
        </a>

        <div class="site-links">
          

  <a href="/en/" class="home">Home</a>

  <a href="/en/downloads/">Downloads</a>

  <a href="/en/documentation/">Documentation</a>

  <a href="/en/libraries/">Libraries</a>

  <a href="/en/community/">Community</a>

  <a href="/en/news/">News</a>

  <a href="/en/security/">Security</a>

  <a href="/en/about/">About Ruby</a>


          <a href="#" class="menu selected">Menu</a>
        </div>

        <div id="search-box">
          
<form id="search-form" action="https://www.google.com/cse">
  <table class="fieldset">
    <tr>
      <td>
        <input class="field" type="text" name="q" size="31" style="background: white url(//www.google.com/coop/intl/en/images/google_custom_search_watermark.gif) left no-repeat" onfocus="this.style.background='white'" onblur="if (/^\s*$/.test(this.value)) this.style.background='white url(//www.google.com/coop/intl/en/images/google_custom_search_watermark.gif) left no-repeat'"/>
      </td>
      <td>
        <input type="hidden" name="cx" value="013598269713424429640:g5orptiw95w" />
        <input type="hidden" name="ie" value="UTF-8" />
        <input class="button" type="submit" name="sa" value="Search" />
      </td>
    </tr>
  </table>
</form>

        </div>
      </div>
    </div>

    <div id="page">
      


      <div id="main-wrapper" class="container">
        <div id="main">
          

<div id="content-wrapper">
  
<h1>Ruby 2.6.0-rc2 Released</h1>



  <div id="content">
    <p class="post-info">Posted by naruse on 15 Dec 2018</p>

    <p>We are pleased to announce the release of Ruby 2.6.0-rc2.</p>
<p>Ruby 2.6.0-rc2 is the second release candidate of Ruby 2.6.0.
RC2 is released to test bundled Bundler 1.17 instead of 2.0.
It introduces some new features and performance improvements, for example:</p>
<h2>JIT</h2>
<p>Ruby 2.6 introduces an initial implementation of a JIT (Just-in-time) compiler.</p>
<p>The JIT compiler aims to improve performance of any Ruby program execution.
Unlike ordinary JIT compilers for other languages, Ruby's JIT compiler does JIT compilation in a unique way, which writes C code to a disk and spawns a common C compiler process to generate native code.
See also: <a href="https://github.com/vnmakarov/ruby/tree/rtl_mjit_branch#mjit-organization">MJIT organization (by Vladimir Makarov)</a>.</p>
<p>How to use: Just specify <code>--jit</code> in the command line or <code>$RUBYOPT</code> environment variable.
Specifying <code>--jit-verbose=1</code> allows to print basic information of ongoing JIT compilation. See <code>ruby --help</code> for other options.</p>
<p>The main purpose of this JIT release is to provide a chance to check if it works for your platform and to find out security risks before the 2.6 release.
The JIT compiler is supported when Ruby is built by GCC, Clang, or Microsoft VC++, which needs to be available at runtime. Otherwise you can't use it for now.</p>
<p>As of Ruby 2.6.0-rc2, we achieved 1.7x faster performance than Ruby 2.5 on a CPU-intensive non-trivial benchmark workload called Optcarrot <a href="https://gist.github.com/k0kubun/d7f54d96f8e501bbbc78b927640f4208">https://gist.github.com/k0kubun/d7f54d96f8e501bbbc78b927640f4208</a>. We're going to improve the performance on memory-intensive workloads like Rails applications as well.</p>
<p>Stay tuned for the new age of Ruby's performance.</p>
<h2>RubyVM::AbstractSyntaxTree [Experimental]</h2>
<p>Ruby 2.6 introduces the <code>RubyVM::AbstractSyntaxTree</code> module.</p>
<p>This module has a <code>parse</code> method which parses Ruby code from a given string and returns AST (Abstract Syntax Tree) nodes, and a <code>parse_file</code> method which parses Ruby code from a given file and returns AST nodes.
The <code>RubyVM::AbstractSyntaxTree::Node</code> class is also introduced. You can get location information and children nodes from <code>Node</code> objects. This feature is experimental. Compatibility of the structure of AST nodes is not guaranteed.</p>
<h2>New Features</h2>
<ul>
<li>
<p>Add a new alias <code>then</code> to <code>Kernel#yield_self</code>. <a href="https://bugs.ruby-lang.org/issues/14594">[Feature #14594]</a></p>
</li>
<li>
<p><code>else</code> without <code>rescue</code> now causes a syntax error.  [EXPERIMENTAL]<a href="https://bugs.ruby-lang.org/issues/14606">[Feature #14606]</a></p>
</li>
<li>
<p>Constant names may start with a non-ASCII capital letter. <a href="https://bugs.ruby-lang.org/issues/13770">[Feature #13770]</a></p>
</li>
<li>
<p>Introduce endless ranges. <a href="https://bugs.ruby-lang.org/issues/12912">[Feature #12912]</a></p>
<p>An endless range, <code>(1..)</code>, is introduced. It works as if it has no end. This shows typical use cases:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ary[1..]                             # identical to ary[1..-1] without magical -1
(1..).each {|index| block }          # inifinite loop from index 1
ary.zip(1..) {|elem, index| block }  # ary.each.with_index(1) { }
</code></pre></div></div>
</li>
<li>
<p>Add <code>Binding#source_location</code>.  <a href="https://bugs.ruby-lang.org/issues/14230">[Feature #14230]</a></p>
<p>This method returns the source location of the binding, a 2-element array of <code>__FILE__</code> and <code>__LINE__</code>.  Traditionally, the same information could be retrieved by <code>eval(&quot;[__FILE__, __LINE__]&quot;, binding)</code>, but we are planning to change this behavior so that <code>Kernel#eval</code> ignores binding's source location <a href="https://bugs.ruby-lang.org/issues/4352">[Bug #4352]</a>.  So, users should use this newly-introduced method instead of <code>Kernel#eval</code>.</p>
</li>
<li>
<p>Add <code>:exception</code> option to let <code>Kernel#system</code> raise an exception on failure instead of returning <code>false</code>.  <a href="https://bugs.ruby-lang.org/issues/14386">[Feature #14386]</a></p>
</li>
<li>
<p>Add a oneshot mode to <code>Coverage</code>. <a href="https://bugs.ruby-lang.org/issues/15022">[Feature#15022]</a></p>
<ul>
<li>This mode checks &quot;whether each line was executed at least once or not&quot;, instead of &quot;how many times each line was executed&quot;.  A hook for each line is fired at most once, and after it is fired the hook flag is removed, i.e., it runs with zero overhead.</li>
<li>Add <code>:oneshot_lines</code> keyword argument to Coverage.start.</li>
<li>Add <code>:stop</code> and <code>:clear</code> keyword arguments to Coverage.result. If <code>clear</code> is true, it clears the counters to zero.  If <code>stop</code> is true, it disables coverage measurement.</li>
<li>Coverage.line_stub, which is a simple helper function that creates the &quot;stub&quot; of line coverage from a given source code.</li>
</ul>
</li>
<li>
<p>Add <code>FileUtils#cp_lr</code>.  <a href="https://bugs.ruby-lang.org/issues/4189">[Feature #4189]</a></p>
</li>
</ul>
<h2>Performance improvements</h2>
<ul>
<li>
<p>Speedup <code>Proc#call</code> because we don't need to care about <code>$SAFE</code> any more.
<a href="https://bugs.ruby-lang.org/issues/14318">[Feature #14318]</a></p>
<p>With <code>lc_fizzbuzz</code> benchmark which uses <code>Proc#call</code> many times we can measure
x1.4 improvements. <a href="https://bugs.ruby-lang.org/issues/10212">[Bug #10212]</a>.</p>
</li>
<li>
<p>Speedup <code>block.call</code> where <code>block</code> is passed block parameter. <a href="https://bugs.ruby-lang.org/issues/14330">[Feature #14330]</a></p>
<p>Ruby 2.5 improves block passing performance. <a href="https://bugs.ruby-lang.org/issues/14045">[Feature #14045]</a></p>
<p>Additionally, Ruby 2.6 improves the performance of passed block calling.
With micro-benchmark we can observe x2.6 improvement.</p>
</li>
<li>
<p>Transient Heap (theap) is introduced. <a href="https://bugs.ruby-lang.org/issues/14858">[Bug #14858]</a> <a href="https://bugs.ruby-lang.org/issues/14989">[Feature #14989]</a></p>
<p>theap is a managed heap for short-living memory objects which are pointed to by
specific classes (Array, Hash, Object, and Struct). For example, making a small
and short-living Hash object is x2 faster. With rdoc benchmark, we observed
6-7% performance improvement.</p>
</li>
</ul>
<h2>Other notable changes since 2.5</h2>
<ul>
<li>
<p><code>$SAFE</code> now is a process global state and can be set to <code>0</code> again.  <a href="https://bugs.ruby-lang.org/issues/14250">[Feature #14250]</a></p>
</li>
<li>
<p>Passing <code>safe_level</code> to <code>ERB.new</code> is deprecated. <code>trim_mode</code> and <code>eoutvar</code> arguments are changed to keyword arguments. <a href="https://bugs.ruby-lang.org/issues/14256">[Feature #14256]</a></p>
</li>
<li>
<p>Supported Unicode version is updated to 11. It is planned to update to 12 and 12.1 in future TEENY releases of Ruby 2.6.</p>
</li>
<li>
<p>Merge RubyGems 3.0.0.beta3. <code>--ri</code> and <code>--rdoc</code> options were removed. Please use <code>--document</code> and <code>--no-document</code> options instead.</p>
</li>
<li>
<p>Merge <a href="https://github.com/bundler/bundler">Bundler</a> as default gem.</p>
</li>
</ul>
<p>See <a href="https://github.com/ruby/ruby/blob/v2_6_0_rc2/NEWS">NEWS</a>
or the <a href="https://github.com/ruby/ruby/compare/v2_5_0...v2_6_0_rc2">commit logs</a>
for details.</p>
<p>With those changes,
<a href="https://github.com/ruby/ruby/compare/v2_5_0...v2_6_0_rc2">6411 files changed, 228864 insertions(+), 97600 deletions(-)</a>
since Ruby 2.5.0!</p>
<p>Enjoy programming with Ruby 2.6.0-rc2!</p>
<h2>Download</h2>
<ul>
<li>
<p><a href="https://cache.ruby-lang.org/pub/ruby/2.6/ruby-2.6.0-rc2.tar.gz">https://cache.ruby-lang.org/pub/ruby/2.6/ruby-2.6.0-rc2.tar.gz</a></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SIZE:   16723556 bytes
SHA1:   a4d7f8c8c3584a60fe1a57d03d80162361fe3c78
SHA256: 9c0245e96379246040f1fd0978f8e447e7f47cdccbdaffdb83302a995276b62b
SHA512: 789f608f93db6e12835911f3105d9abe2fabb67cd22dc3bafdff38716ac56974925738e7f7788ebef5bdf67b6fd91f84a4ee78a3e5d072cfc8ee0972de737b08
</code></pre></div></div>
</li>
<li>
<p><a href="https://cache.ruby-lang.org/pub/ruby/2.6/ruby-2.6.0-rc2.zip">https://cache.ruby-lang.org/pub/ruby/2.6/ruby-2.6.0-rc2.zip</a></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SIZE:   20643747 bytes
SHA1:   c1a2898949d929dd952880f1c1c2bac2ef2609b4
SHA256: e8a446cf1f2ffc14483604de0a5e12c2578dd2f672ae87798ca2bbb9b7b73899
SHA512: 2d06feae13f485f5da59574672b14d03881ed532d652648f94e2435f5d81df623b5ef532b8ba8e0b9bc4ee6baf7c0328a5610eab753a9020a0fea2673254c76c
</code></pre></div></div>
</li>
<li>
<p><a href="https://cache.ruby-lang.org/pub/ruby/2.6/ruby-2.6.0-rc2.tar.bz2">https://cache.ruby-lang.org/pub/ruby/2.6/ruby-2.6.0-rc2.tar.bz2</a></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SIZE:   14581998 bytes
SHA1:   94bbee97de4955e67effb7f512c58300617a3a09
SHA256: b3d03e471e3136f43bb948013d4f4974abb63d478e8ff7ec2741b22750a3ec50
SHA512: 9bfbe83fd3699b71bae2350801d8c967eb128e79b62a9d36fc0f011b83c53cab28a280939f4cc9f0a28f9bf02dce8eea30866ca4d06480dc44289400abf580ba
</code></pre></div></div>
</li>
<li>
<p><a href="https://cache.ruby-lang.org/pub/ruby/2.6/ruby-2.6.0-rc2.tar.xz">https://cache.ruby-lang.org/pub/ruby/2.6/ruby-2.6.0-rc2.tar.xz</a></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SIZE:   11908088 bytes
SHA1:   13a7f06d832dc28989e3e4321490a6ba528ed023
SHA256: d620b3d87b3190867304067f3ce77f5305f7ec1b2e73b09c17710c97c028986d
SHA512: a3dc43c0bc70dfdb9ff0d18b5b9797bbf332524f5d3bbb7940cf4e32286ca715808acfd11ebf3cdbe358a2466b7c6b5be3a7a784af7eb95c071fe1f8b4ab1261
</code></pre></div></div>
</li>
</ul>

  </div>
</div>
<hr class="hidden-modern" />

<div id="sidebar-wrapper">
  <div id="sidebar">
    <div class="navigation">
      

      <h3><strong>Recent News</strong></h3>

      <ul class="menu">
        
        <li><a href="/en/news/2022/12/25/ruby-3-2-0-released/">Ruby 3.2.0 Released</a></li>
        
        <li><a href="/en/news/2022/12/06/ruby-3-2-0-rc1-released/">Ruby 3.2.0 RC 1 Released</a></li>
        
        <li><a href="/en/news/2022/11/24/ruby-3-1-3-released/">Ruby 3.1.3 Released</a></li>
        
        <li><a href="/en/news/2022/11/24/ruby-3-0-5-released/">Ruby 3.0.5 Released</a></li>
        
        <li><a href="/en/news/2022/11/24/ruby-2-7-7-released/">Ruby 2.7.7 Released</a></li>
        
      </ul>
    </div>

    

    <h3>Syndicate</h3>
    <p><a href="/en/feeds/news.rss">Recent News (RSS)</a></p>
  </div>
</div>
<hr class="hidden-modern" />

        </div>
      </div>
    </div>

    <div class="container">
      <div id="footer">
        <div class="site-links">
          

  <a href="/en/" class="home">Home</a>

  <a href="/en/downloads/">Downloads</a>

  <a href="/en/documentation/">Documentation</a>

  <a href="/en/libraries/">Libraries</a>

  <a href="/en/community/">Community</a>

  <a href="/en/news/">News</a>

  <a href="/en/security/">Security</a>

  <a href="/en/about/">About Ruby</a>


        </div>

        <p>

  This site in other languages:

<a href="/bg/">Български</a>,
<a href="/de/">Deutsch</a>,
<a href="/en/">English</a>,
<a href="/es/">Español</a>,
<a href="/fr/">Français</a>,
<a href="/id/">Bahasa Indonesia</a>,
<a href="/it/">Italiano</a>,
<a href="/ja/">日本語</a>,
<a href="/ko/">한국어</a>,
<a href="/pl/">polski</a>,
<a href="/pt/">Português</a>,
<a href="/ru/">Русский</a>,
<a href="/tr/">Türkçe</a>,
<a href="/vi/">Tiếng Việt</a>,
<a href="/zh_cn/">简体中文</a>,
<a href="/zh_tw/">繁體中文</a>.
</p>

        
  <p><a href="/en/about/website/">This website</a> is proudly maintained by members of the Ruby community.</p>


      </div>
    </div>
  </body>
</html>
