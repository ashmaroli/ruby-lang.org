<?xml version="1.0" encoding="UTF-8"?>


<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Ruby News</title>
    <link>https://www.ruby-lang.org/en/feeds/news.rss</link>
    <language>en-US</language>
    <ttl>40</ttl>
    <description>The latest news from ruby-lang.org.</description>
    
    <item>
      <title>Ruby 3.2.0 Released</title>
      <description>&lt;p&gt;We are pleased to announce the release of Ruby 3.2.0. Ruby 3.2 adds many features and performance improvements.&lt;/p&gt;
&lt;h2&gt;WASI based WebAssembly support&lt;/h2&gt;
&lt;p&gt;This is an initial port of WASI based WebAssembly support. This enables a CRuby binary to be available on a Web browser, a Serverless Edge environment, or other kinds of WebAssembly/WASI embedders. Currently this port passes basic and bootstrap test suites not using the Thread API.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/opCgKy2.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;h3&gt;Background&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://webassembly.org/&quot;&gt;WebAssembly (Wasm)&lt;/a&gt; was originally introduced to run programs safely and fast in web browsers. But its objective - running programs efficiently with security on various environment - is long wanted not only for web but also by general applications.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://wasi.dev/&quot;&gt;WASI (The WebAssembly System Interface)&lt;/a&gt; is designed for such use cases. Though such applications need to communicate with operating systems, WebAssembly runs on a virtual machine which didn't have a system interface. WASI standardizes it.&lt;/p&gt;
&lt;p&gt;WebAssembly/WASI support in Ruby intends to leverage those projects. It enables Ruby developers to write applications which run on such promised platforms.&lt;/p&gt;
&lt;h3&gt;Use case&lt;/h3&gt;
&lt;p&gt;This support encourages developers to utilize CRuby in a WebAssembly environment. An example use case is &lt;a href=&quot;https://try.ruby-lang.org/playground/&quot;&gt;TryRuby playground&lt;/a&gt;'s CRuby support. Now you can try original CRuby in your web browser.&lt;/p&gt;
&lt;h3&gt;Technical points&lt;/h3&gt;
&lt;p&gt;Today’s WASI and WebAssembly itself is missing some features to implement Fiber, exception, and GC because it’s still evolving, and also for security reasons. So CRuby fills the gap by using Asyncify, which is a binary transformation technique to control execution in userland.&lt;/p&gt;
&lt;p&gt;In addition, we built &lt;a href=&quot;https://github.com/kateinoigakukun/wasi-vfs/wiki/Getting-Started-with-CRuby&quot;&gt;a VFS on top of WASI&lt;/a&gt; so that we can easily pack Ruby apps into a single .wasm file. This makes distribution of Ruby apps a bit easier.&lt;/p&gt;
&lt;h3&gt;Related links&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/ruby/ruby/pull/5407&quot;&gt;Add WASI based WebAssembly support #5407&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://itnext.io/final-report-webassembly-wasi-support-in-ruby-4aface7d90c9&quot;&gt;An Update on WebAssembly/WASI Support in Ruby&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Production-ready YJIT&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/X9ulfac.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;YJIT is no longer experimental
&lt;ul&gt;
&lt;li&gt;Has been tested on production workloads for over a year and proven to be quite stable.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;YJIT now supports both x86-64 and arm64/aarch64 CPUs on Linux, MacOS, BSD and other UNIX platforms.
&lt;ul&gt;
&lt;li&gt;This release brings support for Apple M1/M2, AWS Graviton, Raspberry Pi 4 and more.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Building YJIT now requires Rust 1.58.0+. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18481&quot;&gt;Feature #18481&lt;/a&gt;]
&lt;ul&gt;
&lt;li&gt;In order to ensure that CRuby is built with YJIT, please install &lt;code&gt;rustc&lt;/code&gt; &amp;gt;= 1.58.0
before running the &lt;code&gt;./configure&lt;/code&gt; script.&lt;/li&gt;
&lt;li&gt;Please reach out to the YJIT team should you run into any issues.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;The YJIT 3.2 release is faster than 3.1, and has about 1/3 as much memory overhead.
&lt;ul&gt;
&lt;li&gt;Overall YJIT is 41% faster (geometric mean) than the Ruby interpreter on &lt;a href=&quot;https://github.com/Shopify/yjit-bench&quot;&gt;yjit-bench&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Physical memory for JIT code is lazily allocated. Unlike Ruby 3.1,
the RSS of a Ruby process is minimized because virtual memory pages
allocated by &lt;code&gt;--yjit-exec-mem-size&lt;/code&gt; will not be mapped to physical
memory pages until actually utilized by JIT code.&lt;/li&gt;
&lt;li&gt;Introduce Code GC that frees all code pages when the memory consumption
by JIT code reaches &lt;code&gt;--yjit-exec-mem-size&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;RubyVM::YJIT.runtime_stats&lt;/code&gt; returns Code GC metrics in addition to
existing &lt;code&gt;inline_code_size&lt;/code&gt; and &lt;code&gt;outlined_code_size&lt;/code&gt; keys:
&lt;code&gt;code_gc_count&lt;/code&gt;, &lt;code&gt;live_page_count&lt;/code&gt;, &lt;code&gt;freed_page_count&lt;/code&gt;, and &lt;code&gt;freed_code_size&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Most of the statistics produced by &lt;code&gt;RubyVM::YJIT.runtime_stats&lt;/code&gt; are now available in release builds.
&lt;ul&gt;
&lt;li&gt;Simply run ruby with &lt;code&gt;--yjit-stats&lt;/code&gt; to compute and dump stats (incurs some run-time overhead).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;YJIT is now optimized to take advantage of object shapes. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18776&quot;&gt;Feature #18776&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;Take advantage of finer-grained constant invalidation to invalidate less code when defining new constants. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18589&quot;&gt;Feature #18589&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;The default &lt;code&gt;--yjit-exec-mem-size&lt;/code&gt; is changed to 64 (MiB).&lt;/li&gt;
&lt;li&gt;The default &lt;code&gt;--yjit-call-threshold&lt;/code&gt; is changed to 30.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Regexp improvements against ReDoS&lt;/h2&gt;
&lt;p&gt;It is known that Regexp matching may take unexpectedly long. If your code attempts to match a possibly inefficient Regexp against an untrusted input, an attacker may exploit it for efficient Denial of Service (so-called Regular expression DoS, or ReDoS).&lt;/p&gt;
&lt;p&gt;We have introduced two improvements that significantly mitigate ReDoS.&lt;/p&gt;
&lt;h3&gt;Improved Regexp matching algorithm&lt;/h3&gt;
&lt;p&gt;Since Ruby 3.2, Regexp's matching algorithm has been greatly improved by using a memoization technique.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# This match takes 10 sec. in Ruby 3.1, and 0.003 sec. in Ruby 3.2

/^a*b?a*$/ =~ &quot;a&quot; * 50000 + &quot;x&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://cache.ruby-lang.org/pub/media/ruby320_regex_1.png&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;https://cache.ruby-lang.org/pub/media/ruby320_regex_2.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;p&gt;The improved matching algorithm allows most Regexp matching (about 90% in our experiments) to be completed in linear time.&lt;/p&gt;
&lt;p&gt;This optimization may consume memory proportional to the input length for each match. We expect no practical problems to arise because this memory allocation is usually delayed, and a normal Regexp match should consume at most 10 times as much memory as the input length. If you run out of memory when matching Regexps in a real-world application, please report it.&lt;/p&gt;
&lt;p&gt;The original proposal is &lt;a href=&quot;https://bugs.ruby-lang.org/issues/19104&quot;&gt;https://bugs.ruby-lang.org/issues/19104&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Regexp timeout&lt;/h3&gt;
&lt;p&gt;The optimization above cannot be applied to some kind of regular expressions, such as those including advanced features (e.g., back-references or look-around), or with a huge fixed number of repetitions. As a fallback measure, a timeout feature for Regexp matches is also introduced.&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;Regexp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;timeout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;

&lt;span class=&quot;sr&quot;&gt;/^a*b?a*()\1$/&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=~&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;a&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;50000&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;x&quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#=&amp;gt; Regexp::TimeoutError is raised in one second&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Note that &lt;code&gt;Regexp.timeout&lt;/code&gt; is a global configuration. If you want to use different timeout settings for some special Regexps, you may want to use the &lt;code&gt;timeout&lt;/code&gt; keyword for &lt;code&gt;Regexp.new&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;Regexp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;timeout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# This regexp has no timeout&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;long_time_re&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Regexp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'^a*b?a*()\1$'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;timeout: &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Float&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;INFINITY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;long_time_re&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=~&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;a&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;50000&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;x&quot;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# never interrupted&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The original proposal is &lt;a href=&quot;https://bugs.ruby-lang.org/issues/17837&quot;&gt;https://bugs.ruby-lang.org/issues/17837&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Other Notable New Features&lt;/h2&gt;
&lt;h3&gt;SyntaxSuggest&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;The feature of &lt;code&gt;syntax_suggest&lt;/code&gt; (formerly &lt;code&gt;dead_end&lt;/code&gt;) is integrated into Ruby. This helps you find the position of errors such as missing or superfluous &lt;code&gt;end&lt;/code&gt;s, to get you back on your way faster, such as in the following example:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Unmatched `end', missing keyword (`do', `def`, `if`, etc.) ?

  1  class Dog
&amp;gt; 2    defbark
&amp;gt; 3    end
  4  end
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18159&quot;&gt;Feature #18159&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;ErrorHighlight&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Now it points at the relevant argument(s) for TypeError and ArgumentError&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;test.rb:2:in `+': nil can't be coerced into Integer (TypeError)

sum = ary[0] + ary[1]
               ^^^^^^
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h3&gt;Language&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Anonymous rest and keyword rest arguments can now be passed as
arguments, instead of just used in method parameters.
[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18351&quot;&gt;Feature #18351&lt;/a&gt;]&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;baz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;quux&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A proc that accepts a single positional argument and keywords will
no longer autosplat. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18633&quot;&gt;Bug #18633&lt;/a&gt;]&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;nb&quot;&gt;proc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Ruby 3.1 and before&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Ruby 3.2 and after&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; [1, 2]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Constant assignment evaluation order for constants set on explicit
objects has been made consistent with single attribute assignment
evaluation order. With this code:&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;BAR&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;baz&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;foo&lt;/code&gt; is now called before &lt;code&gt;baz&lt;/code&gt;. Similarly, for multiple assignments
to constants, left-to-right evaluation order is used. With this
code:&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;n&quot;&gt;foo1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;BAR1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;foo2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;BAR2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;baz1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;baz2&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The following evaluation order is now used:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;foo1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;foo2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;baz1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;baz2&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/15928&quot;&gt;Bug #15928&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The find pattern is no longer experimental.
[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18585&quot;&gt;Feature #18585&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Methods taking a rest parameter (like &lt;code&gt;*args&lt;/code&gt;) and wishing to delegate keyword
arguments through &lt;code&gt;foo(*args)&lt;/code&gt; must now be marked with &lt;code&gt;ruby2_keywords&lt;/code&gt;
(if not already the case). In other words, all methods wishing to delegate
keyword arguments through &lt;code&gt;*args&lt;/code&gt; must now be marked with &lt;code&gt;ruby2_keywords&lt;/code&gt;,
with no exception. This will make it easier to transition to other ways of
delegation once a library can require Ruby 3+. Previously, the &lt;code&gt;ruby2_keywords&lt;/code&gt;
flag was kept if the receiving method took &lt;code&gt;*args&lt;/code&gt;, but this was a bug and an
inconsistency. A good technique to find potentially missing &lt;code&gt;ruby2_keywords&lt;/code&gt;
is to run the test suite, find the last method which must
receive keyword arguments for each place where the test suite fails, and use &lt;code&gt;puts nil, caller, nil&lt;/code&gt; there. Then check that each
method/block on the call chain which must delegate keywords is correctly marked
with &lt;code&gt;ruby2_keywords&lt;/code&gt;. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18625&quot;&gt;Bug #18625&lt;/a&gt;] [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16466&quot;&gt;Bug #16466&lt;/a&gt;]&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Accidentally worked without ruby2_keywords in Ruby 2.7-3.1, ruby2_keywords&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# needed in 3.2+. Just like (*args, **kwargs) or (...) would be needed on&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# both #foo and #bar when migrating away from ruby2_keywords.&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ruby2_keywords&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;ruby2_keywords&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;k: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Performance improvements&lt;/h2&gt;
&lt;h3&gt;MJIT&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The MJIT compiler is re-implemented in Ruby as &lt;code&gt;ruby_vm/mjit/compiler&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;MJIT compiler is executed under a forked process instead of
doing it in a native thread called MJIT worker. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18968&quot;&gt;Feature #18968&lt;/a&gt;]
&lt;ul&gt;
&lt;li&gt;As a result, Microsoft Visual Studio (MSWIN) is no longer supported.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;MinGW is no longer supported. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18824&quot;&gt;Feature #18824&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;Rename &lt;code&gt;--mjit-min-calls&lt;/code&gt; to &lt;code&gt;--mjit-call-threshold&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Change default &lt;code&gt;--mjit-max-cache&lt;/code&gt; back from 10000 to 100.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;PubGrub&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Bundler 2.4 now uses &lt;a href=&quot;https://github.com/jhawthorn/pub_grub&quot;&gt;PubGrub&lt;/a&gt; resolver instead of &lt;a href=&quot;https://github.com/CocoaPods/Molinillo&quot;&gt;Molinillo&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PubGrub is the next generation solving algorithm used by &lt;code&gt;pub&lt;/code&gt; package manager for the Dart programming language.&lt;/li&gt;
&lt;li&gt;You may get different resolution result after this change. Please report such cases to &lt;a href=&quot;https://github.com/rubygems/rubygems/issues&quot;&gt;RubyGems/Bundler issues&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RubyGems still uses Molinillo resolver in Ruby 3.2. We plan to replace it with PubGrub in the future.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Other notable changes since 3.1&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Data&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;New core class to represent simple immutable value object. The class is
similar to Struct and partially shares an implementation, but has more
lean and strict API. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16122&quot;&gt;Feature #16122&lt;/a&gt;]&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;Measure&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:amount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:unit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;distance&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Measure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'km'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;            &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; #&amp;lt;data Measure amount=100, unit=&quot;km&quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;weight&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Measure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;amount: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;unit: &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'kg'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; #&amp;lt;data Measure amount=50, unit=&quot;kg&quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;amount: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;                      &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; #&amp;lt;data Measure amount=40, unit=&quot;kg&quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;amount&lt;/span&gt;                                &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; 50&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;amount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;                           &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; NoMethodError: undefined method `amount='&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Hash&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Hash#shift&lt;/code&gt; now always returns nil if the hash is
empty, instead of returning the default value or
calling the default proc. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16908&quot;&gt;Bug #16908&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;MatchData&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;MatchData#byteoffset&lt;/code&gt; has been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/13110&quot;&gt;Feature #13110&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Module&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Module.used_refinements&lt;/code&gt; has been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/14332&quot;&gt;Feature #14332&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Module#refinements&lt;/code&gt; has been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/12737&quot;&gt;Feature #12737&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Module#const_added&lt;/code&gt; has been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/17881&quot;&gt;Feature #17881&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Proc&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Proc#dup&lt;/code&gt; returns an instance of subclass. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/17545&quot;&gt;Bug #17545&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Proc#parameters&lt;/code&gt; now accepts lambda keyword. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/15357&quot;&gt;Feature #15357&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Refinement&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Refinement#refined_class&lt;/code&gt; has been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/12737&quot;&gt;Feature #12737&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RubyVM::AbstractSyntaxTree&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Add &lt;code&gt;error_tolerant&lt;/code&gt; option for &lt;code&gt;parse&lt;/code&gt;, &lt;code&gt;parse_file&lt;/code&gt; and &lt;code&gt;of&lt;/code&gt;. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/19013&quot;&gt;Feature #19013&lt;/a&gt;]
With this option&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;SyntaxError is suppressed&lt;/li&gt;
&lt;li&gt;AST is returned for invalid input&lt;/li&gt;
&lt;li&gt;&lt;code&gt;end&lt;/code&gt; is complemented when a parser reaches to the end of input but &lt;code&gt;end&lt;/code&gt; is insufficient&lt;/li&gt;
&lt;li&gt;&lt;code&gt;end&lt;/code&gt; is treated as keyword based on indent&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Without error_tolerant option&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;RubyVM&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;AbstractSyntaxTree&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;~&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;RUBY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;
def m
  a = 10
  if
end
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;RUBY&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; &amp;lt;internal:ast&amp;gt;:33:in `parse': syntax error, unexpected `end' (SyntaxError)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# With error_tolerant option&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;RubyVM&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;AbstractSyntaxTree&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;~&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;RUBY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;error_tolerant: &lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;
def m
  a = 10
  if
end
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;RUBY&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; #&amp;lt;RubyVM::AbstractSyntaxTree::Node:SCOPE@1:0-4:3&amp;gt;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# `end` is treated as keyword based on indent&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;RubyVM&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;AbstractSyntaxTree&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;~&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;RUBY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;error_tolerant: &lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;
module Z
  class Foo
    foo.
  end

  def bar
  end
end
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;RUBY&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;children&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;children&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;children&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;children&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;..-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; [#&amp;lt;RubyVM::AbstractSyntaxTree::Node:CLASS@2:2-4:5&amp;gt;, #&amp;lt;RubyVM::AbstractSyntaxTree::Node:DEFN@6:2-7:5&amp;gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add &lt;code&gt;keep_tokens&lt;/code&gt; option for &lt;code&gt;parse&lt;/code&gt;, &lt;code&gt;parse_file&lt;/code&gt; and &lt;code&gt;of&lt;/code&gt;. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/19070&quot;&gt;Feature #19070&lt;/a&gt;]&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;RubyVM&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;AbstractSyntaxTree&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;x = 1 + 2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;keep_tokens: &lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;tokens&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; [[0, :tIDENTIFIER, &quot;x&quot;, [1, 0, 1, 1]], [1, :tSP, &quot; &quot;, [1, 1, 1, 2]], ...]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;tokens&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]}.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;join&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; &quot;x = 1 + 2&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Set&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Set is now available as a builtin class without the need for &lt;code&gt;require &amp;quot;set&amp;quot;&lt;/code&gt;. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16989&quot;&gt;Feature #16989&lt;/a&gt;]
It is currently autoloaded via the &lt;code&gt;Set&lt;/code&gt; constant or a call to &lt;code&gt;Enumerable#to_set&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;String&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;String#byteindex&lt;/code&gt; and &lt;code&gt;String#byterindex&lt;/code&gt; have been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/13110&quot;&gt;Feature #13110&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;Update Unicode to Version 15.0.0 and Emoji Version 15.0. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18639&quot;&gt;Feature #18639&lt;/a&gt;]
(also applies to Regexp)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;String#bytesplice&lt;/code&gt; has been added.  [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18598&quot;&gt;Feature #18598&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Struct&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;A Struct class can also be initialized with keyword arguments
without &lt;code&gt;keyword_init: true&lt;/code&gt; on &lt;code&gt;Struct.new&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16806&quot;&gt;Feature #16806&lt;/a&gt;]&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;Post&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Struct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;hello&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; #&amp;lt;struct Post id=1, name=&quot;hello&quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# From Ruby 3.2, the following code also works without keyword_init: true.&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;id: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;name: &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hello&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; #&amp;lt;struct Post id=1, name=&quot;hello&quot;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Compatibility issues&lt;/h2&gt;
&lt;p&gt;Note: Excluding feature bug fixes.&lt;/p&gt;
&lt;h3&gt;Removed constants&lt;/h3&gt;
&lt;p&gt;The following deprecated constants are removed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Fixnum&lt;/code&gt; and &lt;code&gt;Bignum&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/12005&quot;&gt;Feature #12005&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Random::DEFAULT&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/17351&quot;&gt;Feature #17351&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Struct::Group&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Struct::Passwd&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Removed methods&lt;/h3&gt;
&lt;p&gt;The following deprecated methods are removed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Dir.exists?&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/17391&quot;&gt;Feature #17391&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;File.exists?&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/17391&quot;&gt;Feature #17391&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Kernel#=~&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/15231&quot;&gt;Feature #15231&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Kernel#taint&lt;/code&gt;, &lt;code&gt;Kernel#untaint&lt;/code&gt;, &lt;code&gt;Kernel#tainted?&lt;/code&gt;
[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16131&quot;&gt;Feature #16131&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Kernel#trust&lt;/code&gt;, &lt;code&gt;Kernel#untrust&lt;/code&gt;, &lt;code&gt;Kernel#untrusted?&lt;/code&gt;
[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16131&quot;&gt;Feature #16131&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Stdlib compatibility issues&lt;/h2&gt;
&lt;h3&gt;No longer bundle 3rd party sources&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;We no longer bundle 3rd party sources like &lt;code&gt;libyaml&lt;/code&gt;, &lt;code&gt;libffi&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;libyaml source has been removed from psych. You may need to install &lt;code&gt;libyaml-dev&lt;/code&gt; with Ubuntu/Debian platform. The package name is different for each platform.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Bundled libffi source is also removed from &lt;code&gt;fiddle&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Psych and fiddle supported static builds with specific versions of libyaml and libffi sources. You can build psych with libyaml-0.2.5 like this:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./configure &lt;span class=&quot;nt&quot;&gt;--with-libyaml-source-dir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/path/to/libyaml-0.2.5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And you can build fiddle with libffi-3.4.4 like this:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./configure &lt;span class=&quot;nt&quot;&gt;--with-libffi-source-dir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/path/to/libffi-3.4.4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18571&quot;&gt;Feature #18571&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;C API updates&lt;/h2&gt;
&lt;h3&gt;Updated C APIs&lt;/h3&gt;
&lt;p&gt;The following APIs are updated.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PRNG update
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;rb_random_interface_t&lt;/code&gt; updated and versioned.
Extension libraries which use this interface and built for older versions.
Also &lt;code&gt;init_int32&lt;/code&gt; function needs to be defined.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Removed C APIs&lt;/h3&gt;
&lt;p&gt;The following deprecated APIs are removed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;rb_cData&lt;/code&gt; variable.&lt;/li&gt;
&lt;li&gt;&amp;quot;taintedness&amp;quot; and &amp;quot;trustedness&amp;quot; functions. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16131&quot;&gt;Feature #16131&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Standard library updates&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Bundler&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Add --ext=rust support to bundle gem for creating simple gems with Rust extensions.
[&lt;a href=&quot;https://github.com/rubygems/rubygems/pull/6149&quot;&gt;GH-rubygems-6149&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;Make cloning git repos faster [&lt;a href=&quot;https://github.com/rubygems/rubygems/pull/4475&quot;&gt;GH-rubygems-4475&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RubyGems&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Add mswin support for cargo builder. [&lt;a href=&quot;https://github.com/rubygems/rubygems/pull/6167&quot;&gt;GH-rubygems-6167&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ERB&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ERB::Util.html_escape&lt;/code&gt; is made faster than &lt;code&gt;CGI.escapeHTML&lt;/code&gt;.
&lt;ul&gt;
&lt;li&gt;It no longer allocates a String object when no character needs to be escaped.&lt;/li&gt;
&lt;li&gt;It skips calling &lt;code&gt;#to_s&lt;/code&gt; method when an argument is already a String.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ERB::Escape.html_escape&lt;/code&gt; is added as an alias to &lt;code&gt;ERB::Util.html_escape&lt;/code&gt;,
which has not been monkey-patched by Rails.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IRB&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;debug.gem integration commands have been added: &lt;code&gt;debug&lt;/code&gt;, &lt;code&gt;break&lt;/code&gt;, &lt;code&gt;catch&lt;/code&gt;,
&lt;code&gt;next&lt;/code&gt;, &lt;code&gt;delete&lt;/code&gt;, &lt;code&gt;step&lt;/code&gt;, &lt;code&gt;continue&lt;/code&gt;, &lt;code&gt;finish&lt;/code&gt;, &lt;code&gt;backtrace&lt;/code&gt;, &lt;code&gt;info&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;They work even if you don't have &lt;code&gt;gem &amp;quot;debug&amp;quot;&lt;/code&gt; in your Gemfile.&lt;/li&gt;
&lt;li&gt;See also: &lt;a href=&quot;https://st0012.dev/whats-new-in-ruby-3-2-irb&quot;&gt;What's new in Ruby 3.2's IRB?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;More Pry-like commands and features have been added.
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;edit&lt;/code&gt; and &lt;code&gt;show_cmds&lt;/code&gt; (like Pry's &lt;code&gt;help&lt;/code&gt;) are added.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ls&lt;/code&gt; takes &lt;code&gt;-g&lt;/code&gt; or &lt;code&gt;-G&lt;/code&gt; option to filter out outputs.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;show_source&lt;/code&gt; is aliased from &lt;code&gt;$&lt;/code&gt; and accepts unquoted inputs.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;whereami&lt;/code&gt; is aliased from &lt;code&gt;@&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The following default gems are updated.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;RubyGems 3.4.1&lt;/li&gt;
&lt;li&gt;abbrev 0.1.1&lt;/li&gt;
&lt;li&gt;benchmark 0.2.1&lt;/li&gt;
&lt;li&gt;bigdecimal 3.1.3&lt;/li&gt;
&lt;li&gt;bundler 2.4.1&lt;/li&gt;
&lt;li&gt;cgi 0.3.6&lt;/li&gt;
&lt;li&gt;csv 3.2.6&lt;/li&gt;
&lt;li&gt;date 3.3.3&lt;/li&gt;
&lt;li&gt;delegate 0.3.0&lt;/li&gt;
&lt;li&gt;did_you_mean 1.6.3&lt;/li&gt;
&lt;li&gt;digest 3.1.1&lt;/li&gt;
&lt;li&gt;drb 2.1.1&lt;/li&gt;
&lt;li&gt;english 0.7.2&lt;/li&gt;
&lt;li&gt;erb 4.0.2&lt;/li&gt;
&lt;li&gt;error_highlight 0.5.1&lt;/li&gt;
&lt;li&gt;etc 1.4.2&lt;/li&gt;
&lt;li&gt;fcntl 1.0.2&lt;/li&gt;
&lt;li&gt;fiddle 1.1.1&lt;/li&gt;
&lt;li&gt;fileutils 1.7.0&lt;/li&gt;
&lt;li&gt;forwardable 1.3.3&lt;/li&gt;
&lt;li&gt;getoptlong 0.2.0&lt;/li&gt;
&lt;li&gt;io-console 0.6.0&lt;/li&gt;
&lt;li&gt;io-nonblock 0.2.0&lt;/li&gt;
&lt;li&gt;io-wait 0.3.0&lt;/li&gt;
&lt;li&gt;ipaddr 1.2.5&lt;/li&gt;
&lt;li&gt;irb 1.6.2&lt;/li&gt;
&lt;li&gt;json 2.6.3&lt;/li&gt;
&lt;li&gt;logger 1.5.3&lt;/li&gt;
&lt;li&gt;mutex_m 0.1.2&lt;/li&gt;
&lt;li&gt;net-http 0.3.2&lt;/li&gt;
&lt;li&gt;net-protocol 0.2.1&lt;/li&gt;
&lt;li&gt;nkf 0.1.2&lt;/li&gt;
&lt;li&gt;open-uri 0.3.0&lt;/li&gt;
&lt;li&gt;open3 0.1.2&lt;/li&gt;
&lt;li&gt;openssl 3.1.0&lt;/li&gt;
&lt;li&gt;optparse 0.3.1&lt;/li&gt;
&lt;li&gt;ostruct 0.5.5&lt;/li&gt;
&lt;li&gt;pathname 0.2.1&lt;/li&gt;
&lt;li&gt;pp 0.4.0&lt;/li&gt;
&lt;li&gt;pstore 0.1.2&lt;/li&gt;
&lt;li&gt;psych 5.0.1&lt;/li&gt;
&lt;li&gt;racc 1.6.2&lt;/li&gt;
&lt;li&gt;rdoc 6.5.0&lt;/li&gt;
&lt;li&gt;readline-ext 0.1.5&lt;/li&gt;
&lt;li&gt;reline 0.3.2&lt;/li&gt;
&lt;li&gt;resolv 0.2.2&lt;/li&gt;
&lt;li&gt;resolv-replace 0.1.1&lt;/li&gt;
&lt;li&gt;securerandom 0.2.2&lt;/li&gt;
&lt;li&gt;set 1.0.3&lt;/li&gt;
&lt;li&gt;stringio 3.0.4&lt;/li&gt;
&lt;li&gt;strscan 3.0.5&lt;/li&gt;
&lt;li&gt;syntax_suggest 1.0.2&lt;/li&gt;
&lt;li&gt;syslog 0.1.1&lt;/li&gt;
&lt;li&gt;tempfile 0.1.3&lt;/li&gt;
&lt;li&gt;time 0.2.1&lt;/li&gt;
&lt;li&gt;timeout 0.3.1&lt;/li&gt;
&lt;li&gt;tmpdir 0.1.3&lt;/li&gt;
&lt;li&gt;tsort 0.1.1&lt;/li&gt;
&lt;li&gt;un 0.2.1&lt;/li&gt;
&lt;li&gt;uri 0.12.0&lt;/li&gt;
&lt;li&gt;weakref 0.1.2&lt;/li&gt;
&lt;li&gt;win32ole 1.8.9&lt;/li&gt;
&lt;li&gt;yaml 0.2.1&lt;/li&gt;
&lt;li&gt;zlib 3.0.0&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The following bundled gems are updated.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;minitest 5.16.3&lt;/li&gt;
&lt;li&gt;power_assert 2.0.3&lt;/li&gt;
&lt;li&gt;test-unit 3.5.7&lt;/li&gt;
&lt;li&gt;net-ftp 0.2.0&lt;/li&gt;
&lt;li&gt;net-imap 0.3.3&lt;/li&gt;
&lt;li&gt;net-pop 0.1.2&lt;/li&gt;
&lt;li&gt;net-smtp 0.3.3&lt;/li&gt;
&lt;li&gt;rbs 2.8.2&lt;/li&gt;
&lt;li&gt;typeprof 0.21.3&lt;/li&gt;
&lt;li&gt;debug 1.7.1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See GitHub releases like &lt;a href=&quot;https://github.com/ruby/logger/releases&quot;&gt;GitHub Releases of logger&lt;/a&gt; or changelog for details of the default gems or bundled gems.&lt;/p&gt;
&lt;p&gt;See &lt;a href=&quot;https://github.com/ruby/ruby/blob/v3_2_0/NEWS.md&quot;&gt;NEWS&lt;/a&gt;
or &lt;a href=&quot;https://github.com/ruby/ruby/compare/v3_1_0...v3_2_0&quot;&gt;commit logs&lt;/a&gt;
for more details.&lt;/p&gt;
&lt;p&gt;With those changes, &lt;a href=&quot;https://github.com/ruby/ruby/compare/v3_1_0...v3_2_0#file_bucket&quot;&gt;3048 files changed, 218253 insertions(+), 131067 deletions(-)&lt;/a&gt;
since Ruby 3.1.0!&lt;/p&gt;
&lt;p&gt;Merry Christmas, Happy Holidays, and enjoy programming with Ruby 3.2!&lt;/p&gt;
&lt;h2&gt;Download&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0.tar.gz&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0.tar.gz&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 20440715
SHA1: fb4ab2ceba8bf6a5b9bc7bf7cac945cc94f94c2b
SHA256: daaa78e1360b2783f98deeceb677ad900f3a36c0ffa6e2b6b19090be77abc272
SHA512: 94203051d20475b95a66660016721a0457d7ea57656a9f16cdd4264d8aa6c4cd8ea2fab659082611bfbd7b00ebbcf0391e883e2ebf384e4fab91869e0a877d35
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0.tar.xz&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0.tar.xz&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 15058364
SHA1: bcdae07183d66fd902cb7bf995545a472d2fefea
SHA256: d2f4577306e6dd932259693233141e5c3ec13622c95b75996541b8d5b68b28b4
SHA512: 733ecc6709470ee16916deeece9af1c76220ae95d17b2681116aff7f381d99bc3124b1b11b1c2336b2b29e468e91b90f158d5ae5fca810c6cf32a0b6234ae08e
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0.zip&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0.zip&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 24583271
SHA1: 581ec7b9289c2a85abf4f41c93993ecaa5cf43a5
SHA256: cca9ddbc958431ff77f61948cb67afa569f01f99c9389d2bbedfa92986c9ef09
SHA512: b7d2753825cc0667e8bb391fc7ec59a53c3db5fa314e38eee74b6511890b585ac7515baa2ddac09e2c6b6c42b9221c82e040af5b39c73e980fbd3b1bc622c99d
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;What is Ruby&lt;/h2&gt;
&lt;p&gt;Ruby was first developed by Matz (Yukihiro Matsumoto) in 1993,
and is now developed as Open Source. It runs on multiple platforms
and is used all over the world especially for web development.&lt;/p&gt;

&lt;p&gt;Posted by naruse on 25 Dec 2022&lt;/p&gt;</description>
      <pubDate>Sun, 25 Dec 2022 00:00:00 +0000</pubDate>
      <guid>https://www.ruby-lang.org/en/news/2022/12/25/ruby-3-2-0-released/</guid>
      <link>https://www.ruby-lang.org/en/news/2022/12/25/ruby-3-2-0-released/</link>
    </item>
    
    <item>
      <title>Ruby 3.2.0 RC 1 Released</title>
      <description>&lt;p&gt;We are pleased to announce the release of Ruby 3.2.0-rc1. Ruby 3.2 adds many features and performance improvements.&lt;/p&gt;
&lt;h2&gt;WASI based WebAssembly support&lt;/h2&gt;
&lt;p&gt;This is an initial port of WASI based WebAssembly support. This enables a CRuby binary to be available on a Web browser, a Serverless Edge environment, or other kinds of WebAssembly/WASI embedders. Currently this port passes basic and bootstrap test suites not using the Thread API.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/opCgKy2.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;h3&gt;Background&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://webassembly.org/&quot;&gt;WebAssembly (Wasm)&lt;/a&gt; was originally introduced to run programs safely and fast in web browsers. But its objective - running programs efficiently with security on various environment - is long wanted not only for web but also by general applications.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://wasi.dev/&quot;&gt;WASI (The WebAssembly System Interface)&lt;/a&gt; is designed for such use cases. Though such applications need to communicate with operating systems, WebAssembly runs on a virtual machine which didn't have a system interface. WASI standardizes it.&lt;/p&gt;
&lt;p&gt;WebAssembly/WASI support in Ruby intends to leverage those projects. It enables Ruby developers to write applications which run on such promised platforms.&lt;/p&gt;
&lt;h3&gt;Use case&lt;/h3&gt;
&lt;p&gt;This support encourages developers to utilize CRuby in a WebAssembly environment. An example use case is &lt;a href=&quot;https://try.ruby-lang.org/playground/&quot;&gt;TryRuby playground&lt;/a&gt;'s CRuby support. Now you can try original CRuby in your web browser.&lt;/p&gt;
&lt;h3&gt;Technical points&lt;/h3&gt;
&lt;p&gt;Today’s WASI and WebAssembly itself is missing some features to implement Fiber, exception, and GC because it’s still evolving, and also for security reasons. So CRuby fills the gap by using Asyncify, which is a binary transformation technique to control execution in userland.&lt;/p&gt;
&lt;p&gt;In addition, we built &lt;a href=&quot;https://github.com/kateinoigakukun/wasi-vfs/wiki/Getting-Started-with-CRuby&quot;&gt;a VFS on top of WASI&lt;/a&gt; so that we can easily pack Ruby apps into a single .wasm file. This makes distribution of Ruby apps a bit easier.&lt;/p&gt;
&lt;h3&gt;Related links&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/ruby/ruby/pull/5407&quot;&gt;Add WASI based WebAssembly support #5407&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://itnext.io/final-report-webassembly-wasi-support-in-ruby-4aface7d90c9&quot;&gt;An Update on WebAssembly/WASI Support in Ruby&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Regexp improvements against ReDoS&lt;/h2&gt;
&lt;p&gt;It is known that Regexp matching may take unexpectedly long. If your code attempts to match a possibly inefficient Regexp against an untrusted input, an attacker may exploit it for efficient Denial of Service (so-called Regular expression DoS, or ReDoS).&lt;/p&gt;
&lt;p&gt;We have introduced two improvements that significantly mitigate ReDoS.&lt;/p&gt;
&lt;h3&gt;Improved Regexp matching algorithm&lt;/h3&gt;
&lt;p&gt;Since Ruby 3.2, Regexp's matching algorithm has been greatly improved by using a memoization technique.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# This match takes 10 sec. in Ruby 3.1, and 0.003 sec. in Ruby 3.2

/^a*b?a*$/ =~ &quot;a&quot; * 50000 + &quot;x&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://cache.ruby-lang.org/pub/media/ruby320_regex_1.png&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;https://cache.ruby-lang.org/pub/media/ruby320_regex_2.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;p&gt;The improved matching algorithm allows most Regexp matching (about 90% in our experiments) to be completed in linear time.&lt;/p&gt;
&lt;p&gt;(For preview users: this optimization may consume memory proportional to the input length for each match. We expect no practical problems to arise because this memory allocation is usually delayed, and a normal Regexp match should consume at most 10 times as much memory as the input length. If you run out of memory when matching Regexps in a real-world application, please report it.)&lt;/p&gt;
&lt;p&gt;The original proposal is https://bugs.ruby-lang.org/issues/19104&lt;/p&gt;
&lt;h3&gt;Regexp timeout&lt;/h3&gt;
&lt;p&gt;The optimization above cannot be applied to some kind of regular expressions, such as those including advanced features (e.g., back-references or look-around), or with a huge fixed number of repetitions. As a fallback measure, a timeout feature for Regexp matches is also introduced.&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;Regexp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;timeout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;

&lt;span class=&quot;sr&quot;&gt;/^a*b?a*()\1$/&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=~&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;a&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;50000&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;x&quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#=&amp;gt; Regexp::TimeoutError is raised in one second&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Note that &lt;code&gt;Regexp.timeout&lt;/code&gt; is a global configuration. If you want to use different timeout settings for some special Regexps, you may want to use the &lt;code&gt;timeout&lt;/code&gt; keyword for &lt;code&gt;Regexp.new&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;Regexp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;timeout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# This regexp has no timeout&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;long_time_re&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Regexp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'^a*b?a*()\1$'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;timeout: &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Float&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;INFINITY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;long_time_re&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=~&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;a&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;50000&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;x&quot;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# never interrupted&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The original proposal is https://bugs.ruby-lang.org/issues/17837&lt;/p&gt;
&lt;h2&gt;Other Notable New Features&lt;/h2&gt;
&lt;h3&gt;SyntaxSuggest&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;The feature of &lt;code&gt;syntax_suggest&lt;/code&gt; (formerly &lt;code&gt;dead_end&lt;/code&gt;) is integrated into Ruby. This helps you find the position of errors such as missing or superfluous &lt;code&gt;end&lt;/code&gt;s, to get you back on your way faster, such as in the following example:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Unmatched `end', missing keyword (`do', `def`, `if`, etc.) ?

  1  class Dog
&amp;gt; 2    defbark
&amp;gt; 4    end
  5  end
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18159&quot;&gt;Feature #18159&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;ErrorHighlight&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Now it points at the relevant argument(s) for TypeError and ArgumentError&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;test.rb:2:in `+': nil can't be coerced into Integer (TypeError)

sum = ary[0] + ary[1]
               ^^^^^^
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h3&gt;Language&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Anonymous rest and keyword rest arguments can now be passed as
arguments, instead of just used in method parameters.
[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18351&quot;&gt;Feature #18351&lt;/a&gt;]&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;baz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;quux&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A proc that accepts a single positional argument and keywords will
no longer autosplat. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18633&quot;&gt;Bug #18633&lt;/a&gt;]&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;nb&quot;&gt;proc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Ruby 3.1 and before&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Ruby 3.2 and after&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; [1, 2]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Constant assignment evaluation order for constants set on explicit
objects has been made consistent with single attribute assignment
evaluation order. With this code:&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;BAR&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;baz&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;foo&lt;/code&gt; is now called before &lt;code&gt;baz&lt;/code&gt;. Similarly, for multiple assignments
to constants,  left-to-right evaluation order is used. With this
code:&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;n&quot;&gt;foo1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;BAR1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;foo2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;BAR2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;baz1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;baz2&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The following evaluation order is now used:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;foo1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;foo2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;baz1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;baz2&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/15928&quot;&gt;Bug #15928&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The find pattern is no longer experimental.
[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18585&quot;&gt;Feature #18585&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Methods taking a rest parameter (like &lt;code&gt;*args&lt;/code&gt;) and wishing to delegate keyword
arguments through &lt;code&gt;foo(*args)&lt;/code&gt; must now be marked with &lt;code&gt;ruby2_keywords&lt;/code&gt;
(if not already the case). In other words, all methods wishing to delegate
keyword arguments through &lt;code&gt;*args&lt;/code&gt; must now be marked with &lt;code&gt;ruby2_keywords&lt;/code&gt;,
with no exception. This will make it easier to transition to other ways of
delegation once a library can require Ruby 3+. Previously, the &lt;code&gt;ruby2_keywords&lt;/code&gt;
flag was kept if the receiving method took &lt;code&gt;*args&lt;/code&gt;, but this was a bug and an
inconsistency. A good technique to find potentially missing &lt;code&gt;ruby2_keywords&lt;/code&gt;
is to run the test suite, find the last method which must
receive keyword arguments for each place where the test suite fails, and use &lt;code&gt;puts nil, caller, nil&lt;/code&gt; there. Then check that each
method/block on the call chain which must delegate keywords is correctly marked
with &lt;code&gt;ruby2_keywords&lt;/code&gt;. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18625&quot;&gt;Bug #18625&lt;/a&gt;] [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16466&quot;&gt;Bug #16466&lt;/a&gt;]&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Accidentally worked without ruby2_keywords in Ruby 2.7-3.1, ruby2_keywords&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# needed in 3.2+. Just like (*args, **kwargs) or (...) would be needed on&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# both #foo and #bar when migrating away from ruby2_keywords.&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ruby2_keywords&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;ruby2_keywords&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;k: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Performance improvements&lt;/h2&gt;
&lt;h3&gt;YJIT&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;YJIT now supports both x86-64 and arm64/aarch64 CPUs on Linux, MacOS, BSD and other UNIX platforms.
&lt;ul&gt;
&lt;li&gt;This release brings support for Mac M1/M2, AWS Graviton and Raspberry Pi 4 ARM64 processors.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Building YJIT requires Rust 1.58.0+. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18481&quot;&gt;Feature #18481&lt;/a&gt;]
&lt;ul&gt;
&lt;li&gt;In order to ensure that CRuby is built with YJIT, please install rustc &amp;gt;= 1.58.0 and
run &lt;code&gt;./configure&lt;/code&gt; with &lt;code&gt;--enable-yjit&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Please reach out to the YJIT team should you run into any issues.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Physical memory for JIT code is lazily allocated. Unlike Ruby 3.1,
the RSS of a Ruby process is minimized because virtual memory pages
allocated by &lt;code&gt;--yjit-exec-mem-size&lt;/code&gt; will not be mapped to physical
memory pages until actually utilized by JIT code.&lt;/li&gt;
&lt;li&gt;Introduce Code GC that frees all code pages when the memory consumption
by JIT code reaches &lt;code&gt;--yjit-exec-mem-size&lt;/code&gt;.
&lt;ul&gt;
&lt;li&gt;RubyVM::YJIT.runtime_stats returns Code GC metrics in addition to
existing &lt;code&gt;inline_code_size&lt;/code&gt; and &lt;code&gt;outlined_code_size&lt;/code&gt; keys:
&lt;code&gt;code_gc_count&lt;/code&gt;, &lt;code&gt;live_page_count&lt;/code&gt;, &lt;code&gt;freed_page_count&lt;/code&gt;, and &lt;code&gt;freed_code_size&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Most of the statistics produced by RubyVM::YJIT.runtime_stats are now available in release builds.
&lt;ul&gt;
&lt;li&gt;Simply run ruby with &lt;code&gt;--yjit-stats&lt;/code&gt; to compute stats (incurs some run-time overhead).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;YJIT is now optimized to take advantage of object shapes. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18776&quot;&gt;Feature #18776&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;Take advantage of finer-grained constant invalidation to invalidate less code when defining new constants. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18589&quot;&gt;Feature #18589&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;MJIT&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The MJIT compiler is re-implemented in Ruby as a standard library &lt;code&gt;mjit&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;MJIT compiler is executed under a forked Ruby process instead of
doing it in a native thread called MJIT worker. [[Feature #18968]]
&lt;ul&gt;
&lt;li&gt;As a result, Microsoft Visual Studio (MSWIN) is no longer supported.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;MinGW is no longer supported. [[Feature #18824]]&lt;/li&gt;
&lt;li&gt;Rename &lt;code&gt;--mjit-min-calls&lt;/code&gt; to &lt;code&gt;--mjit-call-threshold&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Change default &lt;code&gt;--mjit-max-cache&lt;/code&gt; back from 10000 to 100.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;PubGrub&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Bundler 2.4 now uses &lt;a href=&quot;https://github.com/jhawthorn/pub_grub&quot;&gt;PubGrub&lt;/a&gt; resolver instead of &lt;a href=&quot;https://github.com/CocoaPods/Molinillo&quot;&gt;Molinillo&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PubGrub is the next generation solving algorithm used by &lt;code&gt;pub&lt;/code&gt; package manager for the Dart programming language.&lt;/li&gt;
&lt;li&gt;You may get different resolution result after this change. Please report such cases to &lt;a href=&quot;https://github.com/rubygems/rubygems/issues&quot;&gt;RubyGems/Bundler issues&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RubyGems still uses Molinillo resolver in Ruby 3.2. We plan to replace it with PubGrub in the future.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Other notable changes since 3.1&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Hash&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Hash#shift now always returns nil if the hash is
empty, instead of returning the default value or
calling the default proc. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16908&quot;&gt;Bug #16908&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;MatchData&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MatchData#byteoffset has been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/13110&quot;&gt;Feature #13110&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Module&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Module.used_refinements has been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/14332&quot;&gt;Feature #14332&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;Module#refinements has been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/12737&quot;&gt;Feature #12737&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;Module#const_added has been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/17881&quot;&gt;Feature #17881&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Proc&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Proc#dup returns an instance of subclass. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/17545&quot;&gt;Bug #17545&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;Proc#parameters now accepts lambda keyword. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/15357&quot;&gt;Feature #15357&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Refinement&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Refinement#refined_class has been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/12737&quot;&gt;Feature #12737&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RubyVM::AbstractSyntaxTree&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Add &lt;code&gt;error_tolerant&lt;/code&gt; option for &lt;code&gt;parse&lt;/code&gt;, &lt;code&gt;parse_file&lt;/code&gt; and &lt;code&gt;of&lt;/code&gt;. [[Feature #19013]]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Set&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Set is now available as a builtin class without the need for &lt;code&gt;require &amp;quot;set&amp;quot;&lt;/code&gt;. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16989&quot;&gt;Feature #16989&lt;/a&gt;]
It is currently autoloaded via the &lt;code&gt;Set&lt;/code&gt; constant or a call to &lt;code&gt;Enumerable#to_set&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;String&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;String#byteindex and String#byterindex have been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/13110&quot;&gt;Feature #13110&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;Update Unicode to Version 15.0.0 and Emoji Version 15.0. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18639&quot;&gt;Feature #18639&lt;/a&gt;]
(also applies to Regexp)&lt;/li&gt;
&lt;li&gt;String#bytesplice has been added.  [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18598&quot;&gt;Feature #18598&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Struct&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A Struct class can also be initialized with keyword arguments
without &lt;code&gt;keyword_init: true&lt;/code&gt; on &lt;code&gt;Struct.new&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16806&quot;&gt;Feature #16806&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Compatibility issues&lt;/h2&gt;
&lt;p&gt;Note: Excluding feature bug fixes.&lt;/p&gt;
&lt;h3&gt;Removed constants&lt;/h3&gt;
&lt;p&gt;The following deprecated constants are removed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Fixnum&lt;/code&gt; and &lt;code&gt;Bignum&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/12005&quot;&gt;Feature #12005&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Random::DEFAULT&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/17351&quot;&gt;Feature #17351&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Struct::Group&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Struct::Passwd&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Removed methods&lt;/h3&gt;
&lt;p&gt;The following deprecated methods are removed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Dir.exists?&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/17391&quot;&gt;Feature #17391&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;File.exists?&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/17391&quot;&gt;Feature #17391&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Kernel#=~&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/15231&quot;&gt;Feature #15231&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Kernel#taint&lt;/code&gt;, &lt;code&gt;Kernel#untaint&lt;/code&gt;, &lt;code&gt;Kernel#tainted?&lt;/code&gt;
[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16131&quot;&gt;Feature #16131&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Kernel#trust&lt;/code&gt;, &lt;code&gt;Kernel#untrust&lt;/code&gt;, &lt;code&gt;Kernel#untrusted?&lt;/code&gt;
[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16131&quot;&gt;Feature #16131&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Stdlib compatibility issues&lt;/h2&gt;
&lt;h3&gt;No longer bundle 3rd party sources&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;We no longer bundle 3rd party sources like &lt;code&gt;libyaml&lt;/code&gt;, &lt;code&gt;libffi&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;libyaml source has been removed from psych. You may need to install &lt;code&gt;libyaml-dev&lt;/code&gt; with Ubuntu/Debian platfrom. The package name is different for each platform.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Bundled libffi source is also removed from &lt;code&gt;fiddle&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Psych and fiddle supported static builds with specific versions of libyaml and libffi sources. You can build psych with libyaml-0.2.5 like this:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./configure &lt;span class=&quot;nt&quot;&gt;--with-libyaml-source-dir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/path/to/libyaml-0.2.5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And you can build fiddle with libffi-3.4.4 like this:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./configure &lt;span class=&quot;nt&quot;&gt;--with-libffi-source-dir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/path/to/libffi-3.4.4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18571&quot;&gt;Feature #18571&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;C API updates&lt;/h2&gt;
&lt;h3&gt;Updated C APIs&lt;/h3&gt;
&lt;p&gt;The following APIs are updated.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PRNG update
&lt;code&gt;rb_random_interface_t&lt;/code&gt; updated and versioned.
Extension libraries which use this interface and built for older versions.
Also &lt;code&gt;init_int32&lt;/code&gt; function needs to be defined.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Removed C APIs&lt;/h3&gt;
&lt;p&gt;The following deprecated APIs are removed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;rb_cData&lt;/code&gt; variable.&lt;/li&gt;
&lt;li&gt;&amp;quot;taintedness&amp;quot; and &amp;quot;trustedness&amp;quot; functions. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16131&quot;&gt;Feature #16131&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Standard library updates&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The following default gems are updated.
&lt;ul&gt;
&lt;li&gt;RubyGems 3.4.0.dev&lt;/li&gt;
&lt;li&gt;benchmark 0.2.1&lt;/li&gt;
&lt;li&gt;bigdecimal 3.1.3&lt;/li&gt;
&lt;li&gt;bundler 2.4.0.dev&lt;/li&gt;
&lt;li&gt;cgi 0.3.6&lt;/li&gt;
&lt;li&gt;date 3.3.0&lt;/li&gt;
&lt;li&gt;delegate 0.3.0&lt;/li&gt;
&lt;li&gt;did_you_mean 1.6.2&lt;/li&gt;
&lt;li&gt;digest 3.1.1&lt;/li&gt;
&lt;li&gt;drb 2.1.1&lt;/li&gt;
&lt;li&gt;erb 4.0.2&lt;/li&gt;
&lt;li&gt;error_highlight 0.5.1&lt;/li&gt;
&lt;li&gt;etc 1.4.1&lt;/li&gt;
&lt;li&gt;fcntl 1.0.2&lt;/li&gt;
&lt;li&gt;fiddle 1.1.1&lt;/li&gt;
&lt;li&gt;fileutils 1.7.0&lt;/li&gt;
&lt;li&gt;forwardable 1.3.3&lt;/li&gt;
&lt;li&gt;getoptlong 0.2.0&lt;/li&gt;
&lt;li&gt;io-console 0.5.11&lt;/li&gt;
&lt;li&gt;io-nonblock 0.2.0&lt;/li&gt;
&lt;li&gt;io-wait 0.3.0.pre&lt;/li&gt;
&lt;li&gt;ipaddr 1.2.5&lt;/li&gt;
&lt;li&gt;irb 1.5.1&lt;/li&gt;
&lt;li&gt;json 2.6.2&lt;/li&gt;
&lt;li&gt;logger 1.5.2&lt;/li&gt;
&lt;li&gt;mutex_m 0.1.2&lt;/li&gt;
&lt;li&gt;net-http 0.3.1&lt;/li&gt;
&lt;li&gt;net-protocol 0.2.0&lt;/li&gt;
&lt;li&gt;nkf 0.1.2&lt;/li&gt;
&lt;li&gt;open-uri 0.3.0&lt;/li&gt;
&lt;li&gt;openssl 3.1.0.pre&lt;/li&gt;
&lt;li&gt;optparse 0.3.0&lt;/li&gt;
&lt;li&gt;ostruct 0.5.5&lt;/li&gt;
&lt;li&gt;pathname 0.2.1&lt;/li&gt;
&lt;li&gt;pp 0.4.0&lt;/li&gt;
&lt;li&gt;pstore 0.1.2&lt;/li&gt;
&lt;li&gt;psych 5.0.0&lt;/li&gt;
&lt;li&gt;racc 1.6.1&lt;/li&gt;
&lt;li&gt;rdoc 6.5.0&lt;/li&gt;
&lt;li&gt;reline 0.3.1&lt;/li&gt;
&lt;li&gt;resolv 0.2.2&lt;/li&gt;
&lt;li&gt;securerandom 0.2.1&lt;/li&gt;
&lt;li&gt;set 1.0.3&lt;/li&gt;
&lt;li&gt;stringio 3.0.3&lt;/li&gt;
&lt;li&gt;syntax_suggest 1.0.1&lt;/li&gt;
&lt;li&gt;timeout 0.3.1&lt;/li&gt;
&lt;li&gt;tmpdir 0.1.3&lt;/li&gt;
&lt;li&gt;tsort 0.1.1&lt;/li&gt;
&lt;li&gt;un 0.2.1&lt;/li&gt;
&lt;li&gt;uri 0.12.0&lt;/li&gt;
&lt;li&gt;win32ole 1.8.9&lt;/li&gt;
&lt;li&gt;zlib 3.0.0&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;The following bundled gems are updated.
&lt;ul&gt;
&lt;li&gt;minitest 5.16.3&lt;/li&gt;
&lt;li&gt;power_assert 2.0.2&lt;/li&gt;
&lt;li&gt;test-unit 3.5.5&lt;/li&gt;
&lt;li&gt;net-ftp 0.2.0&lt;/li&gt;
&lt;li&gt;net-imap 0.3.1&lt;/li&gt;
&lt;li&gt;net-pop 0.1.2&lt;/li&gt;
&lt;li&gt;net-smtp 0.3.3&lt;/li&gt;
&lt;li&gt;rbs 2.8.1&lt;/li&gt;
&lt;li&gt;typeprof 0.21.3&lt;/li&gt;
&lt;li&gt;debug 1.7.0&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See &lt;a href=&quot;https://github.com/ruby/ruby/blob/v3_2_0_rc1/NEWS.md&quot;&gt;NEWS&lt;/a&gt;
or &lt;a href=&quot;https://github.com/ruby/ruby/compare/v3_1_0...v3_2_0_rc1&quot;&gt;commit logs&lt;/a&gt;
for more details.&lt;/p&gt;
&lt;p&gt;With those changes, &lt;a href=&quot;https://github.com/ruby/ruby/compare/v3_1_0...v3_2_0_rc1#file_bucket&quot;&gt;2846 files changed, 203950 insertions(+), 127153 deletions(-)&lt;/a&gt;
since Ruby 3.1.0!&lt;/p&gt;
&lt;h2&gt;Download&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0-rc1.tar.gz&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0-rc1.tar.gz&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 20253652
SHA1: 9b45af61ef1ae3c21ab88d7c9e30b80060116ac3
SHA256: 3bb9760c1ac1b66416aaa4899809f6ccd010e57038eaaeca19a383fd56275dac
SHA512: 798157d785ebae94cb128d3c134fa35e0e90c654972e531cb6562823042f3fb68a270226f7b1cf0c42572ef2b1488a1a3e44f88389ad2a6f9ca4b280a2a8e759
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0-rc1.tar.xz&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0-rc1.tar.xz&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 14934012
SHA1: 5576e304786d466410f27a345dc1cb66f2c773f6
SHA256: 0d45b3af14e84337882a2021235a091ae5dcfc0baaf31dccc479b71d96dd07bc
SHA512: d38fcb1e09eb9984f3b2347e65ae7406129c2578d068a25d33b5b4f021ec3b567a9abe56c2acbec6d07a3c2b4bc7b485dbd330cbfbb3a96350f60a2bb94d016e
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0-rc1.zip&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0-rc1.zip&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 24473024
SHA1: 8fdc85363ce61e0b8f04da36e709d49028d04a75
SHA256: 7ff32473be108534548e401aaa9092c37a27f73323ea4091c33901c714c87ee5
SHA512: 07adf6a9c89fdcf420e7b131f40f2b1f4aca036aa6f28539ade26ca552f84a75e0698f77a8b774d2ea52b8c756c4982ef319bda5afa786c081a31dd9873c5ef7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;What is Ruby&lt;/h2&gt;
&lt;p&gt;Ruby was first developed by Matz (Yukihiro Matsumoto) in 1993,
and is now developed as Open Source. It runs on multiple platforms
and is used all over the world especially for web development.&lt;/p&gt;

&lt;p&gt;Posted by naruse on 6 Dec 2022&lt;/p&gt;</description>
      <pubDate>Tue, 06 Dec 2022 00:00:00 +0000</pubDate>
      <guid>https://www.ruby-lang.org/en/news/2022/12/06/ruby-3-2-0-rc1-released/</guid>
      <link>https://www.ruby-lang.org/en/news/2022/12/06/ruby-3-2-0-rc1-released/</link>
    </item>
    
    <item>
      <title>Ruby 3.1.3 Released</title>
      <description>&lt;p&gt;Ruby 3.1.3 has been released.&lt;/p&gt;
&lt;p&gt;This release includes a security fix.
Please check the topics below for details.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/en/news/2022/11/22/http-response-splitting-in-cgi-cve-2021-33621/&quot;&gt;CVE-2021-33621: HTTP response splitting in CGI&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This release also includes a fix for build failure with Xcode 14 and macOS 13 (Ventura).
See &lt;a href=&quot;https://bugs.ruby-lang.org/issues/18912&quot;&gt;the related ticket&lt;/a&gt; for more details.&lt;/p&gt;
&lt;p&gt;See the &lt;a href=&quot;https://github.com/ruby/ruby/compare/v3_1_2...v3_1_3&quot;&gt;commit logs&lt;/a&gt; for further details.&lt;/p&gt;
&lt;h2&gt;Download&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.1/ruby-3.1.3.tar.gz&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.1/ruby-3.1.3.tar.gz&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 20906051
SHA1: bd35f56a1cc1760ea582c67cbf669556dc7ae2fd
SHA256: 5ea498a35f4cd15875200a52dde42b6eb179e1264e17d78732c3a57cd1c6ab9e
SHA512: 550cfda2ae492312009a58316e18fd77ea92852718b37443bcd76aac84ba6694fb841fe19bf23bee099f96f5aeed9d03e77c8c02fb194e414eca5f707adbbf90
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.1/ruby-3.1.3.tar.xz&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.1/ruby-3.1.3.tar.xz&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 15300224
SHA1: 12998178c3d17fa8a9d8300c7caab460b0e698c0
SHA256: 4ee161939826bcdfdafa757cf8e293a7f14e357f62be7144f040335cc8c7371a
SHA512: 4b0fd334ae56132ba98b8a69adad54bdcf7f7aeabd5eba5b0f0399a3868e2054f9026ca1b1cb2dbb197a9e9b0610b263481949c0623a62071546bc5adff8ca69
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.1/ruby-3.1.3.zip&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.1/ruby-3.1.3.zip&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 25226279
SHA1: fdc6186085b78536936dff7141e5d0f6fbdfe3bb
SHA256: 9e5de00a1d259a2c6947605825ecf6742d5216bd389af28f9ed366854e59b09e
SHA512: 3901380a27157639dee72f80231790886d269cc741a6c9e0f6472554855be86bdb93f71577ed8d93e817ef0c8d9a168fcd6f6d426fabb465dd0dd22b5a56cfc9
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Release Comment&lt;/h2&gt;
&lt;p&gt;Many committers, developers, and users who provided bug reports helped us make this release.
Thanks for their contributions.&lt;/p&gt;

&lt;p&gt;Posted by nagachika on 24 Nov 2022&lt;/p&gt;</description>
      <pubDate>Thu, 24 Nov 2022 12:00:00 +0000</pubDate>
      <guid>https://www.ruby-lang.org/en/news/2022/11/24/ruby-3-1-3-released/</guid>
      <link>https://www.ruby-lang.org/en/news/2022/11/24/ruby-3-1-3-released/</link>
    </item>
    
    <item>
      <title>Ruby 3.0.5 Released</title>
      <description>&lt;p&gt;Ruby 3.0.5 has been released.&lt;/p&gt;
&lt;p&gt;This release includes a security fix.
Please check the topics below for details.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/en/news/2022/11/22/http-response-splitting-in-cgi-cve-2021-33621/&quot;&gt;CVE-2021-33621: HTTP response splitting in CGI&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This release also includes some bug fixes.
See the &lt;a href=&quot;https://github.com/ruby/ruby/compare/v3_0_4...v3_0_5&quot;&gt;commit logs&lt;/a&gt; for further details.&lt;/p&gt;
&lt;h2&gt;Download&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.5.tar.gz&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.5.tar.gz&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 21312118
SHA1: 95e69c79c0cf173f87727b76994ddf0725d5fafc
SHA256: 9afc6380a027a4fe1ae1a3e2eccb6b497b9c5ac0631c12ca56f9b7beb4848776
SHA512: ea45fcd2ca53b87f18fd8696d00a1e340d2495443216aaf87d3f643cb5bd8bb614a1faacd82d07e7f2b72172397c728316a82d7c34a7b4566191268ea517ccf7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.5.tar.xz&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.5.tar.xz&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 15880196
SHA1: 844ede3938c652f5f9bf5dbf1b99f5a6c41b11b6
SHA256: cf7cb5ba2030fe36596a40980cdecfd79a0337d35860876dc2b10a38675bddde
SHA512: 1c69d18210a2156f7696c678a8d54bf05c4dc49a1401c1ecc5760b1c23fb6ac14053873a225564664d6a327cda274ce72f47d112a6ad8d378f978de4e507e9a0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.5.zip&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.5.zip&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 25691385
SHA1: 5511c7b30e203ff0b3528453898b62781e97154b
SHA256: 4b63c59ebdc0abcea139a561d67dfa9770af2d9619390f34b8a53f9625a1090d
SHA512: 953cef1dd97395e04059cc76ee2a74348f2c9da0b2727c5406af26e88072e8c0bde91835354cb9f1b44f3a81a49ea7b807d7f048d138fd74ba3cabbf7859f2b3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Release Comment&lt;/h2&gt;
&lt;p&gt;Many committers, developers, and users who provided bug reports helped us make this release.
Thanks for their contributions.&lt;/p&gt;
&lt;p&gt;The maintenance of Ruby 3.0, including this release, is based on the &amp;quot;Agreement for the Ruby stable version&amp;quot; of the Ruby Association.&lt;/p&gt;

&lt;p&gt;Posted by usa on 24 Nov 2022&lt;/p&gt;</description>
      <pubDate>Thu, 24 Nov 2022 12:00:00 +0000</pubDate>
      <guid>https://www.ruby-lang.org/en/news/2022/11/24/ruby-3-0-5-released/</guid>
      <link>https://www.ruby-lang.org/en/news/2022/11/24/ruby-3-0-5-released/</link>
    </item>
    
    <item>
      <title>Ruby 2.7.7 Released</title>
      <description>&lt;p&gt;Ruby 2.7.7 has been released.&lt;/p&gt;
&lt;p&gt;This release includes a security fix.
Please check the topics below for details.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/en/news/2022/11/22/http-response-splitting-in-cgi-cve-2021-33621/&quot;&gt;CVE-2021-33621: HTTP response splitting in CGI&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This release also includes some build problem fixes. They are not considered to affect compatibility with previous versions.
See the &lt;a href=&quot;https://github.com/ruby/ruby/compare/v2_7_6...v2_7_7&quot;&gt;commit logs&lt;/a&gt; for further details.&lt;/p&gt;
&lt;h2&gt;Download&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/2.7/ruby-2.7.7.tar.bz2&quot;&gt;https://cache.ruby-lang.org/pub/ruby/2.7/ruby-2.7.7.tar.bz2&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 14850886
SHA1: dfcd86b459a9d4bbdf2d4eb82ad3476cb9820892
SHA256: cf800820c9e69cdd31a8cdab920391f74ed935db2397a905afabd48961913658
SHA512: 24cc772ac1b56d3bb423f1b33716f221bf534f3717a506bf8235a698f8a454db7d79d94ae9a84067153c2f737b3f8f6085f34e36cc04be0d75ae2fdd57718870
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/2.7/ruby-2.7.7.tar.gz&quot;&gt;https://cache.ruby-lang.org/pub/ruby/2.7/ruby-2.7.7.tar.gz&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 16947579
SHA1: a038ab04e9d6dff7f9e7187b65497b29d4400597
SHA256: e10127db691d7ff36402cfe88f418c8d025a3f1eea92044b162dd72f0b8c7b90
SHA512: 7e6259f0e7a5687d12fded914dcb93e283e956022be40ef8fc6a27f66be14e057d8101b05c7b042b43fc24e3b5c4092d1675917a814d74b08adb63a3388baed2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/2.7/ruby-2.7.7.tar.xz&quot;&gt;https://cache.ruby-lang.org/pub/ruby/2.7/ruby-2.7.7.tar.xz&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 12101804
SHA1: 28e2b97728bf89f64a1b787821660d5412657057
SHA256: b38dff2e1f8ce6e5b7d433f8758752987a6b2adfd9bc7571dbc42ea5d04e3e4c
SHA512: a19be3f0dfce040fe79f439e606f179d6750d2cc6e7b64fd65933edd487f5995573f7d0730beec9d3edadf942f8e9216f01ab3fff189d6cbe9d46a9add3e2683
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/2.7/ruby-2.7.7.zip&quot;&gt;https://cache.ruby-lang.org/pub/ruby/2.7/ruby-2.7.7.zip&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 20730295
SHA1: bf41b294f428a4f8a38894f8fa613dd6f889c317
SHA256: 7b48a8411bb79a06e9edbbb7380bd82527697b7d8f62840b985111003317bae0
SHA512: 90dabc0fcedc25e3e46d5e9f2dff01c56e142c2e71b95c4c5f4da056f1e47cb320ef8b949282fd9594869e91cd76eab27ad70061be6c26b0d0d8837ae0fb8309
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Release Comment&lt;/h2&gt;
&lt;p&gt;Many committers, developers, and users who provided bug reports helped us make this release.
Thanks for their contributions.&lt;/p&gt;

&lt;p&gt;Posted by usa on 24 Nov 2022&lt;/p&gt;</description>
      <pubDate>Thu, 24 Nov 2022 12:00:00 +0000</pubDate>
      <guid>https://www.ruby-lang.org/en/news/2022/11/24/ruby-2-7-7-released/</guid>
      <link>https://www.ruby-lang.org/en/news/2022/11/24/ruby-2-7-7-released/</link>
    </item>
    
    <item>
      <title>CVE-2021-33621: HTTP response splitting in CGI</title>
      <description>&lt;p&gt;We have released the cgi gem version 0.3.5, 0.2.2, and 0.1.0.2 that has a security fix for a HTTP response splitting vulnerability.
This vulnerability has been assigned the CVE identifier &lt;a href=&quot;https://nvd.nist.gov/vuln/detail/CVE-2021-33621&quot;&gt;CVE-2021-33621&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Details&lt;/h2&gt;
&lt;p&gt;If an application that generates HTTP responses using the cgi gem with untrusted user input, an attacker can exploit it to inject a malicious HTTP response header and/or body.&lt;/p&gt;
&lt;p&gt;Also, the contents for a &lt;code&gt;CGI::Cookie&lt;/code&gt; object were not checked properly. If an application creates a &lt;code&gt;CGI::Cookie&lt;/code&gt; object based on user input, an attacker may exploit it to inject invalid attributes in &lt;code&gt;Set-Cookie&lt;/code&gt; header. We think such applications are unlikely, but we have included a change to check arguments for &lt;code&gt;CGI::Cookie#initialize&lt;/code&gt; preventatively.&lt;/p&gt;
&lt;p&gt;Please update the cgi gem to version 0.3.5, 0.2.2, and 0.1.0.2, or later. You can use &lt;code&gt;gem update cgi&lt;/code&gt; to update it.
If you are using bundler, please add &lt;code&gt;gem &amp;quot;cgi&amp;quot;, &amp;quot;&amp;gt;= 0.3.5&amp;quot;&lt;/code&gt; to your &lt;code&gt;Gemfile&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;Affected versions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;cgi gem 0.3.3 or before&lt;/li&gt;
&lt;li&gt;cgi gem 0.2.1 or before&lt;/li&gt;
&lt;li&gt;cgi gem 0.1.1 or 0.1.0.1 or 0.1.0&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Credits&lt;/h2&gt;
&lt;p&gt;Thanks to &lt;a href=&quot;https://hackerone.com/htokumaru?type=user&quot;&gt;Hiroshi Tokumaru&lt;/a&gt; for discovering this issue.&lt;/p&gt;
&lt;h2&gt;History&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Originally published at 2022-11-22 02:00:00 (UTC)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Posted by mame on 22 Nov 2022&lt;/p&gt;</description>
      <pubDate>Tue, 22 Nov 2022 02:00:00 +0000</pubDate>
      <guid>https://www.ruby-lang.org/en/news/2022/11/22/http-response-splitting-in-cgi-cve-2021-33621/</guid>
      <link>https://www.ruby-lang.org/en/news/2022/11/22/http-response-splitting-in-cgi-cve-2021-33621/</link>
    </item>
    
    <item>
      <title>Ruby 3.2.0 Preview 3 Released</title>
      <description>&lt;p&gt;We are pleased to announce the release of Ruby 3.2.0-preview3. Ruby 3.2 adds many features and performance improvements.&lt;/p&gt;
&lt;h2&gt;WASI based WebAssembly support&lt;/h2&gt;
&lt;p&gt;This is an initial port of WASI based WebAssembly support. This enables a CRuby binary to be available on Web browser, Serverless Edge environment, and other WebAssembly/WASI embedders. Currently this port passes basic and bootstrap test suites not using Thread API.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/opCgKy2.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;h3&gt;Background&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://webassembly.org/&quot;&gt;WebAssembly (Wasm)&lt;/a&gt; is originally introduced to run programs safely and fast in web browsers. But its objective - running programs efficinently with security on various environment - is long wanted not only by web but also by general applications.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://wasi.dev/&quot;&gt;WASI (The WebAssembly System Interface)&lt;/a&gt; is designed for such use cases. Though such applications need to communicate with operating systems, WebAssembly runs on a virtual machine which didn't have a system interface. WASI standardizes it.&lt;/p&gt;
&lt;p&gt;WebAssembly/WASI Support in Ruby intends to leverage those projects. It enables Ruby developers to write applications which runs on such promised platform.&lt;/p&gt;
&lt;h3&gt;Use case&lt;/h3&gt;
&lt;p&gt;This support encourages developers can utilize CRuby in WebAssembly environment. An example use case of it is &lt;a href=&quot;https://try.ruby-lang.org/playground/&quot;&gt;TryRuby playground&lt;/a&gt;'s CRuby support. Now you can try original CRuby in your web browser.&lt;/p&gt;
&lt;h3&gt;Technical points&lt;/h3&gt;
&lt;p&gt;Today’s WASI and WebAssembly itself has some missing features to implement Fiber, exception, and GC because it’s still evolving and also for security reasons. So CRuby fills the gap by using Asyncify, which is a binary transformation technique to control execution in userland.&lt;/p&gt;
&lt;p&gt;In addition, we built &lt;a href=&quot;https://github.com/kateinoigakukun/wasi-vfs/wiki/Getting-Started-with-CRuby&quot;&gt;a VFS on top of WASI&lt;/a&gt; so that we can easily pack Ruby apps into a single .wasm file. This makes distribution of Ruby apps a bit easier.&lt;/p&gt;
&lt;h3&gt;Related links&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/ruby/ruby/pull/5407&quot;&gt;Add WASI based WebAssembly support #5407&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://itnext.io/final-report-webassembly-wasi-support-in-ruby-4aface7d90c9&quot;&gt;An Update on WebAssembly/WASI Support in Ruby&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Regexp improvements against ReDoS&lt;/h2&gt;
&lt;p&gt;It is known that Regexp matching may take unexpectedly long. If your code attempts to match an possibly inefficient Regexp against an untrusted input, an attacker may exploit it for efficient Denial of Service (so-called Regular expression DoS, or ReDoS).&lt;/p&gt;
&lt;p&gt;We have introduced two improvements that significantly mitigate ReDoS.&lt;/p&gt;
&lt;h3&gt;Improved Regexp matching algorithm&lt;/h3&gt;
&lt;p&gt;Since Ruby 3.2, Regexp's matching algorithm has been greatly improved by using memoization technique.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# This matching takes 10 sec. in Ruby 3.1, and does 0.003 sec. in Ruby 3.2

/^a*b?a*$/ =~ &quot;a&quot; * 50000 + &quot;x&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The improved matching algorithm allows most of Regexp matching (about 90% in our experiments) to be completed in linear time.&lt;/p&gt;
&lt;p&gt;(For preview users: this optimization may consume memory proportional to the input length for each matching. We expect no practical problems to arise because this memory allocation is usually delayed, and a normal Regexp matching should consume at most 10 times as much memory as the input length. If you run out of memory when matching Regexps in a real-world application, please report it.)&lt;/p&gt;
&lt;p&gt;The original proposal is &lt;a href=&quot;https://bugs.ruby-lang.org/issues/19104&quot;&gt;https://bugs.ruby-lang.org/issues/19104&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Regexp timeout&lt;/h3&gt;
&lt;p&gt;The optimization above cannot be applied to some kind of regular expressions, such as including advanced features (e.g., back-references or look-around), or with huge fixed number of repetitions. As a fallback measure, a timeout feature for Regexp matching is also introduced.&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;Regexp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;timeout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;

&lt;span class=&quot;sr&quot;&gt;/^a*b?a*()\1$/&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=~&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;a&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;50000&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;x&quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#=&amp;gt; Regexp::TimeoutError is raised in one second&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Note that &lt;code&gt;Regexp.timeout&lt;/code&gt; is a global configuration. If you want to use different timeout settings for some special Regexps, you may want to use &lt;code&gt;timeout&lt;/code&gt; keyword for &lt;code&gt;Regexp.new&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;Regexp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;timeout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# This regexp has no timeout&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;long_time_re&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Regexp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'^a*b?a*()\1$'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;timeout: &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Float&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;INFINITY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;long_time_re&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=~&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;a&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;50000&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;x&quot;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# never interrupted&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The original proposal is &lt;a href=&quot;https://bugs.ruby-lang.org/issues/17837&quot;&gt;https://bugs.ruby-lang.org/issues/17837&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Other Notable New Features&lt;/h2&gt;
&lt;h3&gt;No longer bundle 3rd party sources&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;We no longer bundle 3rd party sources like &lt;code&gt;libyaml&lt;/code&gt;, &lt;code&gt;libffi&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;libyaml source has been removed from psych. You may need to install &lt;code&gt;libyaml-dev&lt;/code&gt; with Ubuntu/Debian platfrom. The package name is different each platforms.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;bundled libffi source is also removed from &lt;code&gt;fiddle&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Language&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Anonymous rest and keyword rest arguments can now be passed as
arguments, instead of just used in method parameters.
[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18351&quot;&gt;Feature #18351&lt;/a&gt;]&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;baz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;quux&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A proc that accepts a single positional argument and keywords will
no longer autosplat. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18633&quot;&gt;Bug #18633&lt;/a&gt;]&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;nb&quot;&gt;proc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Ruby 3.1 and before&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Ruby 3.2 and after&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; [1, 2]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Constant assignment evaluation order for constants set on explicit
objects has been made consistent with single attribute assignment
evaluation order. With this code:&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;BAR&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;baz&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;foo&lt;/code&gt; is now called before &lt;code&gt;baz&lt;/code&gt;. Similarly, for multiple assignments
to constants,  left-to-right evaluation order is used. With this
code:&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;n&quot;&gt;foo1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;BAR1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;foo2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;BAR2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;baz1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;baz2&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The following evaluation order is now used:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;foo1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;foo2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;baz1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;baz2&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/15928&quot;&gt;Bug #15928&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Find pattern is no longer experimental.
[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18585&quot;&gt;Feature #18585&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Methods taking a rest parameter (like &lt;code&gt;*args&lt;/code&gt;) and wishing to delegate keyword
arguments through &lt;code&gt;foo(*args)&lt;/code&gt; must now be marked with &lt;code&gt;ruby2_keywords&lt;/code&gt;
(if not already the case). In other words, all methods wishing to delegate
keyword arguments through &lt;code&gt;*args&lt;/code&gt; must now be marked with &lt;code&gt;ruby2_keywords&lt;/code&gt;,
with no exception. This will make it easier to transition to other ways of
delegation once a library can require Ruby 3+. Previously, the &lt;code&gt;ruby2_keywords&lt;/code&gt;
flag was kept if the receiving method took &lt;code&gt;*args&lt;/code&gt;, but this was a bug and an
inconsistency. A good technique to find the potentially-missing &lt;code&gt;ruby2_keywords&lt;/code&gt;
is to run the test suite, for where it fails find the last method which must
receive keyword arguments, use &lt;code&gt;puts nil, caller, nil&lt;/code&gt; there, and check each
method/block on the call chain which must delegate keywords is correctly marked
as &lt;code&gt;ruby2_keywords&lt;/code&gt;. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18625&quot;&gt;Bug #18625&lt;/a&gt;] [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16466&quot;&gt;Bug #16466&lt;/a&gt;]&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Accidentally worked without ruby2_keywords in Ruby 2.7-3.1, ruby2_keywords&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# needed in 3.2+. Just like (*args, **kwargs) or (...) would be needed on&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# both #foo and #bar when migrating away from ruby2_keywords.&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ruby2_keywords&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;ruby2_keywords&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;k: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Performance improvements&lt;/h2&gt;
&lt;h3&gt;YJIT&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Support arm64 / aarch64 on UNIX platforms.&lt;/li&gt;
&lt;li&gt;Building YJIT requires Rust 1.58.1+. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18481&quot;&gt;Feature #18481&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Other notable changes since 3.1&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Hash&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Hash#shift now always returns nil if the hash is
empty, instead of returning the default value or
calling the default proc. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16908&quot;&gt;Bug #16908&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;MatchData&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MatchData#byteoffset has been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/13110&quot;&gt;Feature #13110&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Module&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Module.used_refinements has been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/14332&quot;&gt;Feature #14332&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;Module#refinements has been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/12737&quot;&gt;Feature #12737&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;Module#const_added has been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/17881&quot;&gt;Feature #17881&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Proc&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Proc#dup returns an instance of subclass. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/17545&quot;&gt;Bug #17545&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;Proc#parameters now accepts lambda keyword. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/15357&quot;&gt;Feature #15357&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Refinement&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Refinement#refined_class has been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/12737&quot;&gt;Feature #12737&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RubyVM::AbstractSyntaxTree&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Add &lt;code&gt;error_tolerant&lt;/code&gt; option for &lt;code&gt;parse&lt;/code&gt;, &lt;code&gt;parse_file&lt;/code&gt; and &lt;code&gt;of&lt;/code&gt;. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/19013&quot;&gt;Feature #19013&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Set&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Set is now available as a builtin class without the need for &lt;code&gt;require &amp;quot;set&amp;quot;&lt;/code&gt;. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16989&quot;&gt;Feature #16989&lt;/a&gt;]
It is currently autoloaded via the &lt;code&gt;Set&lt;/code&gt; constant or a call to &lt;code&gt;Enumerable#to_set&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;String&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;String#byteindex and String#byterindex have been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/13110&quot;&gt;Feature #13110&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;Update Unicode to Version 14.0.0 and Emoji Version 14.0. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18037&quot;&gt;Feature #18037&lt;/a&gt;]
(also applies to Regexp)&lt;/li&gt;
&lt;li&gt;String#bytesplice has been added.  [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18598&quot;&gt;Feature #18598&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Struct&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A Struct class can also be initialized with keyword arguments
without &lt;code&gt;keyword_init: true&lt;/code&gt; on &lt;code&gt;Struct.new&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16806&quot;&gt;Feature #16806&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Compatibility issues&lt;/h2&gt;
&lt;p&gt;Note: Excluding feature bug fixes.&lt;/p&gt;
&lt;h3&gt;Removed constants&lt;/h3&gt;
&lt;p&gt;The following deprecated constants are removed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Fixnum&lt;/code&gt; and &lt;code&gt;Bignum&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/12005&quot;&gt;Feature #12005&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Random::DEFAULT&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/17351&quot;&gt;Feature #17351&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Struct::Group&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Struct::Passwd&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Removed methods&lt;/h3&gt;
&lt;p&gt;The following deprecated methods are removed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Dir.exists?&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/17391&quot;&gt;Feature #17391&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;File.exists?&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/17391&quot;&gt;Feature #17391&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Kernel#=~&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/15231&quot;&gt;Feature #15231&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Kernel#taint&lt;/code&gt;, &lt;code&gt;Kernel#untaint&lt;/code&gt;, &lt;code&gt;Kernel#tainted?&lt;/code&gt;
[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16131&quot;&gt;Feature #16131&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Kernel#trust&lt;/code&gt;, &lt;code&gt;Kernel#untrust&lt;/code&gt;, &lt;code&gt;Kernel#untrusted?&lt;/code&gt;
[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16131&quot;&gt;Feature #16131&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Stdlib compatibility issues&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Psych&lt;/code&gt; no longer bundles libyaml sources.
Users need to install the libyaml library themselves via the package
system. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18571&quot;&gt;Feature #18571&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;C API updates&lt;/h2&gt;
&lt;h3&gt;Updated C APIs&lt;/h3&gt;
&lt;p&gt;The following APIs are updated.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PRNG update
&lt;code&gt;rb_random_interface_t&lt;/code&gt; updated and versioned.
Extension libraries which use this interface and built for older versions.
Also &lt;code&gt;init_int32&lt;/code&gt; function needs to be defined.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Removed C APIs&lt;/h3&gt;
&lt;p&gt;The following deprecated APIs are removed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;rb_cData&lt;/code&gt; variable.&lt;/li&gt;
&lt;li&gt;&amp;quot;taintedness&amp;quot; and &amp;quot;trustedness&amp;quot; functions. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16131&quot;&gt;Feature #16131&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Standard libraries updates&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;SyntaxSuggest&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The feature of &lt;code&gt;syntax_suggest&lt;/code&gt; formerly &lt;code&gt;dead_end&lt;/code&gt; is integrated in Ruby.
[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18159&quot;&gt;Feature #18159&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ErrorHighlight&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Now it points an argument(s) of TypeError and ArgumentError&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;test.rb:2:in `+': nil can't be coerced into Integer (TypeError)

sum = ary[0] + ary[1]
               ^^^^^^
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;The following default gems are updated.
&lt;ul&gt;
&lt;li&gt;RubyGems 3.4.0.dev&lt;/li&gt;
&lt;li&gt;bigdecimal 3.1.2&lt;/li&gt;
&lt;li&gt;bundler 2.4.0.dev&lt;/li&gt;
&lt;li&gt;cgi 0.3.2&lt;/li&gt;
&lt;li&gt;date 3.2.3&lt;/li&gt;
&lt;li&gt;error_highlight 0.4.0&lt;/li&gt;
&lt;li&gt;etc 1.4.0&lt;/li&gt;
&lt;li&gt;io-console 0.5.11&lt;/li&gt;
&lt;li&gt;io-nonblock 0.1.1&lt;/li&gt;
&lt;li&gt;io-wait 0.3.0.pre&lt;/li&gt;
&lt;li&gt;ipaddr 1.2.4&lt;/li&gt;
&lt;li&gt;json 2.6.2&lt;/li&gt;
&lt;li&gt;logger 1.5.1&lt;/li&gt;
&lt;li&gt;net-http 0.2.2&lt;/li&gt;
&lt;li&gt;net-protocol 0.1.3&lt;/li&gt;
&lt;li&gt;ostruct 0.5.5&lt;/li&gt;
&lt;li&gt;psych 5.0.0.dev&lt;/li&gt;
&lt;li&gt;reline 0.3.1&lt;/li&gt;
&lt;li&gt;securerandom 0.2.0&lt;/li&gt;
&lt;li&gt;set 1.0.3&lt;/li&gt;
&lt;li&gt;stringio 3.0.3&lt;/li&gt;
&lt;li&gt;syntax_suggest 0.0.1&lt;/li&gt;
&lt;li&gt;timeout 0.3.0&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;The following bundled gems are updated.
&lt;ul&gt;
&lt;li&gt;minitest 5.16.3&lt;/li&gt;
&lt;li&gt;net-imap 0.2.3&lt;/li&gt;
&lt;li&gt;rbs 2.6.0&lt;/li&gt;
&lt;li&gt;typeprof 0.21.3&lt;/li&gt;
&lt;li&gt;debug 1.6.2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;The following default gems are now bundled gems.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See &lt;a href=&quot;https://github.com/ruby/ruby/blob/v3_2_0_preview3/NEWS.md&quot;&gt;NEWS&lt;/a&gt;
or &lt;a href=&quot;https://github.com/ruby/ruby/compare/v3_1_0...v3_2_0_preview3&quot;&gt;commit logs&lt;/a&gt;
for more details.&lt;/p&gt;
&lt;p&gt;With those changes, &lt;a href=&quot;https://github.com/ruby/ruby/compare/v3_1_0...v3_2_0_preview3#file_bucket&quot;&gt;2719 files changed, 191269 insertions(+), 120315 deletions(-)&lt;/a&gt;
since Ruby 3.1.0!&lt;/p&gt;
&lt;h2&gt;Download&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0-preview3.tar.gz&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0-preview3.tar.gz&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 20086542
SHA1: dafca8116d36ceaa32482ab38359768de8c3ae5e
SHA256: c041d1488e62730d3a10dbe7cf7a3b3e4268dc867ec20ec991e7d16146640487
SHA512: 860634d95e4b9c48f18d38146dfbdc3c389666d45454248a4ccdfc3a5d3cd0c71c73533aabf359558117de9add1472af228d8eaec989c9336b1a3a6f03f1ae88
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0-preview3.tar.xz&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0-preview3.tar.xz&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 14799804
SHA1: c94e2add05502cb5c39afffc995b7c8f000f7df0
SHA256: d3f5619de544240d92a5d03aa289e71bd1103379622c523a0e80ed029a74b3bb
SHA512: c1864e2e07c3711eaa17d0f85dfbcc6e0682b077782bb1c155315af45139ae66dc4567c73682d326975b0f472111eb0a70f949811cb54bed0b3a816ed6ac34df
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0-preview3.zip&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0-preview3.zip&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 24426893
SHA1: 346c051c4be7ab8d0b551fd2ff8169785697db62
SHA256: cf49aa70e7ebd8abebffd5e49cd3bd92e5b9f3782d587cc7ed88c98dd5f17069
SHA512: 4f22b5ea91be17ef5f68cf0acb1e3a226dcc549ad71cc9b40e623220087c4065ca9bea942710f668e5c94ca0323da8d2ccd565f95a9085c1a0e38e9c0543b22f
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;What is Ruby&lt;/h2&gt;
&lt;p&gt;Ruby was first developed by Matz (Yukihiro Matsumoto) in 1993,
and is now developed as Open Source. It runs on multiple platforms
and is used all over the world especially for web development.&lt;/p&gt;

&lt;p&gt;Posted by naruse on 11 Nov 2022&lt;/p&gt;</description>
      <pubDate>Fri, 11 Nov 2022 00:00:00 +0000</pubDate>
      <guid>https://www.ruby-lang.org/en/news/2022/11/11/ruby-3-2-0-preview3-released/</guid>
      <link>https://www.ruby-lang.org/en/news/2022/11/11/ruby-3-2-0-preview3-released/</link>
    </item>
    
    <item>
      <title>Ruby 3.2.0 Preview 2 Released</title>
      <description>&lt;p&gt;We are pleased to announce the release of Ruby 3.2.0-preview2. Ruby 3.2 adds many features and performance improvements.&lt;/p&gt;
&lt;h2&gt;WASI based WebAssembly support&lt;/h2&gt;
&lt;p&gt;This is an initial port of WASI based WebAssembly support. This enables a CRuby binary to be available on Web browser, Serverless Edge environment, and other WebAssembly/WASI embedders. Currently this port passes basic and bootstrap test suites not using Thread API.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/opCgKy2.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;h3&gt;Background&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://webassembly.org/&quot;&gt;WebAssembly (Wasm)&lt;/a&gt; is originally introduced to run programs safely and fast in web browsers. But its objective - running programs efficinently with security on various environment - is long wanted not only by web but also by general applications.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://wasi.dev/&quot;&gt;WASI (The WebAssembly System Interface)&lt;/a&gt; is designed for such use cases. Though such applications need to communicate with operating systems, WebAssembly runs on a virtual machine which didn't have a system interface. WASI standardizes it.&lt;/p&gt;
&lt;p&gt;WebAssembly/WASI Support in Ruby intends to leverage those projects. It enables Ruby developers to write applications which runs on such promised platform.&lt;/p&gt;
&lt;h3&gt;Use case&lt;/h3&gt;
&lt;p&gt;This support encourages developers can utilize CRuby in WebAssembly environment. An example use case of it is &lt;a href=&quot;https://try.ruby-lang.org/playground/&quot;&gt;TryRuby playground&lt;/a&gt;'s CRuby support. Now you can try original CRuby in your web browser.&lt;/p&gt;
&lt;h3&gt;Technical points&lt;/h3&gt;
&lt;p&gt;Today’s WASI and WebAssembly itself has some missing features to implement Fiber, exception, and GC because it’s still evolving and also for security reasons. So CRuby fills the gap by using Asyncify, which is a binary transformation technique to control execution in userland.&lt;/p&gt;
&lt;p&gt;In addition, we built &lt;a href=&quot;https://github.com/kateinoigakukun/wasi-vfs/wiki/Getting-Started-with-CRuby&quot;&gt;a VFS on top of WASI&lt;/a&gt; so that we can easily pack Ruby apps into a single .wasm file. This makes distribution of Ruby apps a bit easier.&lt;/p&gt;
&lt;h3&gt;Related links&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/ruby/ruby/pull/5407&quot;&gt;Add WASI based WebAssembly support #5407&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://itnext.io/final-report-webassembly-wasi-support-in-ruby-4aface7d90c9&quot;&gt;An Update on WebAssembly/WASI Support in Ruby&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Regexp timeout&lt;/h2&gt;
&lt;p&gt;A timeout feature for Regexp matching is introduced.&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;Regexp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;timeout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;

&lt;span class=&quot;sr&quot;&gt;/^a*b?a*$/&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=~&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;a&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;50000&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;x&quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#=&amp;gt; Regexp::TimeoutError is raised in one second&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It is known that Regexp matching may take unexpectedly long. If your code attempts to match an possibly inefficient Regexp against an untrusted input, an attacker may exploit it for efficient Denial of Service (so-called Regular expression DoS, or ReDoS).&lt;/p&gt;
&lt;p&gt;The risk of DoS can be prevented or significantly mitigated by configuring &lt;code&gt;Regexp.timeout&lt;/code&gt; according to the requirements of your Ruby application. Please try it out in your application and welcome your feedback.&lt;/p&gt;
&lt;p&gt;Note that &lt;code&gt;Regexp.timeout&lt;/code&gt; is a global configuration. If you want to use different timeout settings for some special Regexps, you may want to use &lt;code&gt;timeout&lt;/code&gt; keyword for &lt;code&gt;Regexp.new&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;Regexp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;timeout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# This regexp has no timeout&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;long_time_re&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Regexp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;^a*b?a*$&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;timeout: &lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;long_time_re&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=~&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;a&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;50000&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;x&quot;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# never interrupted&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The original proposal is https://bugs.ruby-lang.org/issues/17837&lt;/p&gt;
&lt;h2&gt;Other Notable New Features&lt;/h2&gt;
&lt;h3&gt;No longer bundle 3rd party sources&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;We no longer bundle 3rd party sources like &lt;code&gt;libyaml&lt;/code&gt;, &lt;code&gt;libffi&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;libyaml source has been removed from psych. You may need to install &lt;code&gt;libyaml-dev&lt;/code&gt; with Ubuntu/Debian platfrom. The package name is different each platforms.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;libffi will be removed from &lt;code&gt;fiddle&lt;/code&gt; at preview2&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Language&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Anonymous rest and keyword rest arguments can now be passed as
arguments, instead of just used in method parameters.
[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18351&quot;&gt;Feature #18351&lt;/a&gt;]&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;baz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;quux&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A proc that accepts a single positional argument and keywords will
no longer autosplat. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18633&quot;&gt;Bug #18633&lt;/a&gt;]&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;nb&quot;&gt;proc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Ruby 3.1 and before&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Ruby 3.2 and after&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; [1, 2]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Constant assignment evaluation order for constants set on explicit
objects has been made consistent with single attribute assignment
evaluation order. With this code:&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;BAR&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;baz&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;foo&lt;/code&gt; is now called before &lt;code&gt;baz&lt;/code&gt;. Similarly, for multiple assignments
to constants,  left-to-right evaluation order is used. With this
code:&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;n&quot;&gt;foo1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;BAR1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;foo2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;BAR2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;baz1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;baz2&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The following evaluation order is now used:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;foo1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;foo2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;baz1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;baz2&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/15928&quot;&gt;Bug #15928&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Find pattern is no longer experimental.
[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18585&quot;&gt;Feature #18585&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Methods taking a rest parameter (like &lt;code&gt;*args&lt;/code&gt;) and wishing to delegate keyword
arguments through &lt;code&gt;foo(*args)&lt;/code&gt; must now be marked with &lt;code&gt;ruby2_keywords&lt;/code&gt;
(if not already the case). In other words, all methods wishing to delegate
keyword arguments through &lt;code&gt;*args&lt;/code&gt; must now be marked with &lt;code&gt;ruby2_keywords&lt;/code&gt;,
with no exception. This will make it easier to transition to other ways of
delegation once a library can require Ruby 3+. Previously, the &lt;code&gt;ruby2_keywords&lt;/code&gt;
flag was kept if the receiving method took &lt;code&gt;*args&lt;/code&gt;, but this was a bug and an
inconsistency. A good technique to find the potentially-missing &lt;code&gt;ruby2_keywords&lt;/code&gt;
is to run the test suite, for where it fails find the last method which must
receive keyword arguments, use &lt;code&gt;puts nil, caller, nil&lt;/code&gt; there, and check each
method/block on the call chain which must delegate keywords is correctly marked
as &lt;code&gt;ruby2_keywords&lt;/code&gt;. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18625&quot;&gt;Bug #18625&lt;/a&gt;] [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16466&quot;&gt;Bug #16466&lt;/a&gt;]&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Accidentally worked without ruby2_keywords in Ruby 2.7-3.1, ruby2_keywords&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# needed in 3.2+. Just like (*args, **kwargs) or (...) would be needed on&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# both #foo and #bar when migrating away from ruby2_keywords.&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ruby2_keywords&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;ruby2_keywords&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;k: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Performance improvements&lt;/h2&gt;
&lt;h3&gt;YJIT&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Support arm64 / aarch64 on UNIX platforms.&lt;/li&gt;
&lt;li&gt;Building YJIT requires Rust 1.58.1+. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18481&quot;&gt;Feature #18481&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Other notable changes since 3.1&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Hash&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Hash#shift now always returns nil if the hash is
empty, instead of returning the default value or
calling the default proc. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16908&quot;&gt;Bug #16908&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;MatchData&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MatchData#byteoffset has been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/13110&quot;&gt;Feature #13110&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Module&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Module.used_refinements has been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/14332&quot;&gt;Feature #14332&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;Module#refinements has been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/12737&quot;&gt;Feature #12737&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;Module#const_added has been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/17881&quot;&gt;Feature #17881&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Proc&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Proc#dup returns an instance of subclass. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/17545&quot;&gt;Bug #17545&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;Proc#parameters now accepts lambda keyword. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/15357&quot;&gt;Feature #15357&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Refinement&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Refinement#refined_class has been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/12737&quot;&gt;Feature #12737&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Set&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Set is now available as a builtin class without the need for &lt;code&gt;require &amp;quot;set&amp;quot;&lt;/code&gt;. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16989&quot;&gt;Feature #16989&lt;/a&gt;]
It is currently autoloaded via the &lt;code&gt;Set&lt;/code&gt; constant or a call to &lt;code&gt;Enumerable#to_set&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;String&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;String#byteindex and String#byterindex have been added. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/13110&quot;&gt;Feature #13110&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;Update Unicode to Version 14.0.0 and Emoji Version 14.0. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18037&quot;&gt;Feature #18037&lt;/a&gt;]
(also applies to Regexp)&lt;/li&gt;
&lt;li&gt;String#bytesplice has been added.  [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18598&quot;&gt;Feature #18598&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Struct&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A Struct class can also be initialized with keyword arguments
without &lt;code&gt;keyword_init: true&lt;/code&gt; on &lt;code&gt;Struct.new&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16806&quot;&gt;Feature #16806&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Compatibility issues&lt;/h2&gt;
&lt;p&gt;Note: Excluding feature bug fixes.&lt;/p&gt;
&lt;h3&gt;Removed constants&lt;/h3&gt;
&lt;p&gt;The following deprecated constants are removed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Fixnum&lt;/code&gt; and &lt;code&gt;Bignum&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/12005&quot;&gt;Feature #12005&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Random::DEFAULT&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/17351&quot;&gt;Feature #17351&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Struct::Group&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Struct::Passwd&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Removed methods&lt;/h3&gt;
&lt;p&gt;The following deprecated methods are removed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Dir.exists?&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/17391&quot;&gt;Feature #17391&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;File.exists?&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/17391&quot;&gt;Feature #17391&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Kernel#=~&lt;/code&gt; [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/15231&quot;&gt;Feature #15231&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Kernel#taint&lt;/code&gt;, &lt;code&gt;Kernel#untaint&lt;/code&gt;, &lt;code&gt;Kernel#tainted?&lt;/code&gt;
[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16131&quot;&gt;Feature #16131&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Kernel#trust&lt;/code&gt;, &lt;code&gt;Kernel#untrust&lt;/code&gt;, &lt;code&gt;Kernel#untrusted?&lt;/code&gt;
[&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16131&quot;&gt;Feature #16131&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Stdlib compatibility issues&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Psych&lt;/code&gt; no longer bundles libyaml sources.
Users need to install the libyaml library themselves via the package
system. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/18571&quot;&gt;Feature #18571&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;C API updates&lt;/h2&gt;
&lt;h3&gt;Removed C APIs&lt;/h3&gt;
&lt;p&gt;The following deprecated APIs are removed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;rb_cData&lt;/code&gt; variable.&lt;/li&gt;
&lt;li&gt;&amp;quot;taintedness&amp;quot; and &amp;quot;trustedness&amp;quot; functions. [&lt;a href=&quot;https://bugs.ruby-lang.org/issues/16131&quot;&gt;Feature #16131&lt;/a&gt;]&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Standard libraries updates&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;The following default gem are updated.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TBD&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The following bundled gems are updated.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TBD&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The following default gems are now bundled gems. You need to add the following libraries to &lt;code&gt;Gemfile&lt;/code&gt; under the bundler environment.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TBD&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See &lt;a href=&quot;https://github.com/ruby/ruby/blob/v3_2_0_preview2/NEWS.md&quot;&gt;NEWS&lt;/a&gt;
or &lt;a href=&quot;https://github.com/ruby/ruby/compare/v3_1_0...v3_2_0_preview2&quot;&gt;commit logs&lt;/a&gt;
for more details.&lt;/p&gt;
&lt;p&gt;With those changes, &lt;a href=&quot;https://github.com/ruby/ruby/compare/v3_1_0...v3_2_0_preview2#file_bucket&quot;&gt;2393 files changed, 168931 insertions(+), 113411 deletions(-)&lt;/a&gt;
since Ruby 3.1.0!&lt;/p&gt;
&lt;h2&gt;Download&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0-preview2.tar.gz&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0-preview2.tar.gz&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 19816780
SHA1: 2106c77fc1600daf41ae137ecc4cf7937e27f67f
SHA256: 8a78fd7a221b86032f96f25c1d852954c94d193b9d21388a9b434e160b7ed891
SHA512: 5e9ddcb1a43cff449b0062cc716bfb80a9ebbb14a1b063f34005e2998c2c5033badb44e882232db9b2fceda9376f6615986e983511fda2575d60894752b605cc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0-preview2.tar.xz&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0-preview2.tar.xz&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 14578112
SHA1: 538b3ea4dc0d99f60f8bd6f71e65a56ceeb41c18
SHA256: 01fac0929dccdabc0686c1109da6c187897a401da9ff8851242befa92f7fd430
SHA512: 0f4cc919284fdfa1a42b6381760d1b3a4660da4b0fcdd2adf01ea04a425548b3c5ac090866915675db73964a1055090e54dd97cf4628cbb69403e541c71c28ff
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0-preview2.zip&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.2/ruby-3.2.0-preview2.zip&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 24150109
SHA1: 69ffffc52cad626166f73f21f25c29c9d73fe0e8
SHA256: 67f9ad3110be1975b3ce547c0a6e2c910dfc1945fd6e9bb1bd340568897c6554
SHA512: 1447e099e7a8da0ff206fda6f4e466640d6e86e9da8148315ab0154684b1fd22c02c0022b5a2f4d3fc00103b4e8cef8e35a770174921fd8c6abeca9ad41c1818
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;What is Ruby&lt;/h2&gt;
&lt;p&gt;Ruby was first developed by Matz (Yukihiro Matsumoto) in 1993,
and is now developed as Open Source. It runs on multiple platforms
and is used all over the world especially for web development.&lt;/p&gt;

&lt;p&gt;Posted by naruse on 9 Sep 2022&lt;/p&gt;</description>
      <pubDate>Fri, 09 Sep 2022 00:00:00 +0000</pubDate>
      <guid>https://www.ruby-lang.org/en/news/2022/09/09/ruby-3-2-0-preview2-released/</guid>
      <link>https://www.ruby-lang.org/en/news/2022/09/09/ruby-3-2-0-preview2-released/</link>
    </item>
    
    <item>
      <title>Ruby 3.1.2 Released</title>
      <description>&lt;p&gt;Ruby 3.1.2 has been released.&lt;/p&gt;
&lt;p&gt;This release includes security fixes.
Please check the topics below for details.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/en/news/2022/04/12/double-free-in-regexp-compilation-cve-2022-28738/&quot;&gt;CVE-2022-28738: Double free in Regexp compilation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/en/news/2022/04/12/buffer-overrun-in-string-to-float-cve-2022-28739/&quot;&gt;CVE-2022-28739: Buffer overrun in String-to-Float conversion&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See the &lt;a href=&quot;https://github.com/ruby/ruby/compare/v3_1_1...v3_1_2&quot;&gt;commit logs&lt;/a&gt; for further details.&lt;/p&gt;
&lt;h2&gt;Download&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.1/ruby-3.1.2.tar.gz&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.1/ruby-3.1.2.tar.gz&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 20553628
SHA1: b0d86c60457fdfbcb532cb681877a2f790f66b25
SHA256: 61843112389f02b735428b53bb64cf988ad9fb81858b8248e22e57336f24a83e
SHA512: 9155d1150398eaea7c9954af61ecf8dfdb885cfcf63a67bbcf6c92e282cd3ccac0ff9234d039286a9623297b65197441438c37f707e31d270ce2fe11e8f38a44
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.1/ruby-3.1.2.tar.xz&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.1/ruby-3.1.2.tar.xz&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 15101588
SHA1: 4c47f1dfeeb23fc55d65bcae50cf70c23bc28aa3
SHA256: ca10d017f8a1b6d247556622c841fc56b90c03b1803f87198da1e4fd3ec3bf2a
SHA512: 4a74e9efc6ea4b3eff4fec7534eb1fff4794d021531defc2e9937e53c6668db8ecdc0fff2bc23d5e6602d0df344a2caa85b31c5414309541e3d5313ec82b6e21
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.1/ruby-3.1.2.zip&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.1/ruby-3.1.2.zip&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 24837444
SHA1: 2e04f25dc73d7236fd4f4a170329793cd5e7dc38
SHA256: f2bb80de50bcc17c29c1995d87d657d461ede6a73e71db44c0cf77f65f32e9b6
SHA512: fa3ba25a051bd1e0ea1ee9fadfeef674f2f3217b1468ccb24975c4a19493115cdeb0015a78d391d08870947de95a8c7409f1c00fed51dc49d40cc3e6cda25bb7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Release Comment&lt;/h2&gt;
&lt;p&gt;Many committers, developers, and users who provided bug reports helped us make this release.
Thanks for their contributions.&lt;/p&gt;

&lt;p&gt;Posted by naruse and mame on 12 Apr 2022&lt;/p&gt;</description>
      <pubDate>Tue, 12 Apr 2022 12:00:00 +0000</pubDate>
      <guid>https://www.ruby-lang.org/en/news/2022/04/12/ruby-3-1-2-released/</guid>
      <link>https://www.ruby-lang.org/en/news/2022/04/12/ruby-3-1-2-released/</link>
    </item>
    
    <item>
      <title>Ruby 3.0.4 Released</title>
      <description>&lt;p&gt;Ruby 3.0.4 has been released.&lt;/p&gt;
&lt;p&gt;This release includes security fixes.
Please check the topics below for details.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/en/news/2022/04/12/double-free-in-regexp-compilation-cve-2022-28738/&quot;&gt;CVE-2022-28738: Double free in Regexp compilation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/en/news/2022/04/12/buffer-overrun-in-string-to-float-cve-2022-28739/&quot;&gt;CVE-2022-28739: Buffer overrun in String-to-Float conversion&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See the &lt;a href=&quot;https://github.com/ruby/ruby/compare/v3_0_3...v3_0_4&quot;&gt;commit logs&lt;/a&gt; for further details.&lt;/p&gt;
&lt;h2&gt;Download&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.4.tar.gz&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.4.tar.gz&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 21139486
SHA1: 9c995a7a5cc3300ea1adb734017545e19d0af3ca
SHA256: 70b47c207af04bce9acea262308fb42893d3e244f39a4abc586920a1c723722b
SHA512: 0dfded6826063c1b39bf625a6e13b46c109cb160c8648b78f0965f70e7c7a1a65f1c117fc8f2cf8bdb34d7cbf79fecf1f45d169d2323406d66ab27b18bde1d22
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.4.tar.xz&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.4.tar.xz&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 15830368
SHA1: 14461adca874d42a06a11851029dec877d9d28de
SHA256: 8e22fc7304520435522253210ed0aa9a50545f8f13c959fe01a05aea06bef2f0
SHA512: 53bf7dd403b0c68af9691882ad8ed7422c8d1f496627428fb4c3caf0b0313715524b744c5f453aced2d49e16e55f3f45b46b9a77aa3097dbfcae7caa0208194b
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.4.zip&quot;&gt;https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.4.zip&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SIZE: 25517085
SHA1: 6700ef07e3f7c4582d1b8004bfcce6cb4075b951
SHA256: d4ce9fd565a81ce138ea26382c8880f0456883b2539e18510e1d845293a095cb
SHA512: 2d97099161bcd17c5fdf1c70da6e062ae410186e7c1235e3b1df5bad6085e370bed3cf1ebd89ed9b5918cd386ae47d1f986a3c96c32f0c8a0b9375e56b66a1d9
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Release Comment&lt;/h2&gt;
&lt;p&gt;Many committers, developers, and users who provided bug reports helped us make this release.
Thanks for their contributions.&lt;/p&gt;

&lt;p&gt;Posted by nagachika and mame on 12 Apr 2022&lt;/p&gt;</description>
      <pubDate>Tue, 12 Apr 2022 12:00:00 +0000</pubDate>
      <guid>https://www.ruby-lang.org/en/news/2022/04/12/ruby-3-0-4-released/</guid>
      <link>https://www.ruby-lang.org/en/news/2022/04/12/ruby-3-0-4-released/</link>
    </item>
    
  </channel>
</rss>
