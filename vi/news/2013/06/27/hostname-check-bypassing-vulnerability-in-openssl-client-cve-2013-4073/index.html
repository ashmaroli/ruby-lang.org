<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    
    <title>Lỗi bỏ qua kiểm tra lai lịch hostname trong SSL client (CVE-2013-4073)</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta itemprop="image" content="https://www.ruby-lang.org/images/header-ruby-logo@2x.png">
    
    <meta name="description" content="">
    

    <link rel="stylesheet" type="text/css" href="/stylesheets/normalize.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/main.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/pygments.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/mobile.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css">
    <link href='https://fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic,700italic&amp;subset=latin,cyrillic,greek,vietnamese' rel='stylesheet' type='text/css'>
    <link rel="canonical" href="https://www.ruby-lang.org/vi/news/2013/06/27/hostname-check-bypassing-vulnerability-in-openssl-client-cve-2013-4073/">

    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    
    <link href="/vi/feeds/news.rss" rel="alternate" title="Tin mới (RSS)" type="application/rss+xml">


    <script type="text/javascript" src="/javascripts/jquery.min.js"></script>
    <script type="text/javascript" src="/javascripts/page.js"></script>
    
  </head>

  

  <body>
    <div id="header">
      <div id="header_content" class="container">
        <a href="/vi/">
          <h1>Ruby</h1>
          <h2>Người bạn tri kỉ của lập trình viên</h2>
        </a>

        <div class="site-links">
          

  <a href="/vi/" class="home">Home</a>

  <a href="/vi/downloads/">Downloads</a>

  <a href="/vi/documentation/">Tài liệu</a>

  <a href="/vi/libraries/">Thư viện</a>

  <a href="/vi/community/">Cộng đồng</a>

  <a href="/vi/news/">Tin tức</a>

  <a href="/vi/security/">Bảo mật</a>

  <a href="/vi/about/">Về Ruby</a>


          <a href="#" class="menu selected">Menu</a>
        </div>

        <div id="search-box">
          
<form id="search-form" action="https://www.google.com/cse">
  <table class="fieldset">
    <tr>
      <td>
        <input class="field" type="text" name="q" size="31" style="background: white url(//www.google.com/coop/intl/vi/images/google_custom_search_watermark.gif) left no-repeat" onfocus="this.style.background='white'" onblur="if (/^\s*$/.test(this.value)) this.style.background='white url(//www.google.com/coop/intl/vi/images/google_custom_search_watermark.gif) left no-repeat'"/>
      </td>
      <td>
        
        <input type="hidden" name="ie" value="UTF-8" />
        <input class="button" type="submit" name="sa" value="Tìm" />
      </td>
    </tr>
  </table>
</form>

        </div>
      </div>
    </div>

    <div id="page">
      


      <div id="main-wrapper" class="container">
        <div id="main">
          

<div id="content-wrapper">
  
<h1>Lỗi bỏ qua kiểm tra lai lịch hostname trong SSL client (CVE-2013-4073)</h1>



  <div id="content">
    <p class="post-info">Đăng bởi nahi vào 27 Jun 2013<br>
                         Dịch bởi Trung Lê</p>

    <p>Một lỗ hổng trong SSL client của Ruby giúp người tấn công ở vai
trò trung gian lừa SSL server với những giấy chứng nhận giả nhưng hợp lệ.</p>
<p>Lỗ này được gán với CVE-2013-4073.</p>
<h2>Tóm tắt</h2>
<p>SSL client của Ruby có kiểm tra chứng thực của hostname nhưng nó
không xử lý được các giấy chứng nhận có kèm null bytes.</p>
<h2>Chi tiết</h2>
<p><code>OpenSSL::SSL.verify_certificate_identity</code> triển khai chuẩn RFC2818 Kiểm tra
lai lịch của server cho SSL client của Ruby nhưng nó không xử lý đúng hostname
trong trường hợp subjectAltName X509 extension có kèm null bytes.</p>
<p>Mã hiện hữu trong <code>lib/openssl/ssl.rb</code> dùng <code>OpenSSL::X509::Extension#value</code>
để trích ra lai lịch từ subjectAltName.  <code>Extension#value</code> lệ thuộc vào hàm
OpenSSL <code>X509V3_EXT_print()</code> và đối với dNSName của subjectAltName nó sử dụng
hàm <code>sprintf()</code>, được biết là không an toàn khi xử lý null byte.  Kết quả là
<code>Extension#value</code> trả về 'www.ruby-lang.org' nếu subjectAltName là
'www.ruby-lang.org\0.example.com' và
<code>OpenSSL::SSL.verify_certificate_identity</code> nhận dạng sai giấy chứng nhận, nhầm
nó với một trong 'www.ruby-lang.org'.</p>
<p>Đối với một CA uy tín, một SSL client cho phép cấp giấy chứng nhận có giá trị
null byte trong subjectAltName, người tấn công ở xa có thể lấy được giấy chứng
nhận của 'www.ruby-lang.org\0.example.com' từ CA đó để đánh lừa
'www.ruby-lang.org' và tấn công với vai trò trung gian giữa SSL client và
server.</p>
<h2>Phiên bản bị ảnh hưởng</h2>
<ul>
<li>Tất cả phiên bản ruby 1.8 trước ruby 1.8.7 patchlevel 374</li>
<li>Tất cả phiên bản ruby 1.9 trước ruby 1.9.3 patchlevel 448</li>
<li>Tất cả phiên bản ruby 2.0 trước ruby 2.0.0 patchlevel 247</li>
<li>Trước trunk revision 41671</li>
</ul>
<h2>Giải pháp</h2>
<p>Tất cả người dùng khuyến khích nâng lên Ruby 2.0.0-p247, 1.9.3-p448
hay 1.8.7-p374.</p>
<h2>Công lao</h2>
<p>Lỗ hổng này được tìm thấy bởi William (B.J.) Snow Orvis và được sửa với giúp
đỡ của David Thiel từ iSEC Partners trên security@ruby-lang.org.</p>
<h2>Lịch sử</h2>
<ul>
<li>Được công bố vào 11:00:00 (UTC) ngày 27-06-2013</li>
</ul>

  </div>
</div>
<hr class="hidden-modern" />

<div id="sidebar-wrapper">
  <div id="sidebar">
    <div class="navigation">
      

      <h3><strong>Tin mới nhất</strong></h3>

      <ul class="menu">
        
        <li><a href="/vi/news/2017/03/22/ruby-2-4-1-released/">Ra mắt Ruby 2.4.1</a></li>
        
        <li><a href="/vi/news/2016/12/25/ruby-2-4-0-released/">Phát hành Ruby 2.4.0</a></li>
        
        <li><a href="/vi/news/2016/12/12/ruby-2-4-0-rc1-released/">Phát hành Ruby 2.4.0-rc1</a></li>
        
        <li><a href="/vi/news/2016/11/21/ruby-2-3-3-released/">Ruby ra mắt ấn bản 2.3.3</a></li>
        
        <li><a href="/vi/news/2016/11/15/ruby-2-3-2-released/">Ruby ra mắt ấn bản 2.3.2</a></li>
        
      </ul>
    </div>

    

    <h3>Syndicate</h3>
    <p><a href="/vi/feeds/news.rss">Tin mới (RSS)</a></p>
  </div>
</div>
<hr class="hidden-modern" />

        </div>
      </div>
    </div>

    <div class="container">
      <div id="footer">
        <div class="site-links">
          

  <a href="/vi/" class="home">Home</a>

  <a href="/vi/downloads/">Downloads</a>

  <a href="/vi/documentation/">Tài liệu</a>

  <a href="/vi/libraries/">Thư viện</a>

  <a href="/vi/community/">Cộng đồng</a>

  <a href="/vi/news/">Tin tức</a>

  <a href="/vi/security/">Bảo mật</a>

  <a href="/vi/about/">Về Ruby</a>


        </div>

        <p>

  This site in other languages:

<a href="/bg/">Български</a>,
<a href="/de/">Deutsch</a>,
<a href="/en/">English</a>,
<a href="/es/">Español</a>,
<a href="/fr/">Français</a>,
<a href="/id/">Bahasa Indonesia</a>,
<a href="/it/">Italiano</a>,
<a href="/ja/">日本語</a>,
<a href="/ko/">한국어</a>,
<a href="/pl/">polski</a>,
<a href="/pt/">Português</a>,
<a href="/ru/">Русский</a>,
<a href="/tr/">Türkçe</a>,
<a href="/vi/">Tiếng Việt</a>,
<a href="/zh_cn/">简体中文</a>,
<a href="/zh_tw/">繁體中文</a>.
</p>

        
  <p>Website này được tạo ra với Ruby sử dụng <a href="http://www.jekyllrb.com/">Jekyll</a>. Trang được bảo trì bởi các thành viên của cộng đồng Ruby. Xin đóng góp trên <a href="https://github.com/ruby/www.ruby-lang.org/">GitHub</a> hay liên lạc với <a href="mailto:webmaster@ruby-lang.org">webmaster</a> (bằng tiếng Anh) nếu có câu hỏi hoặc ý kiến phản hồi về trang này.</p>


      </div>
    </div>
  </body>
</html>
