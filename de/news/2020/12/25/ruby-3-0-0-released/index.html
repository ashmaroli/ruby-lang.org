<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    
    <title>Ruby 3.0.0 veröffentlicht</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta itemprop="image" content="https://www.ruby-lang.org/images/header-ruby-logo@2x.png">
    
    <meta name="description" content="">
    

    <link rel="stylesheet" type="text/css" href="/stylesheets/normalize.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/main.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/pygments.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/mobile.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css">
    <link href='https://fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic,700italic&amp;subset=latin,cyrillic,greek,vietnamese' rel='stylesheet' type='text/css'>
    <link rel="canonical" href="https://www.ruby-lang.org/de/news/2020/12/25/ruby-3-0-0-released/">

    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    
    <link href="/de/feeds/news.rss" rel="alternate" title="Aktuelle Neuigkeiten (RSS)" type="application/rss+xml">


    <script type="text/javascript" src="/javascripts/jquery.min.js"></script>
    <script type="text/javascript" src="/javascripts/page.js"></script>
    
  </head>

  

  <body>
    <div id="header">
      <div id="header_content" class="container">
        <a href="/de/">
          <h1>Ruby</h1>
          <h2>Der beste Freund eines Programmierers</h2>
        </a>

        <div class="site-links">
          

  <a href="/de/" class="home">Home</a>

  <a href="/de/downloads/">Downloads</a>

  <a href="/de/documentation/">Dokumentation</a>

  <a href="/de/libraries/">Bibliotheken</a>

  <a href="/de/community/">Community</a>

  <a href="/de/news/">Neuigkeiten</a>

  <a href="/de/security/">Sicherheit</a>

  <a href="/de/about/">Über Ruby</a>


          <a href="#" class="menu selected">Menu</a>
        </div>

        <div id="search-box">
          
<form id="search-form" action="https://www.google.com/cse">
  <table class="fieldset">
    <tr>
      <td>
        <input class="field" type="text" name="q" size="31" style="background: white url(//www.google.com/coop/intl/de/images/google_custom_search_watermark.gif) left no-repeat" onfocus="this.style.background='white'" onblur="if (/^\s*$/.test(this.value)) this.style.background='white url(//www.google.com/coop/intl/de/images/google_custom_search_watermark.gif) left no-repeat'"/>
      </td>
      <td>
        <input type="hidden" name="cx" value="008918821236166936739:xplclbf3sh0" />
        <input type="hidden" name="ie" value="UTF-8" />
        <input class="button" type="submit" name="sa" value="Suche" />
      </td>
    </tr>
  </table>
</form>

        </div>
      </div>
    </div>

    <div id="page">
      


      <div id="main-wrapper" class="container">
        <div id="main">
          

<div id="content-wrapper">
  
<h1>Ruby 3.0.0 veröffentlicht</h1>



  <div id="content">
    <p class="post-info">Geschrieben von naruse am 25.12.2020<br>
                         Übersetzt von Marvin Gülker</p>

    <p>Wir freuen uns, die Veröffentlichung von Ruby 3.0.0
bekannt geben zu können. Seit 2015 haben wir an Ruby 3 gearbeitet,
dessen Ziele sich so beschreiben lassen: Performanz, Nebenläufigkeit
und Typisierung. Mit besonderem Blick auf die Performanz hatte Matz
angekündigt: „Ruby 3 wird 3-mal so schnell sein wie Ruby 2“, ein Satz,
der auch bekannt ist als <a href="https://blog.heroku.com/ruby-3-by-3">Ruby 3x3</a>.</p>
<!-- raw HTML omitted -->
<p>Im <a href="https://github.com/mame/optcarrot">Optcarrot-Benchmark</a>, der die Performanz eines einzelnen
Threads anhand der Emulation eines NES-Spiels misst, erreichte Ruby 3
die dreifache Performanz von Ruby 2.0! <!-- raw HTML omitted -->Dies wurde mit der
unter <a href="https://benchmark-driver.github.io/hardware.html">benchmark-driver.github.io/hardware.html</a>
beschriebenen Umgebung mit
<a href="https://github.com/ruby/ruby/commit/8c510e4095">Commit 8c510e4095</a> als Ruby 3.0 gemessen.
Möglicherweise ist es in Ihrer Umgebung oder Ihrem Benchmark nicht drei mal so schnell.<!-- raw HTML omitted --></p>
<p>Ruby 3.0.0 erreicht diese Ziele durch die folgenden Maßnahmen:</p>
<ul>
<li>Performanz
<ul>
<li>MJIT</li>
</ul>
</li>
<li>Nebenläufigkeit
<ul>
<li>Ractor</li>
<li>Fiber Scheduler</li>
</ul>
</li>
<li>Typisierung (statische Analyse)
<ul>
<li>RBS</li>
<li>TypeProf</li>
</ul>
</li>
</ul>
<p>Zusätzlich zu den genannten Performanzverbesserungen führt Ruby 3.0
eine Reihe neuer Features ein, die nachfolgend beschrieben werden.</p>
<h2>Performanz</h2>
<blockquote>
<p>Als ich erstmals „Ruby 3x3“ in der Keynote einer Konferenz erwähnte,
sagten viele, auch Mitglieder des Konferenzteams, „Matz ist ein
Aufschneider“. Tatsächlich fühlte ich mich so. Aber wir taten es.
Ich bin gerührt zu sehen, dass es dem Core-Team gelungen ist, Ruby
3.0 drei mal so schnell zu machen wie Ruby 2.0 (zumindest in manchen
Benchmarks). --- Matz</p>
</blockquote>
<h3>MJIT</h3>
<p>Der MJIT hat viele Verbesserungen gesehen. Siehe die NEWS für Details.</p>
<p>Mit Ruby 3.0 ist es Aufgabe des JIT, in bestimmten, abgrenzbaren Umgebungen wie in
Spielen (<a href="https://benchmark-driver.github.io/benchmarks/optcarrot/commits.html#chart-1">Optcarrot</a>), KI (<a href="https://benchmark-driver.github.io/benchmarks/rubykon/commits.html">Rubykon</a>) oder sonstigen
Anwendungen, die den Großteil ihrer Zeit mit dem oft wiederholten Aufruf
einiger weniger Methoden verbringen, Performanzverbesserungen
herbeizuführen.</p>
<p>Obwohl Ruby 3.0 <a href="https://twitter.com/k0kubun/status/1256142302608650244">die Größe des ge-JIT-eten Codes signifikant
reduziert hat</a> ist der JIT immer noch nicht geeignet, komplexe
Umgebungen wie Rails zu optimieren, die sehr viel Zeit in vielen
verschiedenen Methoden verbringen und die daher unter Nichttreffern im
vom JIT verwendeten i-Cache leiden. Freuen Sie sich auf Ruby 3.1 für
weitere Verbesserungen in dieser Hinsicht.</p>
<h2>Nebenläufigkeit / Parallelismus</h2>
<blockquote>
<p>Wir leben in der Zeit von Mehrkernsystemen. Nebenläufigkeit ist sehr
wichtig. Mit Ractor, zusammen mit asynchronen Fibers, wird Ruby eine
wirklich nebenläufige Sprache. --- Matz</p>
</blockquote>
<h3>Ractor (experimentell)</h3>
<p>Ractor ist eine dem Aktorenmodell ähnliche Abstraktion für
Nebenläufigkeit, um die parallele Ausführung von Code bei
gleichzeitiger Beachtung von Thread-Sicherheit zu ermöglichen.</p>
<p>Sie können mehrere Ractors anlegen und sie parallel ausführen. Ractor
ermöglicht es, thread-sichere parallele Programme zu schreiben, weil
sich Ractors normale Objekte nicht teilen können. Die Kommunikation
zwischen Ractors wird stattdessen über Nachrichten abgewickelt.</p>
<p>Um das Teilen von Objekten zu begrenzen, führt Ractor einige
Beschränkungen für Rubys Syntax ein (die allerdings nicht greifen,
wenn nicht mehrere Ractors verwendet werden).</p>
<p>Die Spezifikation und Implementation sind noch nicht abgeschlossen und
können sich in Zukunft noch ändern, weshalb dieses Feature als
experimentell markiert ist und bei Erstellung eines Ractors mit
<code>Ractor.new</code> eine entsprechende Warnung über „experimentelle Features“
ausgegeben wird.</p>
<p>Das nachfolgende kleine Programm misst die Ausführungszeit der
bekannten Tak-Funktion für Benchmarks
(<a href="https://de.wikipedia.org/wiki/Tak_(Funktion)">Tak (Funktion) - Wikipedia</a>),
indem sie 4-mal sequentiell oder 4-mal parallel mit
Ractors ausgeführt wird.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="k">def</span> <span class="nf">tarai</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span> <span class="o">=</span>
  <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">y</span> <span class="p">?</span> <span class="n">y</span> <span class="p">:</span> <span class="n">tarai</span><span class="p">(</span><span class="n">tarai</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">),</span>
                     <span class="n">tarai</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">x</span><span class="p">),</span>
                     <span class="n">tarai</span><span class="p">(</span><span class="n">z</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
<span class="nb">require</span> <span class="s1">'benchmark'</span>
<span class="no">Benchmark</span><span class="p">.</span><span class="nf">bm</span> <span class="k">do</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span>
  <span class="c1"># sequential version</span>
  <span class="n">x</span><span class="p">.</span><span class="nf">report</span><span class="p">(</span><span class="s1">'seq'</span><span class="p">){</span> <span class="mi">4</span><span class="p">.</span><span class="nf">times</span><span class="p">{</span> <span class="n">tarai</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">}</span> <span class="p">}</span>

  <span class="c1"># parallel version</span>
  <span class="n">x</span><span class="p">.</span><span class="nf">report</span><span class="p">(</span><span class="s1">'par'</span><span class="p">){</span>
    <span class="mi">4</span><span class="p">.</span><span class="nf">times</span><span class="p">.</span><span class="nf">map</span> <span class="k">do</span>
      <span class="no">Ractor</span><span class="p">.</span><span class="nf">new</span> <span class="p">{</span> <span class="n">tarai</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
    <span class="k">end</span><span class="p">.</span><span class="nf">each</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:take</span><span class="p">)</span>
  <span class="p">}</span>
<span class="k">end</span>
</code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Benchmark result:
          user     system      total        real
seq  64.560736   0.001101  64.561837 ( 64.562194)
par  66.422010   0.015999  66.438009 ( 16.685797)
</code></pre></div></div>
<p>Dieses Ergebnis wurde gemessen auf Ubuntu 20.04, Intel(R) Core(TM)
i7-6700 (4 Kerne, 8 Hardware-Threads). Es zeigt, dass die parallele
Version 3,87-mal so schnell ist wie die sequentielle Version.</p>
<p>Siehe <a href="https://docs.ruby-lang.org/en/3.0/ractor_md.html">doc/ractor.md</a> für weitere Details.</p>
<h3>Fiber Scheduler</h3>
<p>Zur Unterbrechung blockender Operationen wird <code>Fiber#scheduler</code>
eingeführt. Das ermöglicht leichtgewichtige Nebenläufigkeit ohne
Änderungen bestehenden Codes. Schauen Sie sich für einen Überblick
über die Funktionsweise <a href="https://www.youtube.com/watch?v=Y29SSOS4UOc">„Warte nicht auf mich: Skalierbare
Nebenläufigkeit für Ruby 3“</a> an.</p>
<p>Momentan unterstützte Klassen/Methoden:</p>
<ul>
<li><code>Mutex#lock</code>, <code>Mutex#unlock</code>, <code>Mutex#sleep</code></li>
<li><code>ConditionVariable#wait</code></li>
<li><code>Queue#pop</code>, <code>SizedQueue#push</code></li>
<li><code>Thread#join</code></li>
<li><code>Kernel#sleep</code></li>
<li><code>Process.wait</code></li>
<li><code>IO#wait</code>, <code>IO#read</code>, <code>IO#write</code> und verwandte Methoden (z. B. <code>#wait_readable</code>, <code>#gets</code>, <code>#puts</code> usw.).</li>
<li><code>IO#select</code> wird <em>nicht unterstützt</em>.</li>
</ul>
<p>Das folgende Beispielprogramm führt mehrere HTTP-Anfragen nebenläufig
aus:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="nb">require</span> <span class="s1">'async'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>
<span class="nb">require</span> <span class="s1">'uri'</span>

<span class="no">Async</span> <span class="k">do</span>
  <span class="p">[</span><span class="s2">"ruby"</span><span class="p">,</span> <span class="s2">"rails"</span><span class="p">,</span> <span class="s2">"async"</span><span class="p">].</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">topic</span><span class="o">|</span>
    <span class="no">Async</span> <span class="k">do</span>
      <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="no">URI</span> <span class="s2">"https://www.google.com/search?q=</span><span class="si">#{</span><span class="n">topic</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>
<p>Es nutzt <a href="https://github.com/socketry/async">async</a>, das den Event-Loop bereitstellt. Dieser
Event-Loop benutzt die Hooks von <code>Fiber#scheduler</code>, um <code>Net::HTTP</code>
nicht-blockierend auszuführen. Andere Gems können diese Schnittstelle
benutzen, um nicht-blockierende Ausführung für Ruby anzubieten und
diese Gems können sogar mit anderen Implementierungen von Ruby (z. B.
JRuby, TruffleRuby) interoperabel sein, da diese in der Lage sein
sollten, dieselben nicht-blockierenden Hooks zu unterstützen.</p>
<h2>Statische Analyse</h2>
<blockquote>
<p>Die 2010er Jahre waren eine Zeit statisch typisierter
Programmiersprachen. Ruby verfolgt eine Zukunft mit statischer
Typenüberprüfung, aber ohne Typendeklarationen, und zwar durch
abstrakte Interpretation. RBS und TypeProf sind der erste Schritt in
diese Zukunft. Weitere werden folgen. --- Matz</p>
</blockquote>
<h3>RBS</h3>
<p>RBS ist eine Sprache zur Beschreibung der Typen von Ruby-Programmen.</p>
<p>Typprüfungsprogramme wie TypeProf und andere Werkzeuge mit
RBS-Unterstützung werden mithilfe von RBS-Definitionen viel besser in
der Lage sein, Ruby-Programme zu verstehen.</p>
<p>Mit RBS ist es nun möglich, die Definitionen von Klassen und Modulen
zu beschreiben: Methoden der Klasse, Instanzvariablen und ihre Typen,
Vererbungs- und Mix-In-Beziehungen.</p>
<p>RBS soll übliche Ruby-Idiome unterstützen und erlauben, komplexe Typen
wie Union Types, überladene Methoden und Generics zu schreiben. RBS
unterstützt mithilfe von Schnittstellen-Typen (<em>Interface Types</em>) auch
Duck Typing.</p>
<p>Ruby 3.0 enthält das Gem <code>rbs</code>, das das Parsing und die Verarbeitung
von in RBS geschriebenen Typendefinitionen ermöglicht.</p>
<p>Nachfolgend ein kleines Beispiel von RBS mit Klassen-, Modul- und
Konstantendefinitionen.</p>
<div class="language-rbs highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="rbs">module ChatApp
  VERSION: String
  class Channel
    attr_reader name: String
    attr_reader messages: Array[Message]
    attr_reader users: Array[User | Bot]              # `|` bedeutet Union Types, `User` or `Bot`.
    def initialize: (String) -&gt; void
    def post: (String, from: User | Bot) -&gt; Message   # Methodenüberladung wird unterstützt.
            | (File, from: User | Bot) -&gt; Message
  end
end
</code></pre></div></div>
<p>Siehe die <a href="https://github.com/ruby/rbs">README des rbs-Gems</a> für mehr Details.</p>
<h3>TypeProf</h3>
<p>TypeProf ist ein Typanalysewerkzeug, das mit Ruby ausgeliefert wird.</p>
<p>Momentan fungiert TypeProf als eine Art automatisierte Typerkennung.</p>
<p>Es liest einfachen (nicht typenannotierten) Ruby-Code, analysiert,
welche Methoden darin definiert werden und wie sie genutzt werden,
und generiert den Prototyp einer Typensignatur im RBS-Format.</p>
<p>Nachfolgend eine einfache Demonstration von TypeProf.</p>
<p>Beispielhafte Eingabe:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="c1"># test.rb</span>
<span class="k">class</span> <span class="nc">User</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="nb">name</span><span class="p">:,</span> <span class="n">age</span><span class="p">:)</span>
    <span class="vi">@name</span><span class="p">,</span> <span class="vi">@age</span> <span class="o">=</span> <span class="nb">name</span><span class="p">,</span> <span class="n">age</span>
  <span class="k">end</span>
  <span class="nb">attr_reader</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:age</span>
<span class="k">end</span>
<span class="no">User</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">name: </span><span class="s2">"John"</span><span class="p">,</span> <span class="ss">age: </span><span class="mi">20</span><span class="p">)</span>
</code></pre></div></div>
<p>Beispielhafte Ausgabe:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ typeprof test.rb
# Classes
class User
  attr_reader name : String
  attr_reader age : Integer
  def initialize : (name: String, age: Integer) -&gt; [String, Integer]
end
</code></pre></div></div>
<p>Sie können TypeProf ausführen, indem Sie die Eingabe in der Datei
„test.rb“ speichern und das Kommando „typeprof test.rb“ ausführen.</p>
<p>Sie können <a href="https://mame.github.io/typeprof-playground/#rb=%23+test.rb%0Aclass+User%0A++def+initialize%28name%3A%2C+age%3A%29%0A++++%40name%2C+%40age+%3D+name%2C+age%0A++end%0A++%0A++attr_reader+%3Aname%2C+%3Aage%0Aend%0A%0AUser.new%28name%3A+%22John%22%2C+age%3A+20%29&amp;rbs=">TypeProf online ausprobieren</a>.  (Dies führt TypeProf
serverseitig aus, daher bitten wir um Entschuldigung, falls es ausfällt).</p>
<p>Siehe <a href="https://github.com/ruby/typeprof/blob/master/doc/doc.md">die TypeProf-Dokumentation</a> und die <a href="https://github.com/ruby/typeprof/blob/master/doc/demo.md">Demos</a> für Details.</p>
<p>TypeProf ist experimentell und noch nicht recht fertig; es wird nur
eine Untermenge der Programmiersprache Ruby unterstützt und die
Erkennung von Typfehlern ist noch beschränkt. Es wird aber umfassend
weiterentwickelt, um die Sprachabdeckung, die Analyseperformanz und
die Benutzbarkeit zu verbessern. Jegliche Rückmeldungen sind sehr
willkommen.</p>
<h2>Sonstige erwähnenswerte neue Features</h2>
<ul>
<li>
<p>Einzeiliges Pattern Matching (Musterabgleich) wurde neu gestaltet (experimentell).</p>
<ul>
<li>
<p><code>=&gt;</code> wurde hinzugefügt. Es funktioniert wie eine rechtsseitige Zuweisung.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="mi">0</span> <span class="o">=&gt;</span> <span class="n">a</span>
<span class="nb">p</span> <span class="n">a</span> <span class="c1">#=&gt; 0</span>

<span class="p">{</span><span class="ss">b: </span><span class="mi">0</span><span class="p">,</span> <span class="ss">c: </span><span class="mi">1</span><span class="p">}</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="n">b</span><span class="p">:}</span>
<span class="nb">p</span> <span class="n">b</span> <span class="c1">#=&gt; 0</span>
</code></pre></div></div>
</li>
<li>
<p><code>in</code> wurde geändert, sodass es <code>true</code> oder <code>false</code> zurückgibt.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="c1"># version 3.0</span>
<span class="mi">0</span> <span class="k">in</span> <span class="mi">1</span> <span class="c1">#=&gt; false</span>

<span class="c1"># version 2.7</span>
<span class="mi">0</span> <span class="k">in</span> <span class="mi">1</span> <span class="c1">#=&gt; raise NoMatchingPatternError</span>
</code></pre></div></div>
</li>
</ul>
</li>
<li>
<p>Find-Idiom wird eingeführt. (experimentell)</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="k">case</span> <span class="p">[</span><span class="s2">"a"</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">,</span> <span class="s2">"c"</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">"d"</span><span class="p">,</span> <span class="s2">"e"</span><span class="p">,</span> <span class="s2">"f"</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="k">in</span> <span class="p">[</span><span class="o">*</span><span class="n">pre</span><span class="p">,</span> <span class="no">String</span> <span class="o">=&gt;</span> <span class="n">x</span><span class="p">,</span> <span class="no">String</span> <span class="o">=&gt;</span> <span class="n">y</span><span class="p">,</span> <span class="o">*</span><span class="n">post</span><span class="p">]</span>
  <span class="nb">p</span> <span class="n">pre</span>  <span class="c1">#=&gt; ["a", 1]</span>
  <span class="nb">p</span> <span class="n">x</span>    <span class="c1">#=&gt; "b"</span>
  <span class="nb">p</span> <span class="n">y</span>    <span class="c1">#=&gt; "c"</span>
  <span class="nb">p</span> <span class="n">post</span> <span class="c1">#=&gt; [2, "d", "e", "f", 3]</span>
<span class="k">end</span>
</code></pre></div></div>
</li>
<li>
<p>End-lose Methodendefinition wird eingeführt.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="k">def</span> <span class="nf">square</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span>
</code></pre></div></div>
</li>
<li>
<p><code>Hash#except</code> ist jetzt eingebaut.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="n">h</span> <span class="o">=</span> <span class="p">{</span> <span class="ss">a: </span><span class="mi">1</span><span class="p">,</span> <span class="ss">b: </span><span class="mi">2</span><span class="p">,</span> <span class="ss">c: </span><span class="mi">3</span> <span class="p">}</span>
<span class="nb">p</span> <span class="n">h</span><span class="p">.</span><span class="nf">except</span><span class="p">(</span><span class="ss">:a</span><span class="p">)</span> <span class="c1">#=&gt; {:b=&gt;2, :c=&gt;3}</span>
</code></pre></div></div>
</li>
<li>
<p>Memory View wird als experimentelles Feature eingeführt.</p>
<ul>
<li>Dabei handelt es sich um eine neue C-API, die den Austausch roher
Speicherabschnitte, wie ein numerisches Array oder Bitmap-Bilder,
zwischen Erweiterungsbibliotheken (<em>C extensions</em>) ermöglichen
soll. Die Erweiterungsbibliotheken können auch die Metadaten des
betroffenen Speicherabschnitts wie etwa Schnitt, Elementformat
usw. teilen. Mit dieser Art von Metadaten können
Erweiterungsbibliotheken sogar mehrdimensionale Arrays
ordnungsgemäß teilen. Dieses Feature orientiert sich an Pythons
Buffer Protocol.</li>
</ul>
</li>
</ul>
<h2>Performanzverbesserungen</h2>
<ul>
<li>Das Einfügen langer Code-Abschnitte in IRB ist 53-mal schneller als
es mit Ruby 2.7.0 der Fall war. Beispielsweise reduziert sich die
Zeit um <a href="https://gist.github.com/aycabta/30ab96334275bced5796f118c9220b0b">diesen Beispiel-Code</a>
einzufügen von 11,7 auf 0,22 Sekunden.</li>
</ul>
<!-- raw HTML omitted -->
<ul>
<li>
<p>Zu IRB wurde das Kommando <code>measure</code> hinzugefügt. Dieses erlaubt es, die Zeit einfacher Ausführungen zu messen.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>irb(main):001:0&gt; 3
=&gt; 3
irb(main):002:0&gt; measure
TIME is added.
=&gt; nil
irb(main):003:0&gt; 3
processing time: 0.000058s
=&gt; 3
irb(main):004:0&gt; measure :off
=&gt; nil
irb(main):005:0&gt; 3
=&gt; 3
</code></pre></div></div>
</li>
</ul>
<h2>Sonstige erwähnenswerte Änderungen seit 2.7</h2>
<ul>
<li>
<p>Schlüsselwortargumente werden von anderen Argumenten abgetrennt.</p>
<ul>
<li>
<p>Grundsätzlich wird Code, der unter Ruby 2.7 eine Warnung erzeugte,
nicht mehr funktionieren. Siehe dieses
<a href="https://www.ruby-lang.org/de/news/2019/12/12/separation-of-positional-and-keyword-arguments-in-ruby-3-0/">Dokument</a>
für weitere Details.</p>
</li>
<li>
<p>Übrigens unterstützt Argumentweiterleitung jetzt auch vorangehende
Argumente.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="ruby"><span class="k">def</span> <span class="nf">method_missing</span><span class="p">(</span><span class="n">meth</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
  <span class="nb">send</span><span class="p">(</span><span class="ss">:"do_</span><span class="si">#{</span> <span class="n">meth</span> <span class="si">}</span><span class="ss">"</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div></div>
</li>
</ul>
</li>
<li>
<p>Musterabgleiche (<code>case</code>/<code>in</code>) sind nicht länger experimentell.</p>
<ul>
<li>Siehe die
<a href="https://docs.ruby-lang.org/en/3.0/syntax/pattern_matching_rdoc.html">Pattern-Matching-Dokumentation</a>
für weitere Informationen.</li>
</ul>
</li>
<li>
<p>Die Besonderheiten von <code>$SAFE</code> wurden vollständig entfernt.
Es handelt sich nun um eine normale globale Variable.</p>
</li>
<li>
<p>In Ruby 2.5 war die Reihenfolge der Backtraces umgekehrt worden.
Diese Änderung ist rückgängig gemacht worden, d. h. die
Fehlermeldung und die Nummer der Zeile, in der der Fehler auftrat,
werden zuerst und die Aufrufer danach ausgegeben.</p>
</li>
<li>
<p>Einige Standardbibliotheken wurden aktualisiert.</p>
<ul>
<li>RubyGems 3.2.3</li>
<li>Bundler 2.2.3</li>
<li>IRB 1.3.0</li>
<li>Reline 0.2.0</li>
<li>Psych 3.3.0</li>
<li>JSON 2.5.1</li>
<li>BigDecimal 3.0.0</li>
<li>CSV 3.1.9</li>
<li>Date 3.1.0</li>
<li>Digest 3.0.0</li>
<li>Fiddle 1.0.6</li>
<li>StringIO 3.0.0</li>
<li>StringScanner 3.0.0</li>
<li>etc.</li>
</ul>
</li>
<li>
<p>Die folgenden Bibliotheken werden nicht länger mitgeliefert.
Installieren Sie die entsprechenden Gems, um diese Features zu
nutzen.</p>
<ul>
<li>sdbm</li>
<li>webrick</li>
<li>net-telnet</li>
<li>xmlrpc</li>
</ul>
</li>
<li>
<p>Die folgenden Standardgems sind jetzt mitgelieferte Gems.</p>
<ul>
<li>rexml</li>
<li>rss</li>
</ul>
</li>
<li>
<p>Die folgenden zur stdlib gehörenden Dateien sind nun Standardgems
und werden auf rubygems.org veröffentlicht:</p>
<ul>
<li>English</li>
<li>abbrev</li>
<li>base64</li>
<li>drb</li>
<li>debug</li>
<li>erb</li>
<li>find</li>
<li>net-ftp</li>
<li>net-http</li>
<li>net-imap</li>
<li>net-protocol</li>
<li>open-uri</li>
<li>optparse</li>
<li>pp</li>
<li>prettyprint</li>
<li>resolv-replace</li>
<li>resolv</li>
<li>rinda</li>
<li>set</li>
<li>securerandom</li>
<li>shellwords</li>
<li>tempfile</li>
<li>tmpdir</li>
<li>time</li>
<li>tsort</li>
<li>un</li>
<li>weakref</li>
<li>digest</li>
<li>io-nonblock</li>
<li>io-wait</li>
<li>nkf</li>
<li>pathname</li>
<li>syslog</li>
<li>win32ole</li>
</ul>
</li>
</ul>
<p>Siehe die <a href="https://github.com/ruby/ruby/blob/v3_0_0/NEWS.md">NEWS</a>
oder die <a href="https://github.com/ruby/ruby/compare/v2_7_0...v3_0_0">Commit-Logs</a>
für weitere Informationen.</p>
<p>Mit diesen Änderungen wurden <a href="https://github.com/ruby/ruby/compare/v2_7_0...v3_0_0#file_bucket">4028 Dateien geändert, 200058 Einfügungen(+), 154063 Löschungen(-)</a>
seit Ruby 2.7.0!</p>
<blockquote>
<p>Ruby 3.0 ist ein Meilenstein. Die Sprache entwickelt sich weiter und bewahrt doch die Kompatibilität. Aber es ist nicht vorbei. Ruby wird weiter fortschreiten und wird noch besser werden. Behalten Sie uns im Auge! --- Matz</p>
</blockquote>
<p>Frohe Weihnachten, schöne Ferien, und viel Spaß bei der Programmierung mit Ruby 3.0!</p>
<h2>Download</h2>
<ul>
<li>
<p><a href="https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.0.tar.gz">https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.0.tar.gz</a></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SIZE: 19539509
SHA1: 233873708c1ce9fdc295e0ef1c25e64f9b98b062
SHA256: a13ed141a1c18eb967aac1e33f4d6ad5f21be1ac543c344e0d6feeee54af8e28
SHA512: e62f4f63dc12cff424e8a09adc06477e1fa1ee2a9b2b6e28ca22fd52a211e8b8891c0045d47935014a83f2df2d6fc7c8a4fd87f01e63c585afc5ef753e1dd1c1
</code></pre></div></div>
</li>
<li>
<p><a href="https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.0.tar.xz">https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.0.tar.xz</a></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SIZE: 14374176
SHA1: c142899d70a1326c5a71311b17168f98c15e5d89
SHA256: 68bfaeef027b6ccd0032504a68ae69721a70e97d921ff328c0c8836c798f6cb1
SHA512: 2a23c2894e62e24bb20cec6b2a016b66d7df05083668726b6f70af8338211cfec417aa3624290d1f5ccd130f65ee7b52b5db7d428abc4a9460459c9a5dd1a450
</code></pre></div></div>
</li>
<li>
<p><a href="https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.0.zip">https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.0.zip</a></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SIZE: 23862057
SHA1: 2a9629102d71c7fe7f31a8c91f64e570a40d093c
SHA256: a5e4fa7dc5434a7259e9a29527eeea2c99eeb5e82708f66bb07731233bc860f4
SHA512: e5bf742309d79f05ec1bd1861106f4b103e4819ca2b92a826423ff451465b49573a917cb893d43a98852435966323e2820a4b9f9377f36cf771b8c658f80fa5b
</code></pre></div></div>
</li>
</ul>
<h2>Was ist Ruby</h2>
<p>Ruby wurde zunächst 1993 von Matz (Yukihiro Matsumoto) entwickelt und
ist heute quelloffene Software. Es läuft auf mehreren Plattformen und
wird weltweit genutzt, insbesondere für die Webentwicklung.</p>

  </div>
</div>
<hr class="hidden-modern" />

<div id="sidebar-wrapper">
  <div id="sidebar">
    <div class="navigation">
      

      <h3><strong>Aktuelle Neuigkeiten</strong></h3>

      <ul class="menu">
        
        <li><a href="/de/news/2020/12/25/ruby-3-0-0-released/">Ruby 3.0.0 veröffentlicht</a></li>
        
        <li><a href="/de/news/2020/12/20/ruby-3-0-0-rc1-released/">Ruby 3.0.0 RC1 veröffentlicht</a></li>
        
        <li><a href="/de/news/2020/12/08/ruby-3-0-0-preview2-released/">Ruby 3.0.0 Preview 2 veröffentlicht</a></li>
        
        <li><a href="/de/news/2020/10/02/ruby-2-7-2-released/">Ruby 2.7.2 veröffentlicht</a></li>
        
        <li><a href="/de/news/2020/09/29/http-request-smuggling-cve-2020-25613/">CVE-2020-25613: Sicherheitslücke: Schmuggeln von Requests in WEBrick möglich</a></li>
        
      </ul>
    </div>

    

    <h3>Syndication</h3>
    <p><a href="/de/feeds/news.rss">Aktuelle Neuigkeiten (RSS)</a></p>
  </div>
</div>
<hr class="hidden-modern" />

        </div>
      </div>
    </div>

    <div class="container">
      <div id="footer">
        <div class="site-links">
          

  <a href="/de/" class="home">Home</a>

  <a href="/de/downloads/">Downloads</a>

  <a href="/de/documentation/">Dokumentation</a>

  <a href="/de/libraries/">Bibliotheken</a>

  <a href="/de/community/">Community</a>

  <a href="/de/news/">Neuigkeiten</a>

  <a href="/de/security/">Sicherheit</a>

  <a href="/de/about/">Über Ruby</a>


        </div>

        <p>

  Diese Website in anderen Sprachen:

<a href="/bg/">Български</a>,
<a href="/de/">Deutsch</a>,
<a href="/en/">English</a>,
<a href="/es/">Español</a>,
<a href="/fr/">Français</a>,
<a href="/id/">Bahasa Indonesia</a>,
<a href="/it/">Italiano</a>,
<a href="/ja/">日本語</a>,
<a href="/ko/">한국어</a>,
<a href="/pl/">polski</a>,
<a href="/pt/">Português</a>,
<a href="/ru/">Русский</a>,
<a href="/tr/">Türkçe</a>,
<a href="/vi/">Tiếng Việt</a>,
<a href="/zh_cn/">简体中文</a>,
<a href="/zh_tw/">繁體中文</a>.
</p>

        
  <p><a href="/de/about/website/">Diese Website</a> wird mit Stolz von Mitgliedern der Ruby-Community gepflegt.</p>


      </div>
    </div>
  </body>
</html>
